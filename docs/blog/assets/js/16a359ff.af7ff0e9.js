"use strict";(self.webpackChunksea_ql_blog=self.webpackChunksea_ql_blog||[]).push([[2888],{5680:(e,a,t)=>{t.d(a,{xA:()=>m,yg:()=>u});var r=t(6540);function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){n(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,r,n=function(e,a){if(null==e)return{};var t,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var p=r.createContext({}),s=function(e){var a=r.useContext(p),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},m=function(e){var a=s(e.components);return r.createElement(p.Provider,{value:a},e.children)},g="mdxType",y={inlineCode:"code",wrapper:function(e){var a=e.children;return r.createElement(r.Fragment,{},a)}},h=r.forwardRef((function(e,a){var t=e.components,n=e.mdxType,l=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),g=s(t),h=n,u=g["".concat(p,".").concat(h)]||g[h]||y[h]||l;return t?r.createElement(u,i(i({ref:a},m),{},{components:t})):r.createElement(u,i({ref:a},m))}));function u(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var l=t.length,i=new Array(l);i[0]=h;var o={};for(var p in a)hasOwnProperty.call(a,p)&&(o[p]=a[p]);o.originalType=e,o[g]="string"==typeof e?e:n,i[1]=o;for(var s=2;s<l;s++)i[s]=t[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}h.displayName="MDXCreateElement"},8930:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>p,contentTitle:()=>i,default:()=>y,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var r=t(8168),n=(t(6540),t(5680));const l={slug:"2022-11-10-whats-new-in-0.10.x",title:"SeaORM 0.10.x \u7684\u65b0\u7279\u6027",author:"SeaQL Team",author_title:"Chris Tsang",author_url:"https://github.com/SeaQL",author_image_url:"https://www.sea-ql.org/SeaORM/img/SeaQL.png",tags:["news"]},i=void 0,o={permalink:"/blog/2022-11-10-whats-new-in-0.10.x",editUrl:"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-11-10-whats-new-in-0.10.x.md",source:"@site/blog/2022-11-10-whats-new-in-0.10.x.md",title:"SeaORM 0.10.x \u7684\u65b0\u7279\u6027",description:"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u53d1\u5e03 SeaORM 0.10.0!",date:"2022-11-10T00:00:00.000Z",formattedDate:"November 10, 2022",tags:[{label:"news",permalink:"/blog/tags/news"}],readingTime:8.485,hasTruncateMarker:!1,authors:[{name:"SeaQL Team",title:"Chris Tsang",url:"https://github.com/SeaQL",imageURL:"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],frontMatter:{slug:"2022-11-10-whats-new-in-0.10.x",title:"SeaORM 0.10.x \u7684\u65b0\u7279\u6027",author:"SeaQL Team",author_title:"Chris Tsang",author_url:"https://github.com/SeaQL",author_image_url:"https://www.sea-ql.org/SeaORM/img/SeaQL.png",tags:["news"]},prevItem:{title:"Seaography 0.3.0 \u7684\u65b0\u7279\u6027",permalink:"/blog/2022-12-02-whats-new-in-seaography-0.3.0"},nextItem:{title:"\u5728 crates.io \u4e2d\u5207\u6362\u5806\u53e0\u4e0b\u8f7d\u56fe",permalink:"/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io"}},p={authorsImageUrls:[void 0]},s=[{value:"Rust 1.65",id:"rust-165",level:2},{value:"\u5728 Postgres \u4e2d\u652f\u6301\u6570\u7ec4\u6570\u636e\u7c7b\u578b",id:"\u5728-postgres-\u4e2d\u652f\u6301\u6570\u7ec4\u6570\u636e\u7c7b\u578b",level:2},{value:"\u66f4\u597d\u7684\u9519\u8bef\u7c7b\u578b",id:"\u66f4\u597d\u7684\u9519\u8bef\u7c7b\u578b",level:2},{value:"\u5728\u4efb\u4f55 Postgres \u6a21\u5f0f\u4e0a\u8fd0\u884c\u8fc1\u79fb",id:"\u5728\u4efb\u4f55-postgres-\u6a21\u5f0f\u4e0a\u8fd0\u884c\u8fc1\u79fb",level:2},{value:"\u7834\u574f\u6027\u66f4\u6539",id:"\u7834\u574f\u6027\u66f4\u6539",level:2},{value:"SeaORM \u589e\u5f3a\u529f\u80fd",id:"seaorm-\u589e\u5f3a\u529f\u80fd",level:2},{value:"CLI \u589e\u5f3a\u529f\u80fd",id:"cli-\u589e\u5f3a\u529f\u80fd",level:2},{value:"\u96c6\u6210\u793a\u4f8b",id:"\u96c6\u6210\u793a\u4f8b",level:2},{value:"\u8d5e\u52a9",id:"\u8d5e\u52a9",level:2},{value:"\u793e\u533a",id:"\u793e\u533a",level:2}],m={toc:s},g="wrapper";function y(e){let{components:a,...t}=e;return(0,n.yg)(g,(0,r.A)({},m,t,{components:a,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u53d1\u5e03 SeaORM ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/releases/tag/0.10.0"},(0,n.yg)("inlineCode",{parentName:"a"},"0.10.0")),"!"),(0,n.yg)("h2",{id:"rust-165"},"Rust 1.65"),(0,n.yg)("p",null,"\u671f\u5f85\u5df2\u4e45\u7684 Rust ",(0,n.yg)("a",{parentName:"p",href:"https://blog.rust-lang.org/2022/11/03/Rust-1.65.0.html"},"1.65")," \u5df2\u7ecf\u53d1\u5e03\uff01\u6cdb\u578b\u5173\u8054\u7c7b\u578b (GATs) \u5fc5\u5b9a\u662f\u6700\u65b0\u7a33\u5065\u5316\u7684\u70ed\u70b9\u529f\u80fd\u3002"),(0,n.yg)("p",null,"GAT \u5bf9 SeaORM \u6709\u4ec0\u4e48\u7528\u5462\uff1f\u8ba9\u6211\u4eec\u770b\u770b\u4ee5\u4e0b\u5185\u5bb9\uff1a"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},"trait StreamTrait<'a>: Send + Sync {\n    type Stream: Stream<Item = Result<QueryResult, DbErr>> + Send;\n\n    fn stream(\n        &'a self,\n        stmt: Statement,\n    ) -> Pin<Box<dyn Future<Output = Result<Self::Stream, DbErr>> + 'a + Send>>;\n}\n")),(0,n.yg)("p",null,"\u4f60\u53ef\u4ee5\u770b\u5230 ",(0,n.yg)("inlineCode",{parentName:"p"},"Future")," \u6709\u4e00\u4e2a\u751f\u547d\u5468\u671f ",(0,n.yg)("inlineCode",{parentName:"p"},"'a"),"\uff0c\u4f46\u4f5c\u4e3a\u526f\u4f5c\u7528\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u548c ",(0,n.yg)("inlineCode",{parentName:"p"},"StreamTrait")," \u7ed1\u5b9a\u5728\u4e86\u4e00\u8d77\u3002"),(0,n.yg)("p",null,"\u6709\u4e86 GAT\uff0c\u751f\u547d\u5468\u671f\u53ef\u4ee5\u88ab\u7701\u7565\uff1a"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},"trait StreamTrait: Send + Sync {\n    type Stream<'a>: Stream<Item = Result<QueryResult, DbErr>> + Send\n    where\n        Self: 'a;\n\n    fn stream<'a>(\n        &'a self,\n        stmt: Statement,\n    ) -> Pin<Box<dyn Future<Output = Result<Self::Stream<'a>, DbErr>> + 'a + Send>>;\n}\n")),(0,n.yg)("p",null,"\u5728\u5b9e\u8df5\u4e2d\u5b83\u5e26\u6765\u4e86\u4ec0\u4e48\u597d\u5904\uff1f\u8003\u8651\u4f60\u6709\u4e00\u4e2a\u63a5\u53d7\u6cdb\u578b ",(0,n.yg)("inlineCode",{parentName:"p"},"ConnectionTrait")," \u5e76\u8c03\u7528 ",(0,n.yg)("inlineCode",{parentName:"p"},"stream()")," \u7684\u51fd\u6570\uff1a"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},"async fn processor<'a, C>(conn: &'a C) -> Result<...>\nwhere C: ConnectionTrait + StreamTrait<'a> {...}\n")),(0,n.yg)("p",null,"\u8fde\u63a5\u7684\u751f\u547d\u5468\u671f\u548c\u6d41\u7ed1\u5b9a\u5728\u4e00\u8d77\u53ef\u80fd\u4f1a\u8ba9\u7f16\u8bd1\u5668\u611f\u5230\u56f0\u60d1\uff0c\u7279\u522b\u662f\u5728\u4f60\u8fdb\u884c\u4e8b\u52a1\u65f6\uff1a"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},"async fn do_transaction<C>(conn: &C) -> Result<...>\nwhere C: ConnectionTrait + TransactionTrait\n{\n    let txn = conn.begin().await?;\n    processor(&txn).await?;\n    txn.commit().await?;\n}\n")),(0,n.yg)("p",null,"\u4e0d\u8fc7\u73b0\u5728\uff0c\u968f\u7740\u6d41\u7684\u751f\u547d\u5468\u671f\u88ab\u7701\u7565\uff0c\u5728\u4e8b\u52a1\u5185\u90e8\u5904\u7406\u6d41\u8981\u5bb9\u6613\u5f97\u591a\u56e0\u4e3a\u4e24\u4e2a\u751f\u547d\u5468\u671f\u73b0\u5728\u662f\u72ec\u7acb\u7684\uff0c\u6d41\u7684\u751f\u547d\u5468\u671f\u662f\u9690\u5f0f\u7684\uff1a"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},"async fn processor<C>(conn: &C) -> Result<...>\nwhere C: ConnectionTrait + StreamTrait {...}\n")),(0,n.yg)("p",null,"\u975e\u5e38\u611f\u8c22 ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/nappa85"},"@nappa85")," \u7684 ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1161"},"\u8d21\u732e"),"\u3002"),(0,n.yg)("hr",null),(0,n.yg)("p",null,"\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a"),(0,n.yg)("h2",{id:"\u5728-postgres-\u4e2d\u652f\u6301\u6570\u7ec4\u6570\u636e\u7c7b\u578b"},"\u5728 Postgres \u4e2d\u652f\u6301\u6570\u7ec4\u6570\u636e\u7c7b\u578b"),(0,n.yg)("p",null,"[",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1132"},"#1132"),"] \u652f\u6301 ",(0,n.yg)("inlineCode",{parentName:"p"},"Vec<T>")," \u7c7b\u578b\u7684\u6a21\u578b\u5b57\u6bb5\u3002 (by ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/hf29h8sh321"},"@hf29h8sh321"),", ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/ikrivosheev"},"@ikrivosheev"),", ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/tyt2y3"},"@tyt2y3"),", ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("p",null,"\u4f60\u53ef\u4ee5\u5728\u6a21\u578b\u4e2d\u5b9a\u4e49\u4e00\u4e2a SeaORM \u5df2\u652f\u6301\u7684\u7c7b\u578b\u5411\u91cf\u3002"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},'#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\n#[sea_orm(table_name = "collection")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub integers: Vec<i32>,\n    pub integers_opt: Option<Vec<i32>>,\n    pub floats: Vec<f32>,\n    pub doubles: Vec<f64>,\n    pub strings: Vec<String>,\n}\n')),(0,n.yg)("p",null,"\u8bf7\u8bb0\u4f4f\uff0c\u4f60\u9700\u8981\u542f\u7528 ",(0,n.yg)("inlineCode",{parentName:"p"},"postgres-array")," \u529f\u80fd\uff0c\u5e76\u4e14\u8fd9\u662f\u53ea\u5728 Postgres \u4e2d\u7684\u529f\u80fd\u3002"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-toml"},'sea-orm = { version = "0.10", features = ["postgres-array", ...] }\n')),(0,n.yg)("h2",{id:"\u66f4\u597d\u7684\u9519\u8bef\u7c7b\u578b"},"\u66f4\u597d\u7684\u9519\u8bef\u7c7b\u578b"),(0,n.yg)("p",null,"[",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/750"},"#750"),", ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1002"},"#1002"),"] \u5e26\u6709\u53ef\u89e3\u6790\u7684\u6570\u636e\u5e93\u7279\u5b9a\u9519\u8bef\u7684\u9519\u8bef\u7c7b\u578b\u3002 (by ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/mohs8421"},"@mohs8421"),", ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/tyt2y3"},"@tyt2y3"),")"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},'let mud_cake = cake::ActiveModel {\n    id: Set(1),\n    name: Set("\u53d1\u9709\u7684\u86cb\u7cd5".to_owned()),\n    price: Set(dec!(10.25)),\n    gluten_free: Set(false),\n    serial: Set(Uuid::new_v4()),\n    bakery_id: Set(None),\n};\n\n// \u63d2\u5165\u4e00\u4e2a\u4e3b\u952e\uff08`id` \u5217\uff09\u8bbe\u7f6e\u4e3a 1 \u7684\u65b0\u86cb\u7cd5\u3002\nlet cake = mud_cake.save(db).await.expect("\u63d2\u5165\u86cb\u7cd5\u5931\u8d25");\n\n// \u518d\u6b21\u63d2\u5165\u76f8\u540c\u7684\u884c\u5e76\u5931\u8d25\n// \u56e0\u4e3a\u6bcf\u884c\u7684\u4e3b\u952e\u5e94\u8be5\u662f\u552f\u4e00\u7684\u3002\nlet error: DbErr = cake\n    .into_active_model()\n    .insert(db)\n    .await\n    .expect_err("\u63d2\u5165\u5e94\u8be5\u56e0\u4e3b\u952e\u91cd\u590d\u800c\u5931\u8d25");\n\nmatch error {\n    DbErr::Exec(RuntimeErr::SqlxError(error)) => match error {\n        Error::Database(e) => {\n            // \u6211\u4eec\u68c0\u67e5\u6570\u636e\u5e93\u629b\u51fa\u7684\u9519\u8bef\u4ee3\u7801\uff08\u6b64\u60c5\u51b5\u4e3a MySQL\uff09\uff0c\n            // `23000` \u610f\u5473\u7740 `ER_DUP_KEY`\uff1a\u8868\u4e2d\u6709\u91cd\u590d\u952e\u3002\n            assert_eq!(e.code().unwrap(), "23000");\n        }\n        _ => panic!("\u610f\u5916\u7684 sqlx \u9519\u8bef\u79cd\u7c7b"),\n    },\n    _ => panic!("\u610f\u5916\u7684\u9519\u8bef\u79cd\u7c7b"),\n}\n')),(0,n.yg)("h2",{id:"\u5728\u4efb\u4f55-postgres-\u6a21\u5f0f\u4e0a\u8fd0\u884c\u8fc1\u79fb"},"\u5728\u4efb\u4f55 Postgres \u6a21\u5f0f\u4e0a\u8fd0\u884c\u8fc1\u79fb"),(0,n.yg)("p",null,"[",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1056"},"#1056"),"] \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fc1\u79fb\u5c06\u5728 ",(0,n.yg)("inlineCode",{parentName:"p"},"public")," \u6a21\u5f0f\u4e0a\u8fd0\u884c\uff0c\u73b0\u5728\u4f60\u53ef\u4ee5\u5728 CLI \u6216\u7a0b\u5e8f\u4e2d\u8986\u76d6\u5b83\u3002 (by ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/MattGson"},"@MattGson"),", ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/nahuakang"},"@nahuakang"),", ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("p",null,"\u5bf9\u4e8e CLI\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,n.yg)("inlineCode",{parentName:"p"},"-s")," / ",(0,n.yg)("inlineCode",{parentName:"p"},"--database_schema")," \u9009\u9879\u6307\u5b9a\u76ee\u6807\u6a21\u5f0f\uff1a"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"\u901a\u8fc7 sea-orm-cli: ",(0,n.yg)("inlineCode",{parentName:"li"},"sea-orm-cli migrate -u postgres://root:root@localhost/database -s my_schema")),(0,n.yg)("li",{parentName:"ul"},"\u901a\u8fc7 SeaORM \u8fc1\u79fb\u5668: ",(0,n.yg)("inlineCode",{parentName:"li"},"cargo run -- -u postgres://root:root@localhost/database -s my_schema"))),(0,n.yg)("p",null,"\u4f60\u4e5f\u53ef\u4ee5\u5728\u7a0b\u5e8f\u4e2d\u5728\u76ee\u6807\u6a21\u5f0f\u4e0a\u8fd0\u884c\u8fc1\u79fb\uff1a"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},'let connect_options = ConnectOptions::new("postgres://root:root@localhost/database".into())\n    .set_schema_search_path("my_schema".into()) // \u8986\u76d6\u9ed8\u8ba4\u6a21\u5f0f\n    .to_owned();\n\nlet db = Database::connect(connect_options).await?;\n\nmigration::Migrator::up(&db, None).await?;\n')),(0,n.yg)("h2",{id:"\u7834\u574f\u6027\u66f4\u6539"},"\u7834\u574f\u6027\u66f4\u6539"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"[",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/789"},"#789"),"] \u5728 ",(0,n.yg)("inlineCode",{parentName:"p"},"PaginatorTrait")," \u4e2d\u7528 ",(0,n.yg)("inlineCode",{parentName:"p"},"u64")," \u66ff\u6362 ",(0,n.yg)("inlineCode",{parentName:"p"},"usize")," (by ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/liberwang1013"},"@liberwang1013"),")")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"[",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/pull/1002"},"#1002"),"] ",(0,n.yg)("inlineCode",{parentName:"p"},"DbErr")," \u7684\u7c7b\u578b\u7b7e\u540d\u56e0\u8be5 PR \u800c\u66f4\u6539 (by ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/mohs8421"},"@mohs8421"),", ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/tyt2y3"},"@tyt2y3"),")")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("inlineCode",{parentName:"p"},"ColumnType::Enum")," \u7ed3\u6784\u66f4\u6539\uff1a"))),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},"enum ColumnType {\n    // \u4e4b\u524d\n    Enum(String, Vec<String>)\n\n    // \u73b0\u5728\n    Enum {\n        /// \u679a\u4e3e\u7684\u540d\u79f0\n        name: DynIden,\n        /// \u679a\u4e3e\u7684\u53d8\u4f53\n        variants: Vec<DynIden>,\n    }\n    ...\n}\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"\u5411 ",(0,n.yg)("inlineCode",{parentName:"li"},"ValueType")," \u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u65b9\u6cd5 ",(0,n.yg)("inlineCode",{parentName:"li"},"array_type"),"\uff1a")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},"impl sea_orm::sea_query::ValueType for MyType {\n    fn array_type() -> sea_orm::sea_query::ArrayType {\n        sea_orm::sea_query::ArrayType::TypeName\n    }\n    ...\n}\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("inlineCode",{parentName:"li"},"ActiveEnum::name()")," \u8fd4\u56de\u7c7b\u578b\u66f4\u6539\u4e3a ",(0,n.yg)("inlineCode",{parentName:"li"},"DynIden"),"\uff1a")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-rust"},'#[derive(Debug, Iden)]\n#[iden = "category"]\npub struct CategoryEnum;\n\nimpl ActiveEnum for Category {\n    // \u4e4b\u524d\n    fn name() -> String {\n        "category".to_owned()\n    }\n\n    // \u73b0\u5728\n    fn name() -> DynIden {\n        SeaRc::new(CategoryEnum)\n    }\n    ...\n}\n')),(0,n.yg)("h2",{id:"seaorm-\u589e\u5f3a\u529f\u80fd"},"SeaORM \u589e\u5f3a\u529f\u80fd"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/995"},"#995"),"] \u4e3a SQLite \u652f\u6301 ",(0,n.yg)("inlineCode",{parentName:"li"},"time")," crate (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/902"},"#902"),"] \u652f\u6301 ",(0,n.yg)("inlineCode",{parentName:"li"},"distinct")," \u548c ",(0,n.yg)("inlineCode",{parentName:"li"},"distinct_on")," \u8868\u8fbe\u5f0f (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/edg"},"@edg"),"-l, ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/kyoto7250"},"@kyoto7250"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/973"},"#973"),"] ",(0,n.yg)("inlineCode",{parentName:"li"},"fn column()")," \u4e5f\u5904\u7406\u679a\u4e3e\u7c7b\u578b (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/tyt2y3"},"@tyt2y3"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/897"},"#897"),"] \u5728 ",(0,n.yg)("inlineCode",{parentName:"li"},"ConnectOptions")," \u4e0a\u6dfb\u52a0 ",(0,n.yg)("inlineCode",{parentName:"li"},"acquire_timeout")," (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/001wwang"},"@001wwang"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1020"},"#1020"),"] \u5bf9\u6ca1\u6709\u4e3b\u952e\u7684\u5b9e\u4f53\u63d0\u4f9b\u66f4\u597d\u7684\u7f16\u8bd1\u9519\u8bef (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/Sytten"},"@Sytten"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/833"},"#833"),"] \u4e3a ",(0,n.yg)("inlineCode",{parentName:"li"},"Option")," \u503c\u6dfb\u52a0 ",(0,n.yg)("inlineCode",{parentName:"li"},"IntoActiveValue")," \u7684\u901a\u7528\u5b9e\u73b0 (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/wdcocq"},"@wdcocq"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1112"},"#1112"),"] \u5728 ",(0,n.yg)("inlineCode",{parentName:"li"},"Cursor")," \u4e2d\u6dfb\u52a0 ",(0,n.yg)("inlineCode",{parentName:"li"},"into_model")," \u548c ",(0,n.yg)("inlineCode",{parentName:"li"},"into_json")," (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/jukanntenn"},"@jukanntenn"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1056"},"#1056"),"] \u4e3a PostgreSQL \u8fde\u63a5\u8bbe\u7f6e\u6a21\u5f0f\u641c\u7d22\u8def\u5f84\u7684\u65b9\u6cd5 ",(0,n.yg)("inlineCode",{parentName:"li"},"set_schema_search_path")," (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/MattGson"},"@MattGson"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1042"},"#1042"),"] \u5c06 ",(0,n.yg)("inlineCode",{parentName:"li"},"time")," \u7c7b\u578b\u5e8f\u5217\u5316\u4e3a ",(0,n.yg)("inlineCode",{parentName:"li"},"serde_json::Value")," (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/jimmycuadra"},"@jimmycuadra"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/986"},"#986"),"] \u5b9e\u73b0 ",(0,n.yg)("inlineCode",{parentName:"li"},"fmt::Display")," \u7528\u4e8e ",(0,n.yg)("inlineCode",{parentName:"li"},"ActiveEnum")," (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/jesseduffield"},"@jesseduffield"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy264"},"@billy264"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/990"},"#990"),"] \u4e3a ",(0,n.yg)("inlineCode",{parentName:"li"},"Model")," \u5b9e\u73b0 ",(0,n.yg)("inlineCode",{parentName:"li"},"TryFrom<ActiveModel>")," (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/MattGson"},"@MattGson"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/greenhandatsjtu"},"@greenhandatsjtu"),")")),(0,n.yg)("h2",{id:"cli-\u589e\u5f3a\u529f\u80fd"},"CLI \u589e\u5f3a\u529f\u80fd"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1052"},"#1052"),"] \u8f6c\u4e49\u4f7f\u7528 Rust \u5173\u952e\u5b57\u5b9a\u4e49\u7684\u6a21\u5757\u540d (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/andy128k"},"@andy128k"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/879"},"#879"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1155"},"#1155"),"] \u786e\u4fdd\u8fc1\u79fb\u540d\u79f0\u4e2d\u4e0d\u5305\u542b\u8fde\u5b57\u7b26 ",(0,n.yg)("inlineCode",{parentName:"li"},"-")," (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/AngelOnFira"},"@AngelOnFira"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/953"},"#953"),"] \u4ee5\u5e93\u6216\u6a21\u5757\u7684\u5f62\u5f0f\u751f\u6210\u5b9e\u4f53\u6587\u4ef6 (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/viktorbahr"},"@viktorbahr"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/HigherOrderLogic"},"@HigherOrderLogic"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/947"},"#947"),"] \u751f\u6210\u4ee5 Unix \u65f6\u95f4\u6233\u4e3a\u524d\u7f00\u7684\u65b0\u8fc1\u79fb\u6a21\u677f (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/Animeshz"},"@Animeshz"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/933"},"#933"),"] \u5728\u6a21\u5757\u4e2d\u751f\u6210\u8fc1\u79fb (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/remlse"},"@remlse"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1019"},"#1019"),"] \u5728\u7a7a\u7684 ",(0,n.yg)("inlineCode",{parentName:"li"},"Relation")," \u679a\u4e3e\u4e0a\u751f\u6210 ",(0,n.yg)("inlineCode",{parentName:"li"},"DeriveRelation")," (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/alper"},"@alper"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/988"},"#988"),"] \u5982\u679c\u53ef\u80fd\uff0c\u751f\u6210\u5b9e\u4f53\u6d3e\u751f ",(0,n.yg)("inlineCode",{parentName:"li"},"Eq")," (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy1624"},"@billy1624"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/w93163red"},"@w93163red"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/1056"},"#1056"),"] \u5728\u4efb\u4f55 PostgreSQL \u6a21\u5f0f\u4e0a\u8fd0\u884c\u8fc1\u79fb (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/MattGson"},"@MattGson"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/billy1624"},"@billy1624"),")"),(0,n.yg)("li",{parentName:"ul"},"[",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/864"},"#864"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/pull/991"},"#991"),"] ",(0,n.yg)("inlineCode",{parentName:"li"},"migrate fresh")," \u547d\u4ee4\u5c06\u5220\u9664\u6240\u6709 PostgreSQL \u7c7b\u578b (by ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/MaderNoob"},"@MaderNoob"),", ",(0,n.yg)("a",{parentName:"li",href:"https://github.com/karpa4o4"},"@karpa4o4"),")")),(0,n.yg)("p",null,"\u8bf7\u67e5\u770b ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/blob/master/CHANGELOG.md#0101---2022-10-27"},"\u8fd9\u91cc")," \u83b7\u53d6\u5b8c\u6574\u7684\u66f4\u65b0\u65e5\u5fd7\u3002"),(0,n.yg)("h2",{id:"\u96c6\u6210\u793a\u4f8b"},"\u96c6\u6210\u793a\u4f8b"),(0,n.yg)("p",null,"SeaORM \u4e0e\u5f02\u6b65\u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u5176\u4ed6 crate \u914d\u5408\u826f\u597d\u3002\u6211\u4eec\u7ef4\u62a4\u4e00\u7cfb\u5217\u7528\u4e8e\u6784\u5efa REST\u3001GraphQL \u548c gRPC \u670d\u52a1\u7684\u793a\u4f8b\u9879\u76ee\u3002\u66f4\u591a\u793a\u4f8b ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/issues/269"},"\u6b22\u8fce\u8d21\u732e"),"!"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example"},"Actix v4 \u793a\u4f8b")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example"},"Axum \u793a\u4f8b")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example"},"GraphQL \u793a\u4f8b")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example"},"jsonrpsee \u793a\u4f8b")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example"},"Poem \u793a\u4f8b")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example"},"Rocket \u793a\u4f8b")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example"},"Salvo \u793a\u4f8b")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example"},"Tonic \u793a\u4f8b"))),(0,n.yg)("h2",{id:"\u8d5e\u52a9"},"\u8d5e\u52a9"),(0,n.yg)("p",null,"\u6211\u4eec\u7684 ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/sponsors/SeaQL"},"GitHub Sponsor")," \u8d44\u6599\u5df2\u7ecf\u5f00\u542f\uff01\u5982\u679c\u60a8\u89c9\u5f97\u6177\u6168\uff0c\u4efb\u4f55\u5c0f\u989d\u6350\u6b3e\u90fd\u5c06\u4e0d\u80dc\u611f\u6fc0\u3002"),(0,n.yg)("p",null,"\u7279\u522b\u611f\u8c22\u6211\u4eec\u7684\u8d5e\u52a9\u5546 \ud83d\ude07\uff1a"),(0,n.yg)("div",{class:"row"},(0,n.yg)("div",{class:"col col--6 margin-bottom--md"},(0,n.yg)("div",{class:"avatar"},(0,n.yg)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/Sytten"},(0,n.yg)("img",{src:"https://avatars.githubusercontent.com/u/2366731?v=4"})),(0,n.yg)("div",{class:"avatar__intro"},(0,n.yg)("div",{class:"avatar__name"},"\xc9mile Fugulin")))),(0,n.yg)("div",{class:"col col--6 margin-bottom--md"},(0,n.yg)("div",{class:"avatar"},(0,n.yg)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/deansheather"},(0,n.yg)("img",{src:"https://avatars.githubusercontent.com/u/11241812?v=4"})),(0,n.yg)("div",{class:"avatar__intro"},(0,n.yg)("div",{class:"avatar__name"},"Dean Sheather")))),(0,n.yg)("div",{class:"col col--6 margin-bottom--md"},(0,n.yg)("div",{class:"avatar"},(0,n.yg)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/shanesveller"},(0,n.yg)("img",{src:"https://avatars.githubusercontent.com/u/831?v=4"})),(0,n.yg)("div",{class:"avatar__intro"},(0,n.yg)("div",{class:"avatar__name"},"Shane Sveller")))),(0,n.yg)("div",{class:"col col--6 margin-bottom--md"},(0,n.yg)("div",{class:"avatar"},(0,n.yg)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/sakti"},(0,n.yg)("img",{src:"https://avatars.githubusercontent.com/u/196178?v=4"})),(0,n.yg)("div",{class:"avatar__intro"},(0,n.yg)("div",{class:"avatar__name"},"Sakti Dwi Cahyono")))),(0,n.yg)("div",{class:"col col--6 margin-bottom--md"},(0,n.yg)("div",{class:"avatar"},(0,n.yg)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/hgiesel"},(0,n.yg)("img",{src:"https://avatars.githubusercontent.com/u/7188844?v=4"})),(0,n.yg)("div",{class:"avatar__intro"},(0,n.yg)("div",{class:"avatar__name"},"Henrik Giesel")))),(0,n.yg)("div",{class:"col col--6 margin-bottom--md"},(0,n.yg)("div",{class:"avatar"},(0,n.yg)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/trueb2"},(0,n.yg)("img",{src:"https://avatars.githubusercontent.com/u/8592049?v=4"})),(0,n.yg)("div",{class:"avatar__intro"},(0,n.yg)("div",{class:"avatar__name"},"Jacob Trueb")))),(0,n.yg)("div",{class:"col col--6 margin-bottom--md"},(0,n.yg)("div",{class:"avatar"},(0,n.yg)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/marcusbuffett"},(0,n.yg)("img",{src:"https://avatars.githubusercontent.com/u/1834328?v=4"})),(0,n.yg)("div",{class:"avatar__intro"},(0,n.yg)("div",{class:"avatar__name"},"Marcus Buffett")))),(0,n.yg)("div",{class:"col col--6 margin-bottom--md"},(0,n.yg)("div",{class:"avatar"},(0,n.yg)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm"},(0,n.yg)("img",{style:{width:"100%"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="})),(0,n.yg)("div",{class:"avatar__intro"},(0,n.yg)("div",{class:"avatar__name"},"\u672a\u547d\u540d\u8d5e\u52a9\u5546")))),(0,n.yg)("div",{class:"col col--6 margin-bottom--md"},(0,n.yg)("div",{class:"avatar"},(0,n.yg)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm"},(0,n.yg)("img",{style:{width:"100%"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="})),(0,n.yg)("div",{class:"avatar__intro"},(0,n.yg)("div",{class:"avatar__name"},"\u672a\u547d\u540d\u8d5e\u52a9\u5546"))))),(0,n.yg)("h2",{id:"\u793e\u533a"},"\u793e\u533a"),(0,n.yg)("p",null,"SeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002"),(0,n.yg)("p",null,"\u4ee5\u4e0b\u662f SeaORM ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/SeaQL/sea-orm/milestone/11"},(0,n.yg)("inlineCode",{parentName:"a"},"0.11.x"))," \u7684\u8def\u7ebf\u56fe\u3002"))}y.isMDXComponent=!0}}]);