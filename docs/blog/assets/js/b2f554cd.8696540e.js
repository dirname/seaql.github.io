"use strict";(self.webpackChunksea_ql_blog=self.webpackChunksea_ql_blog||[]).push([[5894],{6042:r=>{r.exports=JSON.parse('{"blogPosts":[{"id":"2024-08-08-graphql-admin-dashboard-with-loco-seaography","metadata":{"permalink":"/blog/2024-08-08-graphql-admin-dashboard-with-loco-seaography","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-08-08-graphql-admin-dashboard-with-loco-seaography.md","source":"@site/blog/2024-08-08-graphql-admin-dashboard-with-loco-seaography.md","title":"\u57fa\u4e8e GraphQL \u7684 Loco \u548c Seaography \u7ba1\u7406\u4eea\u8868\u76d8","description":"\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 Seaography \u548c Loco \u5f00\u53d1\u4e00\u4e2a\u57fa\u4e8e GraphQL \u7684\u7ba1\u7406\u4eea\u8868\u76d8\u3002","date":"2024-08-08T00:00:00.000Z","formattedDate":"August 8, 2024","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":8.225,"hasTruncateMarker":false,"authors":[{"name":"Billy Chan","title":"SeaQL \u56e2\u961f","url":"https://github.com/billy1624","imageURL":"https://avatars.githubusercontent.com/u/30400950?v=4"}],"frontMatter":{"slug":"2024-08-08-graphql-admin-dashboard-with-loco-seaography","title":"\u57fa\u4e8e GraphQL \u7684 Loco \u548c Seaography \u7ba1\u7406\u4eea\u8868\u76d8","author":"Billy Chan","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/billy1624","author_image_url":"https://avatars.githubusercontent.com/u/30400950?v=4","image":"https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM.png","tags":["news"]},"nextItem":{"title":"sea-orm-1.0","permalink":"/blog/2024/08/04/sea-orm-1.0"}},"content":"<img src=\\"/blog/img/Loco%20x%20SeaORM.png\\" />\\r\\n\\r\\n\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 [Seaography](https://github.com/SeaQL/seaography) \u548c Loco \u5f00\u53d1\u4e00\u4e2a\u57fa\u4e8e GraphQL \u7684\u7ba1\u7406\u4eea\u8868\u76d8\u3002\\r\\n\\r\\n\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u9605\u8bfb\u6211\u4eec\u7684\u7cfb\u5217\u6559\u7a0b\u7684\u7b2c\u4e00\u90e8\u5206\u548c\u7b2c\u4e8c\u90e8\u5206\uff0c\u8bf7\u67e5\u770b\uff1a[\u4f7f\u7528 Loco \u548c SeaORM \u5165\u95e8](https://www.sea-ql.org/blog/2024-05-28-getting-started-with-loco-seaorm/)\u3001[\u4f7f\u7528 Seaography \u4e3a Loco \u6dfb\u52a0 GraphQL \u652f\u6301](https://www.sea-ql.org/blog/2024-07-01-graphql-support-with-loco-seaography/)\u3002\\r\\n\\r\\n\u5b8c\u6574\u7684\u6e90\u4ee3\u7801\u53ef\u4ee5\u5728 [\u8fd9\u91cc](https://github.com/SeaQL/sea-orm/tree/1.0.x/examples/react_admin) \u627e\u5230\u3002\\r\\n\\r\\n## \u4ec0\u4e48\u662f Seaography\\r\\n\\r\\nSeaography \u662f\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa GraphQL \u89e3\u6790\u5668\u7684 GraphQL \u6846\u67b6\uff0c\u5b83\u4f7f\u7528 SeaORM \u5b9e\u4f53\u3002\u5b83\u9644\u5e26\u4e00\u4e2a CLI \u5de5\u5177\uff0c\u53ef\u4ee5\u4ece\u73b0\u6709\u7684 MySQL\u3001Postgres \u548c SQLite \u6570\u636e\u5e93\u751f\u6210\u53ef\u7f16\u8bd1\u7684 Rust GraphQL \u670d\u52a1\u5668\u3002\\r\\n\\r\\n## \u8bbe\u7f6e React-Admin \u524d\u7aef\u6a21\u677f\\r\\n\\r\\n\u6211\u4eec\u4f7f\u7528 [`React-Admin`](https://marmelab.com/react-admin/) \u4f5c\u4e3a\u524d\u7aef\u6846\u67b6\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b9\u4fbf\u7684\u6a21\u677f\u6765\u5f00\u59cb\uff1a\\r\\n\\r\\n```sh\\r\\n$ npm init react-admin frontend\\r\\n\\r\\n\u9009\u62e9\u8981\u4f7f\u7528\u7684\u6570\u636e\u63d0\u4f9b\u8005\uff0c\u5e76\u6309 Enter \u9a8c\u8bc1\uff1a\\r\\n\u276f None\\r\\n  \u6211\u4f1a\u81ea\u5df1\u914d\u7f6e\u6570\u636e\u63d0\u4f9b\u8005\u3002\\r\\n\\r\\n\u9009\u62e9\u8981\u4f7f\u7528\u7684\u8ba4\u8bc1\u63d0\u4f9b\u8005\uff0c\u5e76\u6309 Enter \u9a8c\u8bc1\uff1a\\r\\n\u276f Hard coded local username/password\\r\\n\\r\\n\u8f93\u5165\u60a8\u60f3\u8981\u6dfb\u52a0\u7684\u8d44\u6e90\u7684\u540d\u79f0\uff0c\u5e76\u6309 Enter \u9a8c\u8bc1\uff08\u7559\u7a7a\u4ee5\u5b8c\u6210\uff09\uff1a\\r\\n\u276f (\u7559\u7a7a\u5e76\u6309 Enter)\\r\\n\\r\\n\u60a8\u60f3\u5982\u4f55\u5b89\u88c5\u4f9d\u8d56\u9879\uff1f\\r\\n\u276f \u4f7f\u7528 npm\\r\\n```\\r\\n\\r\\n\u8fd0\u884c\u6a21\u677f\uff0c\u7136\u540e\u8bbf\u95ee [http://localhost:5173/](http://localhost:5173/)\uff0c\u4f60\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u6b22\u8fce\u9875\u9762\uff1a\\r\\n\\r\\n```sh\\r\\n$ cd frontend\\r\\n\\r\\n$ npm install\\r\\n\\r\\n$ npm run dev\\r\\n\\r\\n> dev\\r\\n> vite\\r\\n\\r\\n  VITE v4.5.3  \u5728 440 \u6beb\u79d2\u5185\u51c6\u5907\u5c31\u7eea\\r\\n\\r\\n  \u279c  \u672c\u5730:   http://localhost:5173/\\r\\n```\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard Demo Welcome.png>)\\r\\n\\r\\n\u73b0\u5728\uff0c\u6211\u4eec\u5e0c\u671b\u4f7f\u7528\u6a21\u62df\u6570\u636e\u5c55\u793a `React-Admin` \u6570\u636e\u8868\u6a21\u677f\u3002\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u6dfb\u52a0 `ra-data-json-server` \u4f9d\u8d56\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u73b0\u6210\u7684\u6a21\u62df\u6570\u636e\u52a0\u8f7d\u5668\uff1a\\r\\n\\r\\n```sh\\r\\n$ npm install ra-data-json-server\\r\\n```\\r\\n\\r\\n\u4e3a\u51c6\u5907\u6a21\u62df\u6570\u636e\u52a0\u8f7d\u5668\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6\uff1a\\r\\n\\r\\n```ts title=\\"frontend/src/dataProvider.ts\\"\\r\\nimport jsonServerProvider from \'ra-data-json-server\';\\r\\n\\r\\nexport const dataProvider = jsonServerProvider(\'https://jsonplaceholder.typicode.com\');\\r\\n```\\r\\n\\r\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u66f4\u6539 UI \u6587\u4ef6\uff1a\\r\\n\\r\\n```diff title=\\"frontend/src/index.tsx\\"\\r\\n+ import { Admin, Resource, ListGuesser, ShowGuesser } from \'react-admin\';\\r\\n+ import { dataProvider } from \'./dataProvider\';\\r\\n\\r\\nReactDOM.createRoot(document.getElementById(\'root\')!).render(\\r\\n-   <React.StrictMode>\\r\\n-       <App />\\r\\n-   </React.StrictMode>\\r\\n+   <Admin dataProvider={dataProvider}>\\r\\n+       <Resource name=\\"users\\" list={ListGuesser} show={ShowGuesser} />\\r\\n+   </Admin>\\r\\n);\\r\\n```\\r\\n\\r\\n\u73b0\u5728\u8fd0\u884c\u6a21\u677f\uff0c\u4f60\u5e94\u8be5\u80fd\u770b\u5230\u7528\u6237\u5217\u8868\u9875\u9762\uff1a\\r\\n\\r\\n```sh\\r\\n$ npm run dev\\r\\n```\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard Demo List.png>)\\r\\n\\r\\n\u70b9\u51fb\u6bcf\u4e00\u884c\u4ee5\u67e5\u770b\u5176\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u3002\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard Demo View.png>)\\r\\n\\r\\n## \u6dfb\u52a0 NPM \u4f9d\u8d56\\r\\n\\r\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5f00\u59cb\u5c06 Loco \u548c Seaography \u540e\u7aef\u4e0e React-Admin \u524d\u7aef\u96c6\u6210\u3002\u6211\u4eec\u4f7f\u7528 `axios` \u53d1\u9001 POST \u8bf7\u6c42\u5230\u6211\u4eec\u7684 GraphQL \u540e\u7aef\uff1a\\r\\n\\r\\n```sh\\r\\n$ npm install axios\\r\\n```\\r\\n\\r\\n## GraphQL \u6570\u636e\u63d0\u4f9b\u8005\\r\\n\\r\\n\u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u66ff\u6362 `dataProvider.ts` \u7684\u5185\u5bb9\u6765\u5f00\u59cb\u5b9e\u73b0 GraphQL \u6570\u636e\u63d0\u4f9b\u8005\uff1a\\r\\n\\r\\n```diff title=\\"frontend/src/dataProvider.ts\\"\\r\\n- import jsonServerProvider from \'ra-data-json-server\';\\r\\n- \\r\\n- export const dataProvider = jsonServerProvider(\'https://jsonplaceholder.typicode.com\');\\r\\n```\\r\\n\\r\\n\u5c06\u5176\u96c6\u6210\u5230\u6211\u4eec\u7684 GraphQL \u7aef\u70b9 [http://localhost:3000/api/graphql](http://localhost:3000/api/graphql)\u3002\u6211\u4eec\u5b9e\u73b0\u4e86\u4e24\u4e2a\u5904\u7406\u5668\uff0c\u4e00\u4e2a\u7528\u4e8e\u83b7\u53d6\u5e16\u5b50\u5217\u8868\u6570\u636e\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e\u83b7\u53d6\u5355\u4e2a\u5e16\u5b50\u7684\u8be6\u7ec6\u6570\u636e\uff1a\\r\\n\\r\\n```ts title=\\"frontend/src/dataProvider.ts\\"\\r\\nimport { DataProvider } from \\"react-admin\\";\\r\\nimport axios from \'axios\';\\r\\n\\r\\nconst apiUrl = \'http://localhost:3000/api/graphql\';\\r\\n\\r\\nexport const dataProvider: DataProvider = {\\r\\n    // \u83b7\u53d6\u5e16\u5b50\u7684\u5217\u8868\u6570\u636e\\r\\n    getList: (resource, params) => {\\r\\n        // \u5206\u9875\u72b6\u6001\\r\\n        const { page, perPage } = params.pagination;\\r\\n        // \u6392\u5e8f\u72b6\u6001\\r\\n        const { field, order } = params.sort;\\r\\n\\r\\n        // \u5411 GraphQL \u7aef\u70b9\u53d1\u9001 POST \u8bf7\u6c42\\r\\n        return axios.post(apiUrl, {\\r\\n            query: `\\r\\n            query {\\r\\n              notes (\\r\\n                orderBy: { ${field}: ${order} },\\r\\n                pagination: { page: { limit: ${perPage}, page: ${page - 1} }}\\r\\n              ) {\\r\\n                nodes {\\r\\n                  id\\r\\n                  title\\r\\n                  createdAt\\r\\n                  updatedAt\\r\\n                }\\r\\n                paginationInfo {\\r\\n                  pages\\r\\n                  current\\r\\n                  offset\\r\\n                  total\\r\\n                }\\r\\n              }\\r\\n            }\\r\\n            `\\r\\n        })\\r\\n            .then((response) => {\\r\\n                // \u89e3\u5c01\u54cd\u5e94\\r\\n                const { nodes, paginationInfo } = response.data.data.notes;\\r\\n                // \u8fd4\u56de\u6570\u636e\u6570\u7ec4\u548c\u603b\u9875\u6570\\r\\n                return {\\r\\n                    data: nodes,\\r\\n                    total: paginationInfo.total,\\r\\n                };\\r\\n            });\\r\\n    },\\r\\n\\r\\n    // \u83b7\u53d6\u5355\u4e2a\u5e16\u5b50\u7684\u8be6\u7ec6\u6570\u636e\\r\\n    getOne: (resource, params) => {\\r\\n        // \u5411 GraphQL \u7aef\u70b9\u53d1\u9001 POST \u8bf7\u6c42\\r\\n        return axios.post(apiUrl, {\\r\\n            query: `\\r\\n            query {\\r\\n              notes(filters: {id: {eq: ${params.id}}}) {\\r\\n                nodes {\\r\\n                  id\\r\\n                  title\\r\\n                  content\\r\\n                  createdAt\\r\\n                  updatedAt\\r\\n                }\\r\\n              }\\r\\n            }\\r\\n            `\\r\\n        })\\r\\n            .then((response) => {\\r\\n                // \u89e3\u5c01\u54cd\u5e94\\r\\n                const { nodes } = response.data.data.notes;\\r\\n                // \u8fd4\u56de\u552f\u4e00\u6570\u636e\\r\\n                return {\\r\\n                    data: nodes[0],\\r\\n                };\\r\\n            });\\r\\n    },\\r\\n\\r\\n    getMany: (resource, params) => { },\\r\\n\\r\\n    getManyReference: (resource, params) => { },\\r\\n\\r\\n    update: (resource, params) => { },\\r\\n\\r\\n    updateMany: (resource, params) => { },\\r\\n\\r\\n    create: (resource, params) => { },\\r\\n\\r\\n    delete: (resource, params) => { },\\r\\n\\r\\n    deleteMany: (resource, params) => { },\\r\\n};\\r\\n```\\r\\n\\r\\n## \u81ea\u5b9a\u4e49 React-Admin \u524d\u7aef\\r\\n\\r\\n\u7528\u6211\u4eec\u81ea\u5df1\u7684\u81ea\u5b9a\u4e49 UI \u66ff\u6362 React-Admin \u6a21\u677f\u524d\u7aef\uff0c\u4ee5\u5217\u51fa\u6765\u81ea\u6570\u636e\u5e93\u7684\u6240\u6709\u7b14\u8bb0\u3002\\r\\n\\r\\n```diff title=\\"frontend/src/index.tsx\\"\\r\\n- ReactDOM.createRoot(document.getElementById(\'root\')!).render(\\r\\n-    <Admin dataProvider={dataProvider}>\\r\\n-        <Resource name=\\"users\\" list={ListGuesser} show={ShowGuesser} />\\r\\n-    </Admin>\\r\\n- );\\r\\n```\\r\\n\\r\\n\u4f7f\u7528\u7279\u5b9a\u5217\u5b9e\u73b0\u5217\u8868\u548c\u8be6\u60c5\u9875\u9762\uff1a\\r\\n\\r\\n```tsx title=\\"frontend/src/index.tsx\\"\\r\\nimport ReactDOM from \'react-dom/client\';\\r\\nimport { Admin, Resource, List, Datagrid, TextField, Show, SimpleShowLayout } from \'react-admin\';\\r\\nimport { dataProvider } from \'./dataProvider\';\\r\\n\\r\\nconst PostList = () => (\\r\\n    <List>\\r\\n        <Datagrid bulkActionButtons={false}>\\r\\n            <TextField source=\\"id\\" />\\r\\n            <TextField source=\\"title\\" />\\r\\n            <TextField source=\\"content\\" />\\r\\n            <TextField source=\\"createdAt\\" />\\r\\n            <TextField source=\\"updatedAt\\" />\\r\\n        </Datagrid>\\r\\n    </List>\\r\\n);\\r\\n\\r\\nconst PostShow = () => (\\r\\n    <Show>\\r\\n        <SimpleShowLayout>\\r\\n            <TextField source=\\"id\\" />\\r\\n            <TextField source=\\"title\\" />\\r\\n            <TextField source=\\"content\\" />\\r\\n            <TextField source=\\"createdAt\\" />\\r\\n            <TextField source=\\"updatedAt\\" />\\r\\n        </SimpleShowLayout>\\r\\n    </Show>\\r\\n);\\r\\n\\r\\nReactDOM.createRoot(document.getElementById(\'root\')!).render(\\r\\n    <Admin dataProvider={dataProvider}>\\r\\n        <Resource name=\\"posts\\" list={PostList} show={PostShow} />\\r\\n    </Admin>\\r\\n);\\r\\n```\\r\\n\\r\\n## \u65e0\u8ba4\u8bc1\u7684 GraphQL \u7aef\u70b9\\r\\n\\r\\n\u4e3a\u4e86\u65b9\u4fbf\u8d77\u89c1\uff0c\u7981\u7528\u4e86 GraphQL POST \u5904\u7406\u7aef\u70b9\u4e0a\u7684\u7528\u6237\u8eab\u4efd\u9a8c\u8bc1\uff1a\\r\\n\\r\\n```diff title=\\"backend/src/controllers/graphql.rs\\"\\r\\nasync fn graphql_handler(\\r\\n-   _auth: auth::JWT,\\r\\n    State(ctx): State<AppContext>,\\r\\n    req: Request<Body>,\\r\\n) -> Result<Response> {\\r\\n    const DEPTH: usize = 1_000;\\r\\n    const COMPLEXITY: usize = 1_000;\\r\\n    // \u6784\u9020 GraphQL \u67e5\u8be2\u6839\\r\\n    let schema = query_root::schema(ctx.db.clone(), DEPTH, COMPLEXITY).unwrap();\\r\\n    // GraphQL \u5904\u7406\u5668\\r\\n    let mut graphql_handler = async_graphql_axum::GraphQL::new(schema);\\r\\n    // \u6267\u884c GraphQL \u8bf7\u6c42\u5e76\u83b7\u53d6\u7ed3\u679c\\r\\n    let res = graphql_handler.call(req).await.unwrap();\\r\\n\\r\\n    Ok(res)\\r\\n}\\r\\n```\\r\\n\\r\\n## \u5f00\u59cb\u884c\u52a8\uff01\\r\\n\\r\\n\u8fd0\u884c React-Admin \u524d\u7aef\uff1a\\r\\n\\r\\n```sh\\r\\n$ cd frontend\\r\\n$ npm run dev\\r\\n```\\r\\n\\r\\n\u8fd0\u884c Loco \u540e\u7aef\uff1a\\r\\n\\r\\n```sh\\r\\n$ cd backend\\r\\n$ cargo run start\\r\\n```\\r\\n\\r\\n\u8bbf\u95ee [http://localhost:5173/](http://localhost:5173/)\uff0c\u4f60\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u5e16\u5b50\u5217\u8868\u9875\u9762\uff1a\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard List.png>)\\r\\n\\r\\n\u6211\u4eec\u6b63\u5728\u4ece GraphQL \u540e\u7aef\u83b7\u53d6\u6570\u636e\uff1a\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard List API.png>)\\r\\n\\r\\n\u70b9\u51fb\u5217\u6807\u9898\u4ee5\u6309\u5217\u8fdb\u884c\u5347\u5e8f\u6216\u964d\u5e8f\u6392\u5e8f\uff1a\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard List Sorted.png>)\\r\\n\\r\\n\u70b9\u51fb\u6bcf\u4e00\u884c\u4ee5\u67e5\u770b\u5176\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\uff1a\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard View.png>)\\r\\n\\r\\n## \u7ed3\u8bba\\r\\n\\r\\n\u501f\u52a9 Seaography\uff0c\u4e3a Loco \u5e94\u7528\u6dfb\u52a0 GraphQL \u652f\u6301\u662f\u975e\u5e38\u7b80\u5355\u7684\u3002\u5b83\u662f\u4e00\u4e2a\u7b26\u5408\u4eba\u4f53\u5de5\u7a0b\u5b66\u7684\u5e93\uff0c\u5b8c\u7f8e\u5730\u4e0e\u4efb\u4f55\u524d\u7aef\u6846\u67b6\u96c6\u6210\u3002\u672c\u6559\u7a0b\u4ec5\u6db5\u76d6 LOco \u548c Seaography \u7684\u57fa\u672c\u96c6\u6210\uff0c\u5305\u62ec\u4ec5\u901a\u8fc7 GraphQL \u7aef\u70b9\u67e5\u8be2\u6570\u636e\u3002\u672a\u6f14\u793a GraphQL \u53d8\u66f4\uff0c\u6211\u4eec\u7559\u7ed9\u60a8\u81ea\u884c\u7f16\u7801\uff01\\r\\n\\r\\n## SQL Server \u652f\u6301\\r\\n\\r\\n[\u9002\u7528\u4e8e SeaORM \u7684 SQL Server](https://www.sea-ql.org/SeaORM-X/) \u73b0\u5df2\u4f5c\u4e3a\u5c01\u95ed\u6d4b\u8bd5\u7248\u53d1\u5e03\u3002\u5982\u679c\u4f60\u611f\u5174\u8da3\uff0c\u8bf7\u5728 [\u8fd9\u91cc](https://forms.office.com/r/1MuRPJmYBR) \u6ce8\u518c\u3002\\r\\n\\r\\n\u4ece `sea-orm` \u8fc1\u79fb\u5230 `sea-orm-x` \u6709\u4e24\u4e2a\u7b80\u5355\u6b65\u9aa4\u3002\u9996\u5148\uff0c\u5c06\u73b0\u6709\u7684 `sea-orm` \u4f9d\u8d56\u66f4\u65b0\u4e3a `sea-orm-x` \u5e76\u542f\u7528 `sqlz-mssql` \u529f\u80fd\u3002\u8bf7\u6ce8\u610f\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u8865\u4e01 SeaORM \u4f9d\u8d56\u4ee5\u9002\u5e94\u4e0a\u6e38\u4f9d\u8d56\u3002\\r\\n\\r\\n```toml title=\\"Cargo.toml\\"\\r\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\", features = [\\"runtime-async-std-rustls\\", \\"sqlz-mssql\\"] }\\r\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\r\\n\\r\\n# \u4fee\u8865 SeaORM \u4f9d\u8d56\u4ee5\u9002\u5e94\u4e0a\u6e38\u4f9d\u8d56\\r\\n[patch.crates-io]\\r\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\" }\\r\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\r\\n```\\r\\n\\r\\n\u7b2c\u4e8c\uff0c\u66f4\u65b0\u8fde\u63a5\u5b57\u7b26\u4e32\u4ee5\u8fde\u63a5\u5230 MSSQL \u6570\u636e\u5e93\u3002\\r\\n\\r\\n```sh\\r\\n# \u5982\u679c\u6a21\u5f0f\u4e3a `dbo`\uff0c\u53ea\u9700\u5199\uff1a\\r\\nmssql://username:password@host/database\\r\\n\\r\\n# \u6216\u901a\u8fc7\u63d0\u4f9b\u989d\u5916\u7684 `currentSchema` \u67e5\u8be2\u53c2\u6570\u6307\u5b9a\u6a21\u5f0f\u540d\u79f0\u3002\\r\\nmssql://username:password@host/database?currentSchema=my_schema\\r\\n\\r\\n# \u901a\u8fc7\u63d0\u4f9b\u989d\u5916\u7684 trustCertificate \u67e5\u8be2\u53c2\u6570\uff0c\u60a8\u53ef\u4ee5\u4fe1\u4efb\u5bf9\u7b49\u8bc1\u4e66\u3002\\r\\nmssql://username:password@host/database?trustCertificate=true\\r\\n```\\r\\n\\r\\nSeaORM X \u5b8c\u5168\u652f\u6301 Loco\uff0c\u5e76\u4e0e\u8bb8\u591a web \u6846\u67b6\u65e0\u7f1d\u96c6\u6210\uff1a\\r\\n\\r\\n+ Actix\\r\\n+ Axum\\r\\n+ Async GraphQL\\r\\n+ jsonrpsee\\r\\n+ Loco\\r\\n+ Poem\\r\\n+ Salvo\\r\\n+ Tonic\\r\\n\\r\\n\u5feb\u4e50\u7f16\u7801\uff01"},{"id":"/2024/08/04/sea-orm-1.0","metadata":{"permalink":"/blog/2024/08/04/sea-orm-1.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-08-04-sea-orm-1.0.md","source":"@site/blog/2024-08-04-sea-orm-1.0.md","title":"sea-orm-1.0","description":"impl MigrationTrait for Migration {","date":"2024-08-04T00:00:00.000Z","formattedDate":"August 4, 2024","tags":[],"readingTime":12.07,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":"\u57fa\u4e8e GraphQL \u7684 Loco \u548c Seaography \u7ba1\u7406\u4eea\u8868\u76d8","permalink":"/blog/2024-08-08-graphql-admin-dashboard-with-loco-seaography"},"nextItem":{"title":"graphql-support-with-loco-seaography","permalink":"/blog/2024/07/01/graphql-support-with-loco-seaography"}},"content":"```markdown\\r\\n---\\r\\nslug: 2024-08-04-sea-orm-1.0\\r\\ntitle: \u5ba3\u5e03 SeaORM 1.0 \ud83d\udc1a\\r\\nauthor: SeaQL \u56e2\u961f\\r\\nauthor_title: Chris Tsang\\r\\nauthor_url: https://github.com/SeaQL\\r\\nauthor_image_url: https://www.sea-ql.org/blog/img/SeaQL.png\\r\\nimage: https://www.sea-ql.org/blog/img/SeaORM%201.0%20Banner.png\\r\\ntags: [news]\\r\\n---\\r\\n\\r\\n<img alt=\\"SeaORM 1.0 Banner\\" src=\\"/blog/img/SeaORM%201.0%20Banner.png\\"/>\\r\\n\\r\\n\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\u4eca\u5929\u53d1\u5e03 [SeaORM 1.0](https://github.com/SeaQL/sea-orm/releases/tag/1.0.0)\uff01\u8fd9\u662f\u6211\u4eec\u7279\u522b\u7684\u65f6\u523b\uff0c\u6240\u4ee5\u8fd9\u7bc7\u535a\u6587\u5c06\u4f1a\u6bd4\u4e00\u822c\u7684\u53d1\u5e03\u8bf4\u660e\u591a\u4e00\u70b9\u5185\u5bb9\u3002\\r\\n\\r\\n## \u6211\u4eec\u7684\u65c5\u7a0b\\r\\n\\r\\n\u8ddd\u79bb\u6211\u4eec\u53d1\u5e03 [SeaORM 0.2](https://www.sea-ql.org/blog/2021-09-20-introducing-sea-orm/) \u5df2\u7ecf\u5feb\u4e09\u5e74\u4e86\u3002\u5f53\u65f6\uff0c\u6211\u4eec\u8bbe\u7acb\u4e86\u4e00\u4e2a\u76ee\u6807\uff1a\u4e3a\u5f02\u6b65 Rust \u751f\u6001\u7cfb\u7edf\u6784\u5efa\u4e00\u4e2a SQL ORM\uff0c\u6c47\u805a\u6700\u4f73\u7684\u5e93\uff0c\u4ee5\u4fbf\u5f00\u53d1\u4eba\u5458\u6784\u5efa\u9ad8\u6027\u80fd\u548c\u5065\u58ee\u7684\u7f51\u7edc\u670d\u52a1\u3002\\r\\n\\r\\n\u6211\u4eec\u8981\u611f\u8c22\u6240\u6709\u65e9\u671f\u91c7\u7528\u8005\u3001\u8d21\u732e\u8005\u548cSeaORM\u7684\u8d5e\u52a9\u5546\u3002\u611f\u8c22\u6240\u6709\u7528\u6237\u5bf9\u6211\u4eec\u7684\u4fe1\u4efb\uff0c\u5e76\u6210\u4e3a\u6211\u4eec\u65c5\u7a0b\u7684\u4e00\u90e8\u5206\u3002\\r\\n\\r\\n\u5982\u4eca\uff0c\u8bb8\u591a\u521d\u521b\u516c\u53f8\u548c\u4f01\u4e1a\u6b63\u5728\u4f7f\u7528 Rust \u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\uff0cSeaORM \u662f\u5176\u6280\u672f\u6808\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002\u6211\u4eec\u7279\u522b\u9ad8\u5174\u770b\u5230\u50cf [Loco](https://loco.rs/) \u8fd9\u6837\u7684\u5e94\u7528\u6846\u67b6\uff0c\u53ef\u4ee5\u4e0e SeaORM \u7d27\u5bc6\u96c6\u6210\uff0c\u4ece\u800c\u63d0\u4f9b\u6d41\u7545\u7684\u5f00\u53d1\u4f53\u9a8c\u3002\\r\\n\\r\\n\u6211\u8ba4\u4e3a\u6211\u4eec\u5df2\u7ecf\u5b9e\u73b0\u4e86\u6211\u4eec\u7684\u521d\u59cb\u76ee\u6807\uff01\u6211\u4eec\u7406\u89e3\uff0c\u5bf9\u4e8e\u56e2\u961f\u5728\u9009\u62e9\u6280\u672f\u65f6\uff0c\u6210\u719f\u5ea6\u548c\u7a33\u5b9a\u6027\u662f\u91cd\u8981\u7684\u8003\u91cf\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u76f8\u4fe1\u73b0\u5728\u662f\u7a33\u5b9a SeaORM \u7684\u65f6\u5019\u3002\\r\\n\\r\\n## \u65b0\u7279\u6027\\r\\n\\r\\n\u4ee5\u4e0b\u662f SeaORM 1.0 \u5f15\u5165\u7684\u4e00\u4e9b\u65b0\u7279\u6027\u548c\u589e\u5f3a\u529f\u80fd\u7684\u4eae\u70b9\u3002\\r\\n\\r\\n### \u5237\u65b0\u7684\u8fc1\u79fb\u6a21\u5f0f\u5b9a\u4e49\\r\\n\\r\\n[#2099](https://github.com/SeaQL/sea-orm/pull/2099) \u611f\u8c22 Loco \u7684\u5de7\u5999\u8bbe\u8ba1\uff0c\u6211\u4eec\u5237\u65b0\u4e86\u6a21\u5f0f\u5b9a\u4e49\u8bed\u6cd5\u3002\\r\\n\\r\\n\u65e7\u7684\u8fc1\u79fb\u811a\u672c\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a\\r\\n\\r\\n```rust\\r\\n#[async_trait::async_trait]\\r\\nimpl MigrationTrait for Migration {\\r\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n        manager\\r\\n            .create_table(\\r\\n                Table::create()\\r\\n                    .table(Users::Table)\\r\\n                    .if_not_exists()\\r\\n                    .col(\\r\\n                        ColumnDef::new(Users::Id)\\r\\n                            .integer()\\r\\n                            .not_null()\\r\\n                            .auto_increment()\\r\\n                            .primary_key(),\\r\\n                    )\\r\\n                    .col(ColumnDef::new(Users::Pid).uuid().not_null())\\r\\n                    .col(ColumnDef::new(Users::Email).string().not_null().unique_key())\\r\\n                    // ...\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u73b0\u5728\uff0c\u4f7f\u7528\u65b0\u7684\u6a21\u5f0f\u8f85\u52a9\u5de5\u5177\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u7b80\u5316\u7684\u8bed\u6cd5\u5b9a\u4e49\u6a21\u5f0f\uff01\\r\\n\\r\\n```rust\\r\\n// \u8bb0\u5f97\u5bfc\u5165 `sea_orm_migration::schema::*`\\r\\nuse sea_orm_migration::{prelude::*, schema::*};\\r\\n\\r\\n#[derive(DeriveMigrationName)]\\r\\npub struct Migration;\\r\\n\\r\\n#[async_trait::async_trait]\\r\\nimpl MigrationTrait for Migration {\\r\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n        manager\\r\\n            .create_table(\\r\\n                Table::create()\\r\\n                    .table(Users::Table)\\r\\n                    .if_not_exists()\\r\\n                    .col(pk_auto(Users::Id)) // \u4e3b\u952e\uff0c\u81ea\u589e\\r\\n                    .col(uuid(Users::Pid)) // UUID \u5217\\r\\n                    .col(string_uniq(Users::Email)) // \u5e26\u552f\u4e00\u6027\u548c\u975e\u7a7a\u7ea6\u675f\u7684\u5b57\u7b26\u4e32\u5217\\r\\n                    .col(string(Users::Password)) // \u5b57\u7b26\u4e32\u5217\\r\\n                    .col(string(Users::ApiKey).unique_key())\\r\\n                    .col(string(Users::Name))\\r\\n                    .col(string_null(Users::ResetToken)) // \u53ef\u7a7a\u5b57\u7b26\u4e32\u5217\\r\\n                    .col(timestamp_null(Users::ResetSentAt)) // \u53ef\u7a7a\u65f6\u95f4\u6233\u5217\\r\\n                    .col(string_null(Users::EmailVerificationToken))\\r\\n                    .col(timestamp_null(Users::EmailVerificationSentAt))\\r\\n                    .col(timestamp_null(Users::EmailVerifiedAt))\\r\\n                    .to_owned(),\\r\\n            )\\r\\n            .await\\r\\n    }\\r\\n\\r\\n    // ...\\r\\n}\\r\\n```\\r\\n\\r\\n\u5bf9\u4e8e\u6bcf\u79cd\u5e38\u7528\u5217\u7c7b\u578b\uff0c\u6709\u4e09\u79cd\u53d8\u4f53\u53ef\u4f9b\u9009\u62e9\uff1a\\r\\n\\r\\n- `<COLUMN_TYPE>()` \u8f85\u52a9\u51fd\u6570\uff0c\u4f8b\u5982 `string()`\uff0c\u5b9a\u4e49\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u4e32\u5217\\r\\n- `<COLUMN_TYPE>_null()` \u8f85\u52a9\u51fd\u6570\uff0c\u4f8b\u5982 `string_null()`\uff0c\u5b9a\u4e49\u4e00\u4e2a\u53ef\u7a7a\u5b57\u7b26\u4e32\u5217\\r\\n- `<COLUMN_TYPE>_uniq()` \u8f85\u52a9\u51fd\u6570\uff0c\u4f8b\u5982 `string_uniq()`\uff0c\u5b9a\u4e49\u4e00\u4e2a\u975e\u7a7a\u4e14\u552f\u4e00\u7684\u5b57\u7b26\u4e32\u5217\\r\\n\\r\\n\u65b0\u7684\u6a21\u5f0f\u8f85\u52a9\u5de5\u5177\u53ef\u4ee5\u901a\u8fc7\u5bfc\u5165 `sea_orm_migration::schema::*` \u4f7f\u7528\u3002\u8fc1\u79fb\u5e93\u5b8c\u5168\u5411\u540e\u517c\u5bb9\uff0c\u56e0\u6b64\u4e0d\u5fc5\u6025\u4e8e\u8fc1\u79fb\u65e7\u811a\u672c\u3002\u6211\u4eec\u5efa\u8bae\u65b0\u811a\u672c\u4f7f\u7528\u65b0\u8bed\u6cd5\uff0cSeaORM \u5b58\u50a8\u5e93\u4e2d\u7684\u6240\u6709\u793a\u4f8b\u5df2\u66f4\u65b0\u4ee5\u4f9b\u6f14\u793a\u3002\u5bf9\u4e8e\u9ad8\u7ea7\u7528\u4f8b\uff0c\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u65e7\u7684 SeaQuery \u8bed\u6cd5\u3002\\r\\n\\r\\n### \u91cd\u65b0\u8bbe\u8ba1\u7684 SQLite \u7c7b\u578b\u6620\u5c04\\r\\n\\r\\n[sea-orm#2077](https://github.com/SeaQL/sea-orm/pull/2077) [sea-query#735](https://github.com/SeaQL/sea-query/pull/735) [sea-schema#117](https://github.com/SeaQL/sea-schema/pull/117) \u6211\u4eec\u91cd\u65b0\u8bbe\u8ba1\u4e86 SeaQL \u751f\u6001\u7cfb\u7edf\u4e2d SQLite \u7684\u7c7b\u578b\u6620\u5c04\uff0c\u4f7f\u5f97 SeaQuery \u548c SeaSchema \u73b0\u5728\u5f7c\u6b64\u517c\u5bb9\u3002\u4f7f\u7528 SeaQuery \u5199\u7684\u8fc1\u79fb\u53ef\u4ee5\u88ab `sea-orm-cli` \u91cd\u65b0\u53d1\u73b0\uff0c\u5e76\u751f\u6210\u517c\u5bb9\u7684\u5b9e\u4f53\uff01\u6362\u53e5\u8bdd\u8bf4\uff0c\u53cc\u5411\u8f6c\u6362\u5df2\u7ecf\u5b8c\u6210\u3002\\r\\n\\r\\n\u6570\u636e\u7c7b\u578b\u5c06\u6839\u636e SQLite \u7684\u4eb2\u548c\u89c4\u5219\u6620\u5c04\u5230 SQLite \u7c7b\u578b\uff0c\u91c7\u7528\u81ea\u5b9a\u4e49\u547d\u540d\u65b9\u6848\uff1a\\r\\n\\r\\n* `INTEGER`\uff1a`integer`\u3001`tiny_integer`\u3001`small_integer`\u3001`big_integer` \u548c `boolean` \u5b58\u50a8\u4e3a `integer`\\r\\n* `REAL`\uff1a`float`\u3001`double`\u3001`decimal` \u548c `money` \u5b58\u50a8\u4e3a `real`\\r\\n* `BLOB`\uff1a`blob` \u548c `varbinary_blob` \u5b58\u50a8\u4e3a `blob`\\r\\n* `TEXT`\uff1a\u5176\u4ed6\u6240\u6709\u6570\u636e\u7c7b\u578b\u5b58\u50a8\u4e3a `text`\uff0c\u5305\u62ec `string`\u3001`char`\u3001`text`\u3001`json`\u3001`uuid`\u3001`date`\u3001`time`\u3001`datetime`\u3001`timestamp` \u7b49\u3002\\r\\n\\r\\n\u5b8c\u6574\u7684\u7c7b\u578b\u6620\u5c04\u8868\u53ef\u4ee5\u5728 [\u8fd9\u91cc](https://docs.rs/sea-query/0.31.0-rc.4/sea_query/table/enum.ColumnType.html) \u67e5\u9605\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003\u6211\u4eec\u4e4b\u524d\u7684 [\u535a\u6587](https://www.sea-ql.org/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x/)\u3002\\r\\n\\r\\n### \u5bf9 `EntityModel` \u548c `ActiveEnum` \u652f\u6301\u66ff\u4ee3\u547d\u540d\u65b9\u5f0f\\r\\n\\r\\n[#2170](https://github.com/SeaQL/sea-orm/pull/2170) \u4e3a `DeriveEntityModel` \u548c `DeriveActiveEnum` \u6dfb\u52a0 `rename_all` \u5c5e\u6027\\r\\n\\r\\n```rust\\r\\n#[derive(DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"user\\", rename_all = \\"camelCase\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    id: i32,\\r\\n    first_name: String, // firstName\\r\\n    #[sea_orm(column_name = \\"lAsTnAmE\\")]\\r\\n    last_name: String, // lAsTnAmE\\r\\n}\\r\\n\\r\\n#[derive(EnumIter, DeriveActiveEnum)]\\r\\n#[sea_orm(rs_type = \\"String\\", db_type = \\"String(StringLen::None)\\", rename_all = \\"camelCase\\")]\\r\\npub enum TestEnum {\\r\\n    DefaultVariant, // defaultVariant\\r\\n    #[sea_orm(rename = \\"kebab-case\\")]\\r\\n    VariantKebabCase, // variant-kebab-case\\r\\n    #[sea_orm(rename = \\"snake_case\\")]\\r\\n    VariantSnakeCase, // variant_snake_case\\r\\n    #[sea_orm(string_value = \\"CuStOmStRiNgVaLuE\\")]\\r\\n    CustomStringValue, // CuStOmStRiNgVaLuE\\r\\n}\\r\\n```\\r\\n\\r\\n### \u5176\u4ed6\u589e\u5f3a\u529f\u80fd\\r\\n\\r\\n* [#2185](https://github.com/SeaQL/sea-orm/pull/2185) `PrimaryKeyArity` \u7279\u6027\u5e26\u6709 `ARITY` \u5e38\u91cf\\r\\n\\r\\n```rust\\r\\nfn get_arity_of<E: EntityTrait>() -> usize {\\r\\n    E::PrimaryKey::iter().count() // \u4e4b\u524d\uff1b\u8fd0\u884c\u65f6\\r\\n    <<E::PrimaryKey as PrimaryKeyTrait>::ValueType as PrimaryKeyArity>::ARITY // \u73b0\u5728\uff1b\u7f16\u8bd1\u65f6\\r\\n}\\r\\n```\\r\\n\\r\\n* [#2137](https://github.com/SeaQL/sea-orm/pull/2137) `DerivePartialModel` \u5b8f\u5c5e\u6027 `entity` \u73b0\u5728\u652f\u6301 `syn::Type`\\r\\n```rust\\r\\n#[derive(DerivePartialModel)]\\r\\n#[sea_orm(entity = \\"<entity::Model as ModelTrait>::Entity\\")]\\r\\nstruct EntityNameNotAIdent {\\r\\n    #[sea_orm(from_col = \\"foo2\\")]\\r\\n    _foo: i32,\\r\\n    #[sea_orm(from_col = \\"bar2\\")]\\r\\n    _bar: String,\\r\\n}\\r\\n```\\r\\n\\r\\n* [#2146](https://github.com/SeaQL/sea-orm/pull/2146) \u6dfb\u52a0\u4e86 `RelationDef::from_alias()`\\r\\n```rust\\r\\n#[derive(DeriveIden)]\\r\\npub struct Cf;\\r\\n\\r\\nassert_eq!(\\r\\n    cake::Entity::find()\\r\\n        .join_as(\\r\\n            JoinType::LeftJoin,\\r\\n            cake_filling::Relation::Cake.def().rev(),\\r\\n            Cf\\r\\n        )\\r\\n        .join(\\r\\n            JoinType::LeftJoin,\\r\\n            cake_filling::Relation::Filling.def().from_alias(Cf)\\r\\n        )\\r\\n        .build(DbBackend::MySql)\\r\\n        .to_string(),\\r\\n    [\\r\\n        \\"SELECT `cake`.`id`, `cake`.`name` FROM `cake`\\",\\r\\n        \\"LEFT JOIN `cake_filling` AS `cf` ON `cake`.`id` = `cf`.`cake_id`\\",\\r\\n        \\"LEFT JOIN `filling` ON `cf`.`filling_id` = `filling`.`id`\\",\\r\\n    ]\\r\\n    .join(\\" \\")\\r\\n);\\r\\n```\\r\\n\\r\\n* [#2256](https://github.com/SeaQL/sea-orm/pull/2256) \u6dfb\u52a0\u4e86\u975e TLS \u8fd0\u884c\u65f6\\r\\n* [#2244](https://github.com/SeaQL/sea-orm/pull/2244) \u6dfb\u52a0\u4e86 `Insert::on_conflict_do_nothing`\\r\\n* [#2255](https://github.com/SeaQL/sea-orm/pull/2255) \u8fc1\u79fb\u6a21\u5f0f\u53ef\u7a7a\u5217\u663e\u5f0f\u8bbe\u7f6e\u4e3a NULL\\r\\n* [#2194](https://github.com/SeaQL/sea-orm/pull/2194) \u6dfb\u52a0\u4e86 `ActiveValue::set_if_not_equals()`\\r\\n* [#2197](https://github.com/SeaQL/sea-orm/pull/2197) \u6dfb\u52a0\u4e86 `ActiveValue::try_as_ref()`\\r\\n* [#2228](https://github.com/SeaQL/sea-orm/pull/2228) \u6dfb\u52a0\u4e86 `QuerySelect::order_by_with_nulls`\\r\\n* [#2233](https://github.com/SeaQL/sea-orm/pull/2233) \u9ed8\u8ba4\u516c\u5f00 `get_xxx_connection_pool`\\r\\n* [#2148](https://github.com/SeaQL/sea-orm/pull/2148) \u6dfb\u52a0\u4e86 `QueryResult::column_names`\\r\\n* [#2199](https://github.com/SeaQL/sea-orm/pull/2199) [sea-orm-macro] \u5728\u751f\u6210\u7684\u4ee3\u7801\u4e2d\u6dfb\u52a0 `@generated`\\r\\n* [#1665](https://github.com/SeaQL/sea-orm/pull/1665) [sea-orm-macro] \u5728 `DeriveActiveModel` \u5b8f\u4e2d\u4fee\u6b63\u7279\u6027\u5f15\u7528\\r\\n* [#2064](https://github.com/SeaQL/sea-orm/pull/2064) [sea-orm-cli] \u4fee\u590d\u7a7a\u7684 `mod.rs` \u6587\u4ef6\u4e0a\u7684 `migrate generate`\\r\\n\\r\\n## \u53d1\u5e03\u8ba1\u5212\\r\\n\\r\\n[SQLx 0.8](https://github.com/launchbadge/sqlx/blob/main/CHANGELOG.md#080---2024-07-22) \u6700\u8fd1\u53d1\u5e03\uff01\u6211\u4eec\u5e0c\u671b\u5c3d\u5feb\u5347\u7ea7\u5230 `0.7`\u3002\u4f46\u662f\uff0c\u7531\u4e8e `sea-orm` `1.0` \u5df2\u7ecf\u91ca\u653e\u5019\u9009\u7248\u672c\u4e00\u6bb5\u65f6\u95f4\uff0c\u5e76\u8003\u8651\u5230 `sqlx` `0.8` \u4e2d\u7684\u7834\u574f\u6027\u53d8\u5316\uff0c\u6211\u4eec\u51b3\u5b9a\u5c06 `sea-orm` `1.0` \u4fdd\u6301\u5728 `sqlx` `0.7`\u3002\\r\\n\\r\\n\u6211\u4eec\u8ba1\u5212\u5f88\u5feb\u5728 `sqlx` `0.8` \u4e0a\u53d1\u5e03 `sea-orm` `1.1`\u3002\u4e3a\u4e86\u907f\u514d\u610f\u5916\u7684\u6784\u5efa\u5931\u8d25\uff0c\u6211\u4eec\u5efa\u8bae\u6240\u6709\u7528\u6237\u7528 `tilde` \u8981\u6c42\u6307\u5b9a SeaORM \u4f9d\u8d56\uff1a\\r\\n\\r\\n```toml\\r\\nsea-orm = { version = \\"~1.0\\" }\\r\\n```\\r\\n\\r\\n\u6839\u636e [Cargo Book](https://doc.rust-lang.org/cargo/reference/resolver.html)\uff0c\u8fd9\u5c06\u9632\u6b62\u81ea\u52a8\u5347\u7ea7\u5230 `1.1`\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u5728\u65b9\u4fbf\u7684\u65f6\u5019\u8fdb\u884c\u5347\u7ea7\u3002\\r\\n\\r\\n\u5982\u679c\u60a8\u4f9d\u8d56\u4e8e `sea-orm` `0.12`\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u4eca\u5929\u5347\u7ea7\u5230 `1.0`\u3002\u7531\u4e8e\u5b83\u4eec\u90fd\u4f7f\u7528 `sqlx` `0.7`\uff0c\u6b64\u6b21\u5347\u7ea7\u805a\u7126\u4e8e SeaORM\u3002\u7136\u540e\u5347\u7ea7\u5230 `1.1`\uff0c\u540e\u8005\u4e13\u6ce8\u4e8e SQLx\uff0c\u56e0\u4e3a\u6211\u4eec\u4e0d\u4f1a\u5f15\u5165\u4efb\u4f55\u7834\u574f\u6027\u53d8\u5316\u3002\u6211\u4eec\u5efa\u8bae\u60a8\u9010\u6b65\u8fdb\u884c\u5347\u7ea7\uff01\\r\\n\\r\\nSeaORM 1.x \u5c06\u81f3\u5c11\u7ef4\u62a4\u4e00\u5e74\u3002\u5728\u90a3\u65f6\uff0c\u6211\u4eec\u5c06\u51b3\u5b9a\u662f\u5426\u53d1\u5e03 2.0 \u548c/\u6216\u5ef6\u957f 1.x \u7684\u751f\u547d\u5468\u671f\u3002\\r\\n\\r\\n## \u6211\u4eec\u7684\u672a\u6765\\r\\n\\r\\n\u60a8\u53ef\u80fd\u4f1a\u95ee\uff0c\u8fd9\u662f\u5426\u610f\u5473\u7740 SeaORM \\"\u5b8c\u6210\\" \u4e86\uff1f\u4e0d\uff0c\u7edd\u5bf9\u4e0d\u662f\uff01SeaORM 1.0 \u4e3a\u6211\u4eec\u548c\u793e\u533a\u63d0\u4f9b\u4e86\u4e00\u4e2a\u575a\u5b9e\u7684\u57fa\u7840\uff0c\u53ef\u4ee5\u56f4\u7ed5 SeaORM \u6784\u5efa\u66f4\u96c4\u5fc3\u52c3\u52c3\u7684\u529f\u80fd\u3002\u4ee5\u4e0b\u662f\u6211\u4eec\u613f\u666f\u7684\u4e00\u4e9b\u65b9\u9762\uff1a\\r\\n\\r\\n1. \u901a\u8fc7 Seaography \u652f\u6301 GraphQL\u3002\u6211\u4eec\u5e0c\u671b\u8fdb\u4e00\u6b65\u5f00\u53d1 Seaography\uff0c\u8ba9\u5f00\u53d1\u4eba\u5458\u5c06\u4e00\u7ec4 SeaORM \u5b9e\u4f53\u8f6c\u6362\u4e3a\u4e00\u4e2a\u5b8c\u6574\u7684 GraphQL \u670d\u52a1\u5668\uff01\\r\\n\\r\\n2. \u7ba1\u7406\u4eea\u8868\u677f\u3002\u6211\u4eec\u5e0c\u671b\u4e3a SeaORM \u6784\u5efa\u4e00\u4e2a\u4e00\u6d41\u7684\u524d\u7aef\u6846\u67b6\u3002\u4f7f\u7528 SeaORM \u5f00\u53d1\u7ba1\u7406/\u5ba2\u6237\u7aef\u95e8\u6237\u5c06\u53d8\u5f97\u8f7b\u800c\u6613\u4e3e\uff01\\r\\n\\r\\n3. \u6570\u636e\u79d1\u5b66/\u5206\u6790\u3002SeaORM \u73b0\u5728\u4e3b\u8981\u5173\u6ce8 OLTP\uff0c\u6211\u4eec\u77e5\u9053\u4eba\u4eec\u4e5f\u5728\u4f7f\u7528 SeaORM \u5904\u7406 OLAP \u5de5\u4f5c\u8d1f\u8f7d\u3002\u6211\u4eec\u5e0c\u671b\u63d0\u4f9b\u66f4\u597d\u7684\u4e0e\u6570\u636e\u6846\u67b6\u5e93\u7684\u96c6\u6210\uff0c\u5e76\u5f00\u53d1\u66f4\u591a\u9488\u5bf9\u6570\u636e\u79d1\u5b66\u548c\u5de5\u7a0b\u7684\u529f\u80fd\u3002\\r\\n\\r\\n4. \u6269\u5c55\u529f\u80fd\u3002\u6211\u4eec\u5e0c\u671b\u5f00\u53d1\u5e2e\u52a9\u5e94\u7528\u7a0b\u5e8f\u6269\u5c55\u7684\u529f\u80fd\uff0c\u4f8b\u5982\u5206\u7247\u3001\u7f13\u5b58\u548c\u591a\u79df\u6237\u3002\\r\\n\\r\\n## SQL Server \u652f\u6301\\r\\n\\r\\n\u6211\u4eec\u5df2\u7ecf\u8ba1\u5212\u4e86\u76f8\u5f53\u957f\u4e00\u6bb5\u65f6\u95f4\u7684 [SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/)\uff0cSQL Server \u7ec8\u4e8e\u6765\u5230\u4e86 SeaORM 1.0\uff01\u5b83\u5c06\u9996\u5148\u4f5c\u4e3a\u5c01\u95ed\u6d4b\u8bd5\u7248\u63d0\u4f9b\u7ed9\u6211\u4eec\u7684\u5408\u4f5c\u4f19\u4f34\u3002\u5982\u679c\u60a8\u611f\u5174\u8da3\uff0c\u8bf7\u52a0\u5165\u6211\u4eec\u7684 [\u7b49\u5f85\u540d\u5355](https://forms.office.com/r/1MuRPJmYBR)\u3002\\r\\n\\r\\n## \u8d5e\u52a9\\r\\n\\r\\n\u5c0f\u989d\u6350\u6b3e\u5c06\u975e\u5e38\u611f\u8c22\uff0c\u5e76\u5bf9\u7ef4\u6301\u7ec4\u7ec7\u8fd0\u4f5c\u5927\u6709\u5e2e\u52a9\u3002\\r\\n\\r\\n\u7279\u522b\u611f\u8c22\u6211\u4eec\u7684 [\u8d5e\u52a9\u5546](https://github.com/sponsors/SeaQL) \ud83d\ude07\uff1a\\r\\n\\r\\n### \u9ec4\u91d1\u8d5e\u52a9\u5546\\r\\n\\r\\n<a href=\\"https://osmos.io/\\">\\r\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos.svg#light\\" width=\\"238\\" />\\r\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos-dark.svg#dark\\" width=\\"238\\" />\\r\\n</a>\\r\\n\\r\\n[osmos](https://osmos.io/) \u63d0\u4f9b\u4e00\u4e2a\u6570\u636e\u6444\u53d6\u5e73\u53f0\uff0c\u4ee5\u7b80\u5316\u6570\u636e\u6444\u53d6\u3001\u8f6c\u6362\u548c\u5de5\u4f5c\u6d41\u7ba1\u7406\uff0c\u5e76\u4e14\u4ed6\u4eec\u5728\u4f7f\u7528 SeaQL \u5e93\u4f5c\u4e3a\u5e95\u5c42\u652f\u6301\uff01\\r\\n\\r\\n\u5982\u679c\u60a8\u4e5f\u60f3\u6210\u4e3a\u516c\u53f8\u8d5e\u52a9\u5546\u5e76\u5728\u8fd9\u91cc\u5c55\u793a\uff0c\u8bf7\u4e0e\u6211\u4eec\u8054\u7cfb\u3002\\r\\n\\r\\n### GitHub \u8d5e\u52a9\u5546\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Afonso Barracha\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Dean Sheather\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marcusbuffett\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marcus Buffett\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ktanaka101\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/10344925?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Kentaro Tanaka\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Naoki Ikeguchi\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/milesgranger\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/13764397?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Miles Granger\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/data-intuitive\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/15045722?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Data Intuitive\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mmuellersoppart\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/16762461?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marlon Mueller-Soppart\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/anshap1719\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/19164745?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Anshul Sanghi\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/25814001?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    MasakiMiyazaki\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Manfred Lee\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    KallyDev\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ellik159\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/46644287?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    ellik159\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/caido\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/78991750?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Caido\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Coolpany-SE\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/96304487?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Coolpany SE\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## Rustacean \u8d34\u7eb8\u5305 \ud83e\udd80\\r\\n\\r\\nRustacean \u8d34\u7eb8\u5305\u662f\u8868\u8fbe\u60a8\u5bf9 Rust \u70ed\u60c5\u7684\u5b8c\u7f8e\u65b9\u5f0f\u3002\\r\\n\u6211\u4eec\u7684\u8d34\u7eb8\u91c7\u7528\u4f18\u8d28\u7684\u9632\u6c34\u4e59\u70ef\u57fa\u5236\u6210\uff0c\u5e76\u5177\u6709\u72ec\u7279\u7684\u4e9a\u5149\u6548\u679c\u3002\\r\\n\u5c06\u5b83\u4eec\u8d34\u5728\u60a8\u7684\u7b14\u8bb0\u672c\u7535\u8111\u3001\u7b14\u8bb0\u672c\u6216\u4efb\u4f55\u8bbe\u5907\u4e0a\uff0c\u5c55\u793a\u60a8\u5bf9 Rust \u7684\u70ed\u7231\uff01\\r\\n\\r\\n\u6b64\u5916\uff0c\u6240\u6709\u6536\u76ca\u90fd\u5c06\u76f4\u63a5\u7528\u4e8e SeaQL \u9879\u76ee\u7684\u6301\u7eed\u5f00\u53d1\u3002\\r\\n\\r\\n\u8d34\u7eb8\u5305\u5185\u5bb9\uff1a\\r\\n- SeaQL \u9879\u76ee\u7684 Logo\uff1aSeaQL\u3001SeaORM\u3001SeaQuery\u3001Seaography\u3001FireDBG\\r\\n- SeaQL \u7684\u5409\u7965\u7269\uff1aTerres the Hermit Crab\\r\\n- Rust \u7684\u5409\u7965\u7269\uff1aFerris the Crab\\r\\n- Rustacean \u5b57\u6837\\r\\n\\r\\n[\u652f\u6301 SeaQL \u5e76\u83b7\u53d6\u8d34\u7eb8\u5305\uff01](https://www.sea-ql.org/sticker-pack/)\\r\\n\\r\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>\\r\\n```"},{"id":"/2024/07/01/graphql-support-with-loco-seaography","metadata":{"permalink":"/blog/2024/07/01/graphql-support-with-loco-seaography","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-07-01-graphql-support-with-loco-seaography.md","source":"@site/blog/2024-07-01-graphql-support-with-loco-seaography.md","title":"graphql-support-with-loco-seaography","description":"seaography = { version = \\"1.0.0-rc.4\\", features = [\\"with-decimal\\", \\"with-chrono\\"] }","date":"2024-07-01T00:00:00.000Z","formattedDate":"July 1, 2024","tags":[],"readingTime":9.375,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":"sea-orm-1.0","permalink":"/blog/2024/08/04/sea-orm-1.0"},"nextItem":{"title":"getting-started-with-loco-seaorm","permalink":"/blog/2024/05/28/getting-started-with-loco-seaorm"}},"content":"```markdown\\r\\n---\\r\\nslug: 2024-07-01-graphql-support-with-loco-seaography\\r\\ntitle: \u4f7f\u7528 Seaography \u4e3a Loco \u6dfb\u52a0 GraphQL \u652f\u6301\\r\\nauthor: Billy Chan\\r\\nauthor_title: SeaQL \u56e2\u961f\\r\\nauthor_url: https://github.com/billy1624\\r\\nauthor_image_url: https://avatars.githubusercontent.com/u/30400950?v=4\\r\\nimage: https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM.png\\r\\ntags: [news]\\r\\n---\\r\\n\\r\\n<img src=\\"/blog/img/Loco%20x%20SeaORM.png\\" />\\r\\n\\r\\n\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 [Seaography](https://github.com/SeaQL/seaography) \u4e3a\u6211\u4eec\u7684 Loco \u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u4e00\u4e2a GraphQL \u7aef\u70b9\u3002\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u9605\u8bfb\u8be5\u7cfb\u5217\u7684\u7b2c\u4e00\u6559\u7a0b [Loco & SeaORM \u5165\u95e8](https://www.sea-ql.org/blog/2024-05-28-getting-started-with-loco-seaorm/)\uff0c\u8bf7\u5148\u9605\u8bfb\u3002\\r\\n\\r\\n\u5b8c\u6574\u7684\u6e90\u4ee3\u7801\u53ef\u4ee5\u5728 [\u8fd9\u91cc](https://github.com/SeaQL/sea-orm/tree/master/examples/loco_seaography) \u627e\u5230\u3002\\r\\n\\r\\n## \u4ec0\u4e48\u662f Seaography\\r\\n\\r\\nSeaography \u662f\u4e00\u4e2a GraphQL \u6846\u67b6\uff0c\u53ef\u4ee5\u4f7f\u7528 SeaORM \u5b9e\u4f53\u6784\u5efa GraphQL \u89e3\u6790\u5668\u3002\u5b83\u9644\u5e26\u4e00\u4e2a CLI \u5de5\u5177\uff0c\u53ef\u4ee5\u4ece\u73b0\u6709\u7684 MySQL\u3001Postgres \u548c SQLite \u6570\u636e\u5e93\u751f\u6210\u53ef\u7f16\u8bd1\u7684 Rust GraphQL \u670d\u52a1\u5668\u3002\\r\\n\\r\\n## \u6dfb\u52a0\u4f9d\u8d56\\r\\n\\r\\n\u4fee\u6539 `Cargo.toml` \u5e76\u6dfb\u52a0\u51e0\u4e2a\u4f9d\u8d56\u9879\uff1a`seaography`\u3001`async-graphql`\u3001`async-graphql-axum` \u548c `lazy_static`\u3002\\r\\n\\r\\n```toml title=\\"loco_seaography/Cargo.toml\\"\\r\\nseaography = { version = \\"1.0.0-rc.4\\", features = [\\"with-decimal\\", \\"with-chrono\\"] }\\r\\nasync-graphql = { version = \\"7.0\\", features = [\\"decimal\\", \\"chrono\\", \\"dataloader\\", \\"dynamic-schema\\"] }\\r\\nasync-graphql-axum = { version = \\"7.0\\" }\\r\\nlazy_static = { version = \\"1.4\\" }\\r\\ntower-service = { version = \\"0.3\\" }\\r\\n```\\r\\n\\r\\n## \u4e3a Seaography \u8bbe\u7f6e SeaORM \u5b9e\u4f53\\r\\n\\r\\nSeaography \u5b9e\u4f53\u57fa\u672c\u4e0a\u662f\u5e26\u6709\u4e00\u4e9b\u9644\u52a0\u9879\u7684 SeaORM \u5b9e\u4f53\u3002\u5b83\u4eec\u4e0e SeaORM \u5b8c\u5168\u517c\u5bb9\u3002\\r\\n\\r\\n\u4f60\u53ef\u4ee5\u4f7f\u7528 `sea-orm-cli` \u5e76\u5e26\u4e0a\u989d\u5916\u7684 `--seaography` \u6807\u5fd7\u6765\u751f\u6210 Seaography \u5b9e\u4f53\u3002\\r\\n\\r\\n```sh\\r\\nsea-orm-cli generate entity -o src/models/_entities -u postgres://loco:loco@localhost:5432/loco_seaography_development --seaography\\r\\n```\\r\\n\\r\\n```diff title=\\"loco_seaography/src/models/_entities/notes.rs\\"\\r\\nuse sea_orm::entity::prelude::*;\\r\\nuse serde::{Serialize, Deserialize};\\r\\n\\r\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq, Serialize, Deserialize)]\\r\\n#[sea_orm(table_name = \\"notes\\")]\\r\\npub struct Model {\\r\\n    pub created_at: DateTime,\\r\\n    pub updated_at: DateTime,\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    pub title: Option<String>,\\r\\n    pub content: Option<String>,\\r\\n}\\r\\n\\r\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\r\\npub enum Relation {\\r\\n    #[sea_orm(has_many = \\"super::files::Entity\\")]\\r\\n    Files,\\r\\n}\\r\\n\\r\\nimpl Related<super::files::Entity> for Entity {\\r\\n    fn to() -> RelationDef {\\r\\n        Relation::Files.def()\\r\\n    }\\r\\n}\\r\\n\\r\\n+ // \u5b9a\u4e49 `RelatedEntity` \u4ee5\u5c06\u4e00\u4e2a\u5b9e\u4f53\u4e0e\u53e6\u4e00\u4e2a\u5b9e\u4f53\u5173\u8054\\r\\n+ #[derive(Copy, Clone, Debug, EnumIter, DeriveRelatedEntity)]\\r\\n+ pub enum RelatedEntity {\\r\\n+     #[sea_orm(entity = \\"super::files::Entity\\")]\\r\\n+     Files,\\r\\n+ }\\r\\n```\\r\\n\\r\\n\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5728\u5b9e\u4f53\u6587\u4ef6\u4e2d\u751f\u6210\u4e86\u4e00\u4e2a\u65b0\u7684\u679a\u4e3e `RelatedEntity`\u3002\u8fd9\u5e2e\u52a9 Seaography \u627e\u5230\u76f8\u5173\u5b9e\u4f53\u4ee5\u8fdb\u884c\u5173\u7cfb\u67e5\u8be2\u3002\\r\\n\\r\\n## \u5b9e\u73b0 GraphQL \u67e5\u8be2\u6839\\r\\n\\r\\n\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u4e86 SeaORM \u5b9e\u4f53\u7684\u8bbe\u7f6e\uff0c\u73b0\u5728\u6211\u4eec\u6765\u5b9e\u73b0 Seaography \u7684\u67e5\u8be2\u6839\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u5c06 SeaORM \u548c Async GraphQL \u8fdb\u884c\u8fde\u63a5\uff0c\u5e76\u501f\u52a9 Seaography \u6765\u5b9e\u73b0\u3002\\r\\n\\r\\n```rust title=\\"loco_seaography/src/graphql/query_root.rs\\"\\r\\nuse async_graphql::dynamic::*;\\r\\nuse sea_orm::DatabaseConnection;\\r\\nuse seaography::{Builder, BuilderContext};\\r\\n\\r\\nuse crate::models::_entities::*;\\r\\n\\r\\nlazy_static::lazy_static! { static ref CONTEXT: BuilderContext = BuilderContext::default(); }\\r\\n\\r\\npub fn schema(\\r\\n    database: DatabaseConnection,\\r\\n    depth: usize,\\r\\n    complexity: usize,\\r\\n) -> Result<Schema, SchemaError> {\\r\\n    // Seaography \u67e5\u8be2\u6839\u7684\u6784\u5efa\u5668\\r\\n    let mut builder = Builder::new(&CONTEXT, database.clone());\\r\\n    // \u6ce8\u518c SeaORM \u5b9e\u4f53\\r\\n    seaography::register_entities!(\\r\\n        builder,\\r\\n        // \u5728\u6b64\u5904\u5217\u51fa\u6211\u4eec\u60f3\u8981\u5305\u542b\u5728 GraphQL \u7aef\u70b9\u4e2d\u7684\u6240\u6709\u6a21\u578b\\r\\n        [files, notes, users]\\r\\n    );\\r\\n    // \u914d\u7f6e async GraphQL \u9650\u5236\\r\\n    let schema = builder\\r\\n        .schema_builder()\\r\\n        // \u6df1\u5ea6\u662f\u5b57\u6bb5\u7684\u5d4c\u5957\u7ea7\u522b\u6570\u91cf\\r\\n        .limit_depth(depth)\\r\\n        // \u590d\u6742\u5ea6\u662f\u67e5\u8be2\u4e2d\u7684\u5b57\u6bb5\u6570\u91cf\\r\\n        .limit_complexity(complexity);\\r\\n    // \u6700\u540e\u5305\u62ec SeaORM \u6570\u636e\u5e93\u8fde\u63a5\\r\\n    schema.data(database).finish()\\r\\n}\\r\\n```\\r\\n\\r\\n## \u7f16\u5199 Loco \u63a7\u5236\u5668\u4ee5\u5904\u7406 GraphQL \u7aef\u70b9\\r\\n\\r\\n\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u4f7f\u7528 `async-graphql` \u4e2d\u5185\u7f6e\u7684 GraphQL playground UI \u6765\u6d4b\u8bd5 GraphQL \u7aef\u70b9\u3002\u5e76\u4f7f\u7528 `async_graphql_axum` \u548c Seaography \u6765\u5904\u7406 GraphQL \u8bf7\u6c42\u3002\\r\\n\\r\\n```rust title=\\"loco_seaography/src/controllers/graphql.rs\\"\\r\\nuse async_graphql::http::{playground_source, GraphQLPlaygroundConfig};\\r\\nuse axum::{body::Body, extract::Request};\\r\\nuse loco_rs::prelude::*;\\r\\nuse tower_service::Service;\\r\\n\\r\\nuse crate::graphql::query_root;\\r\\n\\r\\n// GraphQL playground UI\\r\\nasync fn graphql_playground() -> Result<Response> {\\r\\n    // `GraphQLPlaygroundConfig` \u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\\r\\n    // \u5373 GraphQL \u5904\u7406\u7a0b\u5e8f\u7684 URL: `/api/graphql`\\r\\n    let res = playground_source(GraphQLPlaygroundConfig::new(\\"/api/graphql\\"));\\r\\n\\r\\n    Ok(Response::new(res.into()))\\r\\n}\\r\\n\\r\\nasync fn graphql_handler(\\r\\n    State(ctx): State<AppContext>,\\r\\n    req: Request<Body>,\\r\\n) -> Result<Response> {\\r\\n    const DEPTH: usize = 10;\\r\\n    const COMPLEXITY: usize = 100;\\r\\n    // \u6784\u5efa GraphQL \u67e5\u8be2\u6839\\r\\n    let schema = query_root::schema(ctx.db.clone(), DEPTH, COMPLEXITY).unwrap();\\r\\n    // GraphQL \u5904\u7406\u7a0b\u5e8f\\r\\n    let mut graphql_handler = async_graphql_axum::GraphQL::new(schema);\\r\\n    // \u6267\u884c GraphQL \u8bf7\u6c42\u5e76\u83b7\u53d6\u7ed3\u679c\\r\\n    let res = graphql_handler.call(req).await.unwrap();\\r\\n\\r\\n    Ok(res)\\r\\n}\\r\\n\\r\\npub fn routes() -> Routes {\\r\\n    // \u5b9a\u4e49\u8def\u7531\\r\\n    Routes::new()\\r\\n        // \u6211\u4eec\u5c06\u6240\u6709 GraphQL \u8def\u7531\u653e\u5728 `graphql` \u524d\u7f00\u540e\u9762\\r\\n        .prefix(\\"graphql\\")\\r\\n        // GraphQL playground \u9875\u9762\u662f GET \u8bf7\u6c42\\r\\n        .add(\\"/\\", get(graphql_playground))\\r\\n        // GraphQL \u5904\u7406\u7a0b\u5e8f\u662f POST \u8bf7\u6c42\\r\\n        .add(\\"/\\", post(graphql_handler))\\r\\n}\\r\\n```\\r\\n\\r\\n## \u6253\u5f00 GraphQL Playground\\r\\n\\r\\n\u7f16\u8bd1\u5e76\u8fd0\u884c Loco \u5e94\u7528\u7a0b\u5e8f\uff0c\u7136\u540e\u8bbf\u95ee [http://localhost:3000/api/graphql](http://localhost:3000/api/graphql)\u3002\\r\\n\\r\\n```sh\\r\\n$ cargo run start\\r\\n\\r\\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.60s\\r\\n     Running `target/debug/loco_seaography-cli start`\\r\\n2024-06-24T08:04:52.173924Z  INFO app: loco_rs::config: loading environment from selected_path=\\"config/development.yaml\\" environment=development\\r\\n2024-06-24T08:04:52.180447Z  WARN app: loco_rs::boot: pretty backtraces are enabled (this is great for development but has a runtime cost for production. disable with `logger.pretty_backtrace` in your config yaml) environment=development\\r\\n2024-06-24T08:04:52.272392Z  INFO app: loco_rs::db: auto migrating environment=development\\r\\n2024-06-24T08:04:52.275198Z  INFO app: sea_orm_migration::migrator: Applying all pending migrations environment=development\\r\\n2024-06-24T08:04:52.280720Z  INFO app: sea_orm_migration::migrator: No pending migrations environment=development\\r\\n2024-06-24T08:04:52.281280Z  INFO app: loco_rs::boot: initializers loaded initializers=\\"\\" environment=development\\r\\n2024-06-24T08:04:52.308827Z  INFO app: loco_rs::controller::app_routes: [GET] /api/_ping environment=development\\r\\n2024-06-24T08:04:52.308936Z  INFO app: loco_rs::controller::app_routes: [GET] /api/_health environment=development\\r\\n2024-06-24T08:04:52.309021Z  INFO app: loco_rs::controller::app_routes: [GET] /api/notes environment=development\\r\\n2024-06-24T08:04:52.309088Z  INFO app: loco_rs::controller::app_routes: [POST] /api/notes environment=development\\r\\n2024-06-24T08:04:52.309158Z  INFO app: loco_rs::controller::app_routes: [GET] /api/notes/:id environment=development\\r\\n2024-06-24T08:04:52.309234Z  INFO app: loco_rs::controller::app_routes: [DELETE] /api/notes/:id environment=development\\r\\n2024-06-24T08:04:52.309286Z  INFO app: loco_rs::controller::app_routes: [POST] /api/notes/:id environment=development\\r\\n2024-06-24T08:04:52.309334Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/register environment=development\\r\\n2024-06-24T08:04:52.309401Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/verify environment=development\\r\\n2024-06-24T08:04:52.309471Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/login environment=development\\r\\n2024-06-24T08:04:52.309572Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/forgot environment=development\\r\\n2024-06-24T08:04:52.309662Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/reset environment=development\\r\\n2024-06-24T08:04:52.309752Z  INFO app: loco_rs::controller::app_routes: [GET] /api/user/current environment=development\\r\\n2024-06-24T08:04:52.309827Z  INFO app: loco_rs::controller::app_routes: [POST] /api/files/upload/:notes_id environment=development\\r\\n2024-06-24T08:04:52.309910Z  INFO app: loco_rs::controller::app_routes: [GET] /api/files/list/:notes_id environment=development\\r\\n2024-06-24T08:04:52.309997Z  INFO app: loco_rs::controller::app_routes: [GET] /api/files/view/:files_id environment=development\\r\\n2024-06-24T08:04:52.310088Z  INFO app: loco_rs::controller::app_routes: [GET] /api/graphql environment=development\\r\\n2024-06-24T08:04:52.310172Z  INFO app: loco_rs::controller::app_routes: [POST] /api/graphql environment=development\\r\\n2024-06-24T08:04:52.310469Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding limit payload data=\\"5mb\\" environment=development\\r\\n2024-06-24T08:04:52.310615Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding log trace id environment=development\\r\\n2024-06-24T08:04:52.310934Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding cors environment=development\\r\\n2024-06-24T08:04:52.311008Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding etag layer environment=development\\r\\n\\r\\n                      \u2584     \u2580\\r\\n                                 \u2580  \u2584\\r\\n                  \u2584       \u2580     \u2584  \u2584 \u2584\u2580\\r\\n                                    \u2584 \u2580\u2584\u2584\\r\\n                        \u2584     \u2580    \u2580  \u2580\u2584\u2580\u2588\u2584\\r\\n                                          \u2580\u2588\u2584\\r\\n\u2584\u2584\u2584\u2584\u2584\u2584\u2584  \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584   \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584 \u2580\u2580\u2588\\r\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2580\u2588\\r\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2580\u2580\u2580 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2584\u2588\u2584\\r\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588       \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2584\\r\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2584\u2584\u2584 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\\r\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588  \u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2580\\r\\n   \u2580\u2580\u2580\u2588\u2588\u2584 \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580  \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580  \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580 \u2588\u2588\u2580\\r\\n       \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\\r\\n                https://loco.rs\\r\\n\\r\\nenvironment: development\\r\\n   database: automigrate\\r\\n     logger: debug\\r\\ncompilation: debug\\r\\n      modes: server\\r\\n\\r\\nlistening on [::]:3000\\r\\n```\\r\\n\\r\\n## \u521b\u5efa\u7b14\u8bb0\\r\\n\\r\\n\u4f7f\u7528 GraphQL \u53d8\u5f02\u521b\u5efa\u65b0\u7684\u7b14\u8bb0\u3002\\r\\n\\r\\n```graphql\\r\\nmutation {\\r\\n  notesCreateOne(\\r\\n    data: {\\r\\n      id: 1\\r\\n      title: \\"Notes 001\\"\\r\\n      content: \\"Content 001\\"\\r\\n      createdAt: \\"2024-06-24 00:00:00\\"\\r\\n      updatedAt: \\"2024-06-24 00:00:00\\"\\r\\n    }\\r\\n  ) {\\r\\n    id\\r\\n    title\\r\\n    content\\r\\n    createdAt\\r\\n    updatedAt\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography create.png>)\\r\\n\\r\\n## \u67e5\u8be2\u7b14\u8bb0\\r\\n\\r\\n\u67e5\u8be2\u5305\u542b\u76f8\u5173\u6587\u4ef6\u7684\u7b14\u8bb0\u3002\\r\\n\\r\\n```graphql\\r\\nquery {\\r\\n  notes {\\r\\n    nodes {\\r\\n      id\\r\\n      title\\r\\n      content\\r\\n      files {\\r\\n        nodes {\\r\\n          id\\r\\n          filePath\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography query.png>)\\r\\n\\r\\n## \u5411 GraphQL \u7aef\u70b9\u6dfb\u52a0\u7528\u6237\u8ba4\u8bc1\\r\\n\\r\\n\u6211\u4eec\u7684 GraphQL \u5904\u7406\u7a0b\u5e8f\u53ef\u4ee5\u5728\u6ca1\u6709\u7528\u6237\u8ba4\u8bc1\u7684\u60c5\u51b5\u4e0b\u8bbf\u95ee\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5e0c\u671b\u53ea\u5141\u8bb8\u5df2\u767b\u5f55\u7528\u6237\u8bbf\u95ee GraphQL \u5904\u7406\u7a0b\u5e8f\u3002\\r\\n\\r\\n\u4e3a\u6b64\uff0c\u6211\u4eec\u5c06 `_auth: auth::JWT` \u6dfb\u52a0\u5230 `graphql_handler` \u51fd\u6570\u4e2d\u3002\\r\\n\\r\\n```diff title=\\"loco_seaography/src/controllers/graphql.rs\\"\\r\\nasync fn graphql_handler(\\r\\n+   _auth: auth::JWT,\\r\\n    State(ctx): State<AppContext>,\\r\\n    req: Request<Body>,\\r\\n) -> Result<Response> {\\r\\n    const DEPTH: usize = 10;\\r\\n    const COMPLEXITY: usize = 100;\\r\\n    // \u6784\u5efa GraphQL \u67e5\u8be2\u6839\\r\\n    let schema = query_root::schema(ctx.db.clone(), DEPTH, COMPLEXITY).unwrap();\\r\\n    // GraphQL \u5904\u7406\u7a0b\u5e8f\\r\\n    let mut graphql_handler = async_graphql_axum::GraphQL::new(schema);\\r\\n    // \u6267\u884c GraphQL \u8bf7\u6c42\u5e76\u83b7\u53d6\u7ed3\u679c\\r\\n    let res = graphql_handler.call(req).await.unwrap();\\r\\n\\r\\n    Ok(res)\\r\\n}\\r\\n```\\r\\n\\r\\n\u7136\u540e\uff0c\u8fd0\u884c Loco \u5e94\u7528\u7a0b\u5e8f\u5e76\u518d\u6b21\u8bbf\u95ee GraphQL playground\u3002\u4f60\u5e94\u8be5\u4f1a\u770b\u5230\u672a\u6388\u6743\u9519\u8bef\u3002\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography unauthorize.png>)\\r\\n\\r\\n## \u5411 GraphQL Playground \u6dfb\u52a0\u8ba4\u8bc1\u5934\\r\\n\\r\\n\u9996\u5148\uff0c\u6211\u4eec\u901a\u8fc7\u7528\u76f8\u5e94\u7684\u7535\u5b50\u90ae\u4ef6\u548c\u5bc6\u7801\u767b\u5f55\u7528\u6237\u5e10\u6237\u751f\u6210\u4e00\u4e2a\u6709\u6548\u7684\u6388\u6743\u4ee4\u724c\uff1a\\r\\n\\r\\n```sh\\r\\n$ curl --location \'http://localhost:3000/api/auth/login\' \\\\\\r\\n--data-raw \'{\\r\\n    \\"email\\": \\"cwchan.billy@gmail.com\\",\\r\\n    \\"password\\": \\"password\\"\\r\\n}\'\\r\\n\\r\\n{\\r\\n    \\"token\\": \\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIwN2NjMDk5Ni03YWYxLTQ5YmYtYmY2NC01OTg4ZjFhODM2OTkiLCJleHAiOjE3MTk4MjIzMzN9.CgKp_aE-DyAuBJIvFGJ6l68ooAlEiJGhjWeaetDtHrupaYDm0ldVxf24vj3fPgkCqZ_njv2129n2pSCzHOjaow\\",\\r\\n    \\"pid\\": \\"07cc0996-7af1-49bf-bf64-5988f1a83699\\",\\r\\n    \\"name\\": \\"Billy\\",\\r\\n    \\"is_verified\\": true\\r\\n}\\r\\n```\\r\\n\\r\\n\u8f6c\u5230 GraphQL playground \u7684\u8bbe\u7f6e\u9875\u9762\u3002\u5728 `request.globalHeaders` \u4e0b\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u5934\uff1a\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography authorization.png>)\\r\\n\\r\\n\u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u50cf\u5f80\u5e38\u4e00\u6837\u8bbf\u95ee GraphQL \u5904\u7406\u7a0b\u5e8f\u3002\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography query.png>)\\r\\n\\r\\n## \u7ed3\u8bba\\r\\n\\r\\n\u5728 Loco \u5e94\u7528\u7a0b\u5e8f\u4e2d\u6dfb\u52a0 GraphQL \u652f\u6301\u975e\u5e38\u7b80\u5355\uff0c\u5f97\u76ca\u4e8e Seaography\u3002\u8fd9\u662f\u4e00\u4e2a\u4eba\u6027\u5316\u7684\u5e93\uff0c\u5c06 SeaORM \u5b9e\u4f53\u8f6c\u6362\u4e3a GraphQL \u8282\u70b9\uff0c\u5e76\u63d0\u4f9b\u4e00\u7cfb\u5217\u5b9e\u7528\u7a0b\u5e8f\uff0c\u7ed3\u5408\u4ee3\u7801\u751f\u6210\u5668\uff0c\u4f7f GraphQL API \u7684\u6784\u5efa\u53d8\u5f97\u8f7b\u800c\u6613\u4e3e\u3002\\r\\n\\r\\n## SQL Server \u652f\u6301\\r\\n\\r\\n[SeaORM \u7684 SQL Server](https://www.sea-ql.org/SeaORM-X/) \u73b0\u5df2\u4f5c\u4e3a\u95ed\u6d4b\u8bd5\u7248\u63d0\u4f9b\u3002\u5982\u679c\u4f60\u611f\u5174\u8da3\uff0c\u8bf7\u5728 [\u8fd9\u91cc](https://forms.office.com/r/1MuRPJmYBR) \u6ce8\u518c\u3002\\r\\n\\r\\n\u4ece `sea-orm` \u8fc1\u79fb\u5230 `sea-orm-x` \u5341\u5206\u7b80\u5355\uff0c\u53ea\u9700\u4e24\u6b65\u3002\u9996\u5148\uff0c\u5c06\u73b0\u6709\u7684 `sea-orm` \u4f9d\u8d56\u9879\u66f4\u65b0\u4e3a `sea-orm-x` \u5e76\u542f\u7528 `sqlz-mssql` \u7279\u6027\u3002\u8bf7\u6ce8\u610f\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4e3a\u4e0a\u6e38\u4f9d\u8d56\u9879\u6253\u8865\u4e01 SeaORM \u4f9d\u8d56\u9879\u3002\\r\\n\\r\\n```toml title=\\"Cargo.toml\\"\\r\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\", features = [\\"runtime-async-std-rustls\\", \\"sqlz-mssql\\"] }\\r\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\r\\n\\r\\n# \u4e3a\u4e0a\u6e38\u4f9d\u8d56\u9879\u8865\u4e01 SeaORM \u4f9d\u8d56\u9879\\r\\n[patch.crates-io]\\r\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\" }\\r\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\r\\n```\\r\\n\\r\\n\u5176\u6b21\uff0c\u66f4\u65b0\u8fde\u63a5\u5b57\u7b26\u4e32\u4ee5\u8fde\u63a5\u5230 MSSQL \u6570\u636e\u5e93\u3002\\r\\n\\r\\n```sh\\r\\n# \u5982\u679c\u6a21\u5f0f\u662f `dbo`\uff0c\u53ea\u9700\u5199\uff1a\\r\\nmssql://username:password@host/database\\r\\n\\r\\n# \u6216\u8005\uff0c\u901a\u8fc7\u63d0\u4f9b\u989d\u5916\u7684 `currentSchema` \u67e5\u8be2\u53c2\u6570\u6307\u5b9a\u6a21\u5f0f\u540d\u79f0\u3002\\r\\nmssql://username:password@host/database?currentSchema=my_schema\\r\\n\\r\\n# \u4f60\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b\u989d\u5916\u7684 trustCertificate \u67e5\u8be2\u53c2\u6570\u6765\u4fe1\u4efb\u5bf9\u7b49\u8bc1\u4e66\u3002\\r\\nmssql://username:password@host/database?trustCertificate=true\\r\\n```\\r\\n\\r\\nSeaORM X \u5b8c\u5168\u652f\u6301 Loco \u5e76\u4e0e\u8bb8\u591a Web \u6846\u67b6\u65e0\u7f1d\u96c6\u6210\uff1a\\r\\n\\r\\n+ Actix\\r\\n+ Axum\\r\\n+ Async GraphQL\\r\\n+ jsonrpsee\\r\\n+ Loco\\r\\n+ Poem\\r\\n+ Salvo\\r\\n+ Tonic\\r\\n\\r\\n\u795d\u7f16\u7801\u6109\u5feb\uff01\\r\\n```"},{"id":"/2024/05/28/getting-started-with-loco-seaorm","metadata":{"permalink":"/blog/2024/05/28/getting-started-with-loco-seaorm","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-05-28-getting-started-with-loco-seaorm.md","source":"@site/blog/2024-05-28-getting-started-with-loco-seaorm.md","title":"getting-started-with-loco-seaorm","description":"cargo install loco-cli","date":"2024-05-28T00:00:00.000Z","formattedDate":"May 28, 2024","tags":[],"readingTime":14.05,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":"graphql-support-with-loco-seaography","permalink":"/blog/2024/07/01/graphql-support-with-loco-seaography"},"nextItem":{"title":"\u540c\u6b65\u4e0e\u5f02\u6b65 Rust \u4e4b\u95f4\u7684\u5f69\u8679\u6865","permalink":"/blog/2024-05-20-async-rainbow-bridge"}},"content":"```markdown\\r\\n---\\r\\nslug: 2024-05-28-getting-started-with-loco-seaorm\\r\\ntitle: \u5f00\u59cb\u4f7f\u7528 Loco \u548c SeaORM\\r\\nauthor: Billy Chan\\r\\nauthor_title: SeaQL \u56e2\u961f\\r\\nauthor_url: https://github.com/billy1624\\r\\nauthor_image_url: https://avatars.githubusercontent.com/u/30400950?v=4\\r\\nimage: https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM.png\\r\\ntags: [news]\\r\\n---\\r\\n\\r\\n<img src=\\"/blog/img/Loco%20x%20SeaORM.png\\" />\\r\\n\\r\\n\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u4ece\u5934\u5f00\u59cb\u521b\u5efa\u4e00\u4e2a REST \u7b14\u8bb0\u672c\u540e\u7aef\uff0c\u5e76\u5728 Loco \u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684 REST \u7aef\u70b9\u6765\u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u3002\\r\\n\\r\\n\u5b8c\u6574\u7684\u6e90\u4ee3\u7801\u53ef\u4ee5\u5728 [\u8fd9\u91cc](https://github.com/SeaQL/sea-orm/tree/master/examples/loco_starter) \u627e\u5230\u3002REST API \u7684\u6587\u6863\u53ef\u4ee5\u5728 [\u8fd9\u91cc](https://documenter.getpostman.com/view/34752358/2sA3QmEF5q) \u67e5\u770b\u3002\\r\\n\\r\\n## \u4ec0\u4e48\u662f Loco\uff1f\\r\\n\\r\\n[Loco](https://loco.rs/) \u662f\u4e00\u4e2a\u53d7 Rails \u542f\u53d1\u7684 Rust \u7f51\u7edc\u6846\u67b6\u3002\u5b83\u5305\u542b\u8bb8\u591a Rails \u7684\u7279\u6027\u548c Rust \u7684\u6613\u7528\u6027\u3002Loco \u4e0e SeaORM \u65e0\u7f1d\u96c6\u6210\uff0c\u63d0\u4f9b\u4e00\u6d41\u7684\u5f00\u53d1\u4f53\u9a8c\uff01\\r\\n\\r\\n- \u901a\u8fc7 [axum](https://github.com/tokio-rs/axum) \u8fdb\u884c\u63a7\u5236\u5668\u548c\u8def\u7531\\r\\n- \u901a\u8fc7 [SeaORM](https://www.sea-ql.org/SeaORM/) \u8fdb\u884c\u6a21\u578b\u3001\u8fc1\u79fb\u548c ActiveRecord\\r\\n- \u901a\u8fc7 [serde](https://serde.rs/json.html) \u8fdb\u884c\u89c6\u56fe\\r\\n- \u65e0\u7f1d\u7684\u540e\u53f0\u4f5c\u4e1a\uff0c\u4f7f\u7528 [sidekiq-rs](https://github.com/film42/sidekiq-rs)\uff0c\u591a\u6a21\u5f0f\uff1a\u8fdb\u7a0b\u5185\u3001\u8fdb\u7a0b\u5916\u3001\u901a\u8fc7 Tokio \u7684\u5f02\u6b65\\r\\n- [...\u66f4\u591a](https://loco.rs/blog/hello-world/)\\r\\n\\r\\n## REST API \u542f\u52a8\u6a21\u677f\\r\\n\\r\\n\u5b89\u88c5 `loco-cli`\uff1a\\r\\n\\r\\n```sh\\r\\ncargo install loco-cli\\r\\n```\\r\\n\\r\\n`loco-cli` \u63d0\u4f9b\u4e09\u4e2a\u542f\u52a8\u6a21\u677f\uff1a\\r\\n\\r\\n- SaaS \u542f\u52a8\u5668\\r\\n- REST API \u542f\u52a8\u5668\\r\\n- \u8f7b\u91cf\u7ea7\u670d\u52a1\u542f\u52a8\u5668\\r\\n\\r\\n\u5bf9\u4e8e\u672c\u6559\u7a0b\uff0c\u6211\u4eec\u9700\u8981\u9009\u62e9 \\"REST API \u542f\u52a8\u5668\\" \u6a21\u677f\uff1a\\r\\n\\r\\n```sh\\r\\n$ loco new\\r\\n\\r\\n\u2714  \u4f60\u5728\u4e00\u4e2a git \u4ed3\u5e93\u5185\u3002\u4f60\u662f\u5426\u5e0c\u671b\u7ee7\u7eed\uff1f \xb7 \u662f\\r\\n\u2714  \u5e94\u7528\u540d\u79f0\uff1f \xb7 loco_starter\\r\\n\u2714  \u4f60\u60f3\u6784\u5efa\u4ec0\u4e48\uff1f \xb7 REST API\uff08\u5e26\u6570\u636e\u5e93\u548c\u7528\u6237\u8ba4\u8bc1\uff09\\r\\n\\r\\n\ud83d\ude82 Loco \u5e94\u7528\u6210\u529f\u751f\u6210\u4e8e\uff1a\\r\\n/sea-orm/examples/loco_starter\\r\\n```\\r\\n\\r\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u6211\u4eec\u7684 PostgreSQL \u6570\u636e\u5e93\u3002\\r\\n\\r\\n```sh\\r\\ndocker run -d -p 5432:5432 -e POSTGRES_USER=loco -e POSTGRES_DB=loco_starter_development -e POSTGRES_PASSWORD=\\"loco\\" postgres:15.3-alpine\\r\\n```\\r\\n\\r\\n\u5982\u679c\u4f60\u60f3\u4f7f\u7528 MySQL \u6216 SQLite \u4f5c\u4e3a\u6570\u636e\u5e93\uff0c\u8bf7\u66f4\u65b0 `loco_starter/config/development.yaml` \u4e2d\u7684 `database.uri` \u914d\u7f6e\u3002\u5e76\u5728 `loco_starter/Cargo.toml` \u4e2d\u542f\u7528 SeaORM \u7684\u76f8\u5e94\u6570\u636e\u5e93\u540e\u7aef\u529f\u80fd\u6807\u5fd7\u3002\\r\\n\\r\\n\u73b0\u5728\uff0c\u542f\u52a8\u6211\u4eec\u7684 REST \u5e94\u7528\u7a0b\u5e8f\uff1a\\r\\n\\r\\n```sh\\r\\n$ cargo loco start\\r\\n\\r\\n    Finished `dev` \u914d\u7f6e\u6587\u4ef6 [\u672a\u4f18\u5316 + \u8c03\u8bd5\u4fe1\u606f] \u76ee\u6807\uff08s\uff09\u5728 1m 42s \u5185\u5b8c\u6210\\r\\n     \u8fd0\u884c `target/debug/loco_starter-cli start`\\r\\n2024-05-20T06:56:42.724350Z  INFO app: loco_rs::config: \u4ece selected_path=\\"config/development.yaml\\" \u52a0\u8f7d\u73af\u5883 environment=development\\r\\n2024-05-20T06:56:42.740338Z  WARN app: loco_rs::boot: \u542f\u7528\u4e86\u6f02\u4eae\u7684\u56de\u6eaf\uff08\u8fd9\u5bf9\u5f00\u53d1\u5f88\u6709\u5e2e\u52a9\uff0c\u4f46\u5728\u751f\u4ea7\u4e2d\u4f1a\u5e26\u6765\u8fd0\u884c\u65f6\u5f00\u9500\u3002\u53ef\u4ee5\u901a\u8fc7\u5728\u914d\u7f6e yaml \u4e2d\u4f7f\u7528 `logger.pretty_backtrace` \u6765\u7981\u7528\uff09\u73af\u5883=development\\r\\n2024-05-20T06:56:42.833747Z  INFO app: loco_rs::db: \u81ea\u52a8\u8fc1\u79fb\u73af\u5883=development\\r\\n2024-05-20T06:56:42.845983Z  INFO app: sea_orm_migration::migrator: \u6b63\u5728\u5e94\u7528\u6240\u6709\u5f85\u5904\u7406\u7684\u8fc1\u79fb\u73af\u5883=development\\r\\n2024-05-20T06:56:42.850231Z  INFO app: sea_orm_migration::migrator: \u6b63\u5728\u5e94\u7528\u8fc1\u79fb \'m20220101_000001_users\' \u73af\u5883=development\\r\\n2024-05-20T06:56:42.864095Z  INFO app: sea_orm_migration::migrator: \u8fc1\u79fb \'m20220101_000001_users\' \u5df2\u5e94\u7528\u73af\u5883=development\\r\\n2024-05-20T06:56:42.865799Z  INFO app: sea_orm_migration::migrator: \u6b63\u5728\u5e94\u7528\u8fc1\u79fb \'m20231103_114510_notes\' \u73af\u5883=development\\r\\n2024-05-20T06:56:42.873653Z  INFO app: sea_orm_migration::migrator: \u8fc1\u79fb \'m20231103_114510_notes\' \u5df2\u5e94\u7528\u73af\u5883=development\\r\\n2024-05-20T06:56:42.875645Z  INFO app: loco_rs::boot: \u521d\u59cb\u5316\u5668\u52a0\u8f7d\u5b8c\u6210 initializers=\\"\\" environment=development\\r\\n2024-05-20T06:56:42.906072Z  INFO app: loco_rs::controller::app_routes: [GET] /api/_ping environment=development\\r\\n2024-05-20T06:56:42.906176Z  INFO app: loco_rs::controller::app_routes: [GET] /api/_health environment=development\\r\\n2024-05-20T06:56:42.906264Z  INFO app: loco_rs::controller::app_routes: [GET] /api/notes environment=development\\r\\n2024-05-20T06:56:42.906335Z  INFO app: loco_rs::controller::app_routes: [POST] /api/notes environment=development\\r\\n2024-05-20T06:56:42.906414Z  INFO app: loco_rs::controller::app_routes: [GET] /api/notes/:id environment=development\\r\\n2024-05-20T06:56:42.906501Z  INFO app: loco_rs::controller::app_routes: [DELETE] /api/notes/:id environment=development\\r\\n2024-05-20T06:56:42.906558Z  INFO app: loco_rs::controller::app_routes: [POST] /api/notes/:id environment=development\\r\\n2024-05-20T06:56:42.906609Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/register environment=development\\r\\n2024-05-20T06:56:42.906680Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/verify environment=development\\r\\n2024-05-20T06:56:42.906753Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/login environment=development\\r\\n2024-05-20T06:56:42.906838Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/forgot environment=development\\r\\n2024-05-20T06:56:42.906931Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/reset environment=development\\r\\n2024-05-20T06:56:42.907012Z  INFO app: loco_rs::controller::app_routes: [GET] /api/user/current environment=development\\r\\n2024-05-20T06:56:42.907309Z  INFO app: loco_rs::controller::app_routes: [Middleware] \u6dfb\u52a0\u9650\u5236\u8d1f\u8f7d\u6570\u636e=\\"5mb\\" environment=development\\r\\n2024-05-20T06:56:42.907440Z  INFO app: loco_rs::controller::app_routes: [Middleware] \u6dfb\u52a0\u65e5\u5fd7\u8ffd\u8e2a ID environment=development\\r\\n2024-05-20T06:56:42.907714Z  INFO app: loco_rs::controller::app_routes: [Middleware] \u6dfb\u52a0 CORS \u73af\u5883=development\\r\\n2024-05-20T06:56:42.907788Z  INFO app: loco_rs::controller::app_routes: [Middleware] \u6dfb\u52a0 ETag \u5c42\u73af\u5883=development\\r\\n\\r\\n                      \u2584     \u2580\\r\\n                                 \u2580  \u2584\\r\\n                  \u2584       \u2580     \u2584  \u2584 \u2584\u2580\\r\\n                                    \u2584 \u2580\u2584\u2584\\r\\n                        \u2584     \u2580    \u2580  \u2580\u2584\u2580\u2588\u2584\\r\\n                                          \u2580\u2588\u2584\\r\\n\u2584\u2584\u2584\u2584\u2584\u2584\u2584  \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584   \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584 \u2580\u2580\u2588\\r\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2580\u2588\\r\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2580\u2580\u2580 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2584\u2588\u2584\\r\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588       \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2584\\r\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2584\u2584\u2584 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\\r\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588  \u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2580\\r\\n   \u2580\u2580\u2580\u2588\u2588\u2584 \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580  \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580  \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580 \u2588\u2588\u2580\\r\\n       \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\\r\\n                https://loco.rs\\r\\n\\r\\n\u73af\u5883\uff1a\u5f00\u53d1\\r\\n   \u6570\u636e\u5e93\uff1a\u81ea\u52a8\u8fc1\u79fb\\r\\n     \u65e5\u5fd7\uff1a\u8c03\u8bd5\\r\\n\u7f16\u8bd1\uff1a\u8c03\u8bd5\\r\\n      \u6a21\u5f0f\uff1a\u670d\u52a1\u5668\\r\\n\\r\\n\u76d1\u542c\u5730\u5740 [::]:3000\\r\\n```\\r\\n\\r\\n\u4ece\u4e0a\u9762\u7684\u65e5\u5fd7\u6d88\u606f\u4e2d\uff0c\u6211\u4eec\u770b\u5230\uff1a\\r\\n\\r\\n- \u6570\u636e\u5e93\u8fc1\u79fb\u5df2\u88ab\u5e94\u7528\\r\\n- \u6240\u6709\u53ef\u7528\u7684 REST API\\r\\n\\r\\n\u68c0\u67e5\u5e94\u7528\u7a0b\u5e8f\u662f\u5426\u76d1\u542c\u8bf7\u6c42\uff1a\\r\\n\\r\\n```sh\\r\\n$ curl --location \'http://localhost:3000/api/_ping\'\\r\\n\\r\\n{\\"ok\\":true}\\r\\n```\\r\\n\\r\\n## \u7528\u6237\u7ba1\u7406\\r\\n\\r\\n\u542f\u52a8\u6a21\u677f\u9644\u5e26\u4e86\u4e00\u4e2a\u57fa\u672c\u7684\u7528\u6237\u7ba1\u7406\u6a21\u5757\u3002\\r\\n\\r\\n### \u6ce8\u518c\\r\\n\\r\\n\u5e38\u89c1\u505a\u6cd5\u662f\u5411\u63d0\u4f9b\u7684\u7535\u5b50\u90ae\u4ef6\u53d1\u9001\u9a8c\u8bc1\u90ae\u4ef6\u3002\u7136\u800c\uff0c\u8fd9\u9700\u8981\u4e00\u4e2a SMTP \u670d\u52a1\u5668\uff0c\u800c\u8fd9\u4e0d\u662f\u672c\u535a\u5ba2\u6587\u7ae0\u7684\u91cd\u70b9\u3002\u56e0\u6b64\uff0c\u6211\u5c06\u8df3\u8fc7\u90ae\u4ef6\u9a8c\u8bc1\uff1a\\r\\n\\r\\n```diff title=\\"loco_starter/src/controllers/auth.rs\\"\\r\\n#[debug_handler]\\r\\nasync fn register(\\r\\n    State(ctx): State<AppContext>,\\r\\n    Json(params): Json<RegisterParams>,\\r\\n) -> Result<Response> {\\r\\n    let res = users::Model::create_with_password(&ctx.db, &params).await;\\r\\n\\r\\n    let user = match res {\\r\\n        Ok(user) => user,\\r\\n        Err(err) => {\\r\\n            tracing::info!(\\r\\n                message = err.to_string(),\\r\\n                user_email = &params.email,\\r\\n                \\"\u65e0\u6cd5\u6ce8\u518c\u7528\u6237\\",\\r\\n            );\\r\\n            return format::json(());\\r\\n        }\\r\\n    };\\r\\n\\r\\n+   // \u8df3\u8fc7\u7535\u5b50\u90ae\u4ef6\u9a8c\u8bc1\uff0c\u6240\u6709\u65b0\u6ce8\u518c\u7684\u7528\u6237\u90fd\u88ab\u89c6\u4e3a\u5df2\u9a8c\u8bc1\\r\\n+   let _user = user\\r\\n+       .into_active_model()\\r\\n+       .verified(&ctx.db)\\r\\n+       .await?;\\r\\n\\r\\n+   // \u8df3\u8fc7\u53d1\u9001\u9a8c\u8bc1\u90ae\u4ef6\uff0c\u56e0\u4e3a\u6211\u4eec\u6ca1\u6709\u90ae\u4ef6\u670d\u52a1\u5668\\r\\n+   /*\\r\\n    let user = user\\r\\n        .into_active_model()\\r\\n        .set_email_verification_sent(&ctx.db)\\r\\n        .await?;\\r\\n\\r\\n    AuthMailer::send_welcome(&ctx, &user).await?;\\r\\n+   */\\r\\n\\r\\n    format::json(())\\r\\n}\\r\\n```\\r\\n\\r\\n\u7f16\u8bd1\u5e76\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\uff0c\u7136\u540e\u6ce8\u518c\u4e00\u4e2a\u65b0\u7528\u6237\u8d26\u6237\uff1a\\r\\n\\r\\n```sh\\r\\n$ curl --location \'http://localhost:3000/api/auth/register\' \\\\\\r\\n--data-raw \'{\\r\\n    \\"name\\": \\"Billy\\",\\r\\n    \\"email\\": \\"cwchan.billy@gmail.com\\",\\r\\n    \\"password\\": \\"password\\"\\r\\n}\'\\r\\n\\r\\nnull\\r\\n```\\r\\n\\r\\n### \u767b\u5f55\\r\\n\\r\\n\u4f60\u5e94\u8be5\u5728\u6570\u636e\u5e93\u4e2d\u770b\u5230\u4e00\u6761\u65b0\u7684 `user` \u8bb0\u5f55\u3002\\r\\n\\r\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u76f8\u5e94\u7684\u7535\u5b50\u90ae\u4ef6\u548c\u5bc6\u7801\u767b\u5f55\u7528\u6237\u8d26\u6237\uff1a\\r\\n\\r\\n```sh\\r\\n$ curl --location \'http://localhost:3000/api/auth/login\' \\\\\\r\\n--data-raw \'{\\r\\n    \\"email\\": \\"cwchan.billy@gmail.com\\",\\r\\n    \\"password\\": \\"password\\"\\r\\n}\'\\r\\n\\r\\n{\\r\\n  \\"token\\": \\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw\\",\\r\\n  \\"pid\\": \\"11d01af3-6fe2-44f3-89f0-c02cec39741d\\",\\r\\n  \\"name\\": \\"Billy\\",\\r\\n  \\"is_verified\\": true\\r\\n}\\r\\n```\\r\\n\\r\\n### \u8ba4\u8bc1\\r\\n\\r\\n\u4e0a\u8ff0\u7684 JWT \u4ee4\u724c\u5c06\u5728\u7528\u6237\u8ba4\u8bc1\u4e2d\u4f7f\u7528\u3002\u4f60\u5fc5\u987b\u8bbe\u7f6e `Authorization` \u5934\u4ee5\u8bbf\u95ee\u4efb\u4f55\u9700\u8981\u7528\u6237\u767b\u5f55\u7684 REST \u7aef\u70b9\u3002\\r\\n\\r\\n\u4f8b\u5982\uff0c\u83b7\u53d6\u5f53\u524d\u7528\u6237\u7684\u7528\u6237\u4fe1\u606f\uff1a\\r\\n\\r\\n```sh\\r\\n$ curl --location \'http://localhost:3000/api/user/current\' \\\\\\r\\n--header \'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw\'\\r\\n\\r\\n{\\r\\n    \\"pid\\":\\"11d01af3-6fe2-44f3-89f0-c02cec39741d\\",\\r\\n    \\"name\\":\\"Billy\\",\\r\\n    \\"email\\":\\"cwchan.billy@gmail.com\\"\\r\\n}\\r\\n```\\r\\n\\r\\n## \u5904\u7406 REST \u8bf7\u6c42\\r\\n\\r\\n\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u9644\u5e26\u4e86\u4e00\u4e2a\u7528\u4e8e `notes` \u8868\u7684\u63a7\u5236\u5668\u3002\\r\\n\\r\\n### \u521b\u5efa\u7b14\u8bb0\\r\\n\\r\\n```sh\\r\\n$ curl --location \'http://localhost:3000/api/notes\' \\\\\\r\\n--header \'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw\' \\\\\\r\\n--data \'{\\r\\n    \\"title\\": \\"\u5f00\u59cb\u4f7f\u7528 Loco \u548c SeaORM\\",\\r\\n    \\"content\\": \\"\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u4ece\u5934\u5f00\u59cb\u521b\u5efa\u4e00\u4e2a REST \u7b14\u8bb0\u672c\u540e\u7aef\uff0c\u5e76\u5728 Loco \u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684 REST \u7aef\u70b9\u6765\u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u3002\\"\\r\\n}\'\\r\\n\\r\\n{\\r\\n  \\"created_at\\": \\"2024-05-20T08:43:45.408449\\",\\r\\n  \\"updated_at\\": \\"2024-05-20T08:43:45.408449\\",\\r\\n  \\"id\\": 1,\\r\\n  \\"title\\": \\"\u5f00\u59cb\u4f7f\u7528 Loco \u548c SeaORM\\",\\r\\n  \\"content\\": \\"\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u4ece\u5934\u5f00\u59cb\u521b\u5efa\u4e00\u4e2a REST \u7b14\u8bb0\u672c\u540e\u7aef\uff0c\u5e76\u5728 Loco \u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684 REST \u7aef\u70b9\u6765\u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u3002\\"\\r\\n}\\r\\n```\\r\\n\\r\\n### \u5217\u51fa\u7b14\u8bb0\\r\\n\\r\\n```sh\\r\\n$ curl --location \'http://localhost:3000/api/notes\' \\\\\\r\\n--header \'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw\'\\r\\n\\r\\n[\\r\\n  {\\r\\n    \\"created_at\\": \\"2024-05-20T08:43:45.408449\\",\\r\\n    \\"updated_at\\": \\"2024-05-20T08:43:45.408449\\",\\r\\n    \\"id\\": 1,\\r\\n    \\"title\\": \\"\u5f00\u59cb\u4f7f\u7528 Loco \u548c SeaORM\\",\\r\\n    \\"content\\": \\"\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u4ece\u5934\u5f00\u59cb\u521b\u5efa\u4e00\u4e2a REST \u7b14\u8bb0\u672c\u540e\u7aef\uff0c\u5e76\u5728 Loco \u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684 REST \u7aef\u70b9\u6765\u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u3002\\"\\r\\n  },\\r\\n  {\\r\\n    \\"created_at\\": \\"2024-05-20T08:45:38.973130\\",\\r\\n    \\"updated_at\\": \\"2024-05-20T08:45:38.973130\\",\\r\\n    \\"id\\": 2,\\r\\n    \\"title\\": \\"\u4ecb\u7ecd SeaORM X\\",\\r\\n    \\"content\\": \\"SeaORM X \u662f\u5efa\u7acb\u5728 SeaORM \u4e4b\u4e0a\u7684\uff0c\u652f\u6301 SQL Server\\"\\r\\n  }\\r\\n]\\r\\n```\\r\\n\\r\\n### \u83b7\u53d6\u7b14\u8bb0\\r\\n\\r\\n```sh\\r\\n$ curl --location \'http://localhost:3000/api/notes/2\' \\\\\\r\\n--header \'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw\'\\r\\n\\r\\n{\\r\\n  \\"created_at\\": \\"2024-05-20T08:45:38.973130\\",\\r\\n  \\"updated_at\\": \\"2024-05-20T08:45:38.973130\\",\\r\\n  \\"id\\": 2,\\r\\n  \\"title\\": \\"\u4ecb\u7ecd SeaORM X\\",\\r\\n  \\"content\\": \\"SeaORM X \u662f\u5efa\u7acb\u5728 SeaORM \u4e4b\u4e0a\u7684\uff0c\u652f\u6301 SQL Server\\"\\r\\n}\\r\\n```\\r\\n\\r\\n## \u5904\u7406\u6587\u4ef6\u4e0a\u4f20\\r\\n\\r\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u6dfb\u52a0\u4e00\u4e2a\u6587\u4ef6\u4e0a\u4f20\u529f\u80fd\uff0c\u7528\u6237\u53ef\u4ee5\u4e0a\u4f20\u4e0e\u7b14\u8bb0\u76f8\u5173\u7684\u6587\u4ef6\u3002\\r\\n\\r\\n### \u6587\u4ef6\u8868\u8fc1\u79fb\\r\\n\\r\\n\u4e3a\u65b0\u7684 `files` \u8868\u521b\u5efa\u4e00\u4e2a\u8fc1\u79fb\u6587\u4ef6\u3002\u6bcf\u884c `files` \u53c2\u8003\u6570\u636e\u5e93\u4e2d\u7684\u7279\u5b9a `notes`\u3002\\r\\n\\r\\n```rust title=\\"loco_starter/migration/src/m20240520_173001_files.rs\\"\\r\\nuse sea_orm_migration::{prelude::*, schema::*};\\r\\n\\r\\nuse super::m20231103_114510_notes::Notes;\\r\\n\\r\\n#[derive(DeriveMigrationName)]\\r\\npub struct Migration;\\r\\n\\r\\n#[async_trait::async_trait]\\r\\nimpl MigrationTrait for Migration {\\r\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n        manager\\r\\n            .create_table(\\r\\n                table_auto(Files::Table)\\r\\n                    .col(pk_auto(Files::Id))\\r\\n                    .col(integer(Files::NotesId))\\r\\n                    .col(string(Files::FilePath))\\r\\n                    .foreign_key(\\r\\n                        ForeignKey::create()\\r\\n                            .name(\\"FK_files_notes_id\\")\\r\\n                            .from(Files::Table, Files::NotesId)\\r\\n                            .to(Notes::Table, Notes::Id),\\r\\n                    )\\r\\n                    .to_owned(),\\r\\n            )\\r\\n            .await\\r\\n    }\\r\\n\\r\\n    async fn down(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n        manager\\r\\n            .drop_table(Table::drop().table(Files::Table).to_owned())\\r\\n            .await\\r\\n    }\\r\\n}\\r\\n\\r\\n#[derive(DeriveIden)]\\r\\npub enum Files {\\r\\n    Table,\\r\\n    Id,\\r\\n    NotesId,\\r\\n    FilePath,\\r\\n}\\r\\n```\\r\\n\\r\\n\u7136\u540e\uff0c\u6211\u4eec\u9700\u8981\u542f\u7528\u65b0\u7684\u8fc1\u79fb\u3002\\r\\n\\r\\n```diff title=\\"loco_starter/migration/src/lib.rs\\"\\r\\n#![allow(elided_lifetimes_in_paths)]\\r\\n#![allow(clippy::wildcard_imports)]\\r\\npub use sea_orm_migration::prelude::*;\\r\\n\\r\\nmod m20220101_000001_users;\\r\\nmod m20231103_114510_notes;\\r\\n+ mod m20240520_173001_files;\\r\\n\\r\\npub struct Migrator;\\r\\n\\r\\n#[async_trait::async_trait]\\r\\nimpl MigratorTrait for Migrator {\\r\\n    fn migrations() -> Vec<Box<dyn MigrationTrait>> {\\r\\n        vec![\\r\\n            Box::new(m20220101_000001_users::Migration),\\r\\n            Box::new(m20231103_114510_notes::Migration),\\r\\n+           Box::new(m20240520_173001_files::Migration),\\r\\n        ]\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u7f16\u8bd1\u5e76\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\uff0c\u5b83\u5e94\u8be5\u5728\u542f\u52a8\u65f6\u8fd0\u884c\u6211\u4eec\u7684\u65b0\u8fc1\u79fb\u3002\\r\\n\\r\\n```sh\\r\\n$ cargo loco start\\r\\n\\r\\n...\\r\\n2024-05-20T09:39:59.607525Z  INFO app: loco_rs::db: \u81ea\u52a8\u8fc1\u79fb\u73af\u5883=development\\r\\n2024-05-20T09:39:59.611997Z  INFO app: sea_orm_migration::migrator: \u6b63\u5728\u5e94\u7528\u6240\u6709\u5f85\u5904\u7406\u7684\u8fc1\u79fb\u73af\u5883=development\\r\\n2024-05-20T09:39:59.621699Z  INFO app: sea_orm_migration::migrator: \u6b63\u5728\u5e94\u7528\u8fc1\u79fb \'m20240520_173001_files\' \u73af\u5883=development\\r\\n2024-05-20T09:39:59.643886Z  INFO app: sea_orm_migration::migrator: \u8fc1\u79fb \'m20240520_173001_files\' \u5df2\u88ab\u5e94\u7528\u73af\u5883=development\\r\\n...\\r\\n```\\r\\n\\r\\n### \u6587\u4ef6\u6a21\u578b\u5b9a\u4e49\\r\\n\\r\\n\u5b9a\u4e49 `files` \u5b9e\u4f53\u6a21\u578b\u3002\\r\\n\\r\\n```rust title=\\"loco_starter/src/models/_entities/files.rs\\"\\r\\nuse sea_orm::entity::prelude::*;\\r\\nuse serde::{Deserialize, Serialize};\\r\\n\\r\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq, Serialize, Deserialize)]\\r\\n#[sea_orm(table_name = \\"files\\")]\\r\\npub struct Model {\\r\\n    pub created_at: DateTime,\\r\\n    pub updated_at: DateTime,\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    pub notes_id: i32,\\r\\n    pub file_path: String,\\r\\n}\\r\\n\\r\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\r\\npub enum Relation {\\r\\n    #[sea_orm(\\r\\n        belongs_to = \\"super::notes::Entity\\",\\r\\n        from = \\"Column::NotesId\\",\\r\\n        to = \\"super::notes::Column::Id\\"\\r\\n    )]\\r\\n    Notes,\\r\\n}\\r\\n\\r\\nimpl Related<super::notes::Entity> for Entity {\\r\\n    fn to() -> RelationDef {\\r\\n        Relation::Notes.def()\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u5728\u7236\u6a21\u5757\u4e2d\u5b9e\u73b0 `ActiveModelBehavior`\u3002\\r\\n\\r\\n```rust title=\\"loco_starter/src/models/files.rs\\"\\r\\nuse sea_orm::entity::prelude::*;\\r\\n\\r\\nuse super::_entities::files::ActiveModel;\\r\\n\\r\\nimpl ActiveModelBehavior for ActiveModel {\\r\\n    // \u5728\u4e0b\u9762\u6269\u5c55 activemodel\uff08\u4fdd\u7559\u751f\u6210\u5668\u7684\u6ce8\u91ca\uff09\\r\\n}\\r\\n```\\r\\n\\r\\n### \u6587\u4ef6\u63a7\u5236\u5668\\r\\n\\r\\n\u63a7\u5236\u5668\u662f\u6211\u4eec\u5904\u7406\u6587\u4ef6\u4e0a\u4f20\u3001\u5217\u51fa\u548c\u67e5\u770b\u7684\u5730\u65b9\u3002\\r\\n\\r\\n#### \u4e0a\u4f20\u6587\u4ef6\\r\\n\\r\\n\u4ee5\u4e0b\u4e0a\u4f20\u5904\u7406\u7a0b\u5e8f\u5141\u8bb8\u5728\u5355\u4e2a POST \u8bf7\u6c42\u4e2d\u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6\u3002\\r\\n\\r\\n```rust title=\\"loco_starter/src/controllers/files.rs\\"\\r\\n#[debug_handler]\\r\\npub async fn upload(\\r\\n    _auth: auth::JWT,\\r\\n    Path(notes_id): Path<i32>,\\r\\n    State(ctx): State<AppContext>,\\r\\n    mut multipart: Multipart,\\r\\n) -> Result<Response> {\\r\\n    // \u6536\u96c6\u6240\u6709\u4e0a\u4f20\u7684\u6587\u4ef6\\r\\n    let mut files = Vec::new();\\r\\n\\r\\n    // \u8fed\u4ee3 POST \u4e3b\u4f53\u4e2d\u7684\u6240\u6709\u6587\u4ef6\\r\\n    while let Some(field) = multipart.next_field().await.map_err(|err| {\\r\\n        tracing::error!(error = ?err,\\"\u65e0\u6cd5\u8bfb\u53d6 multipart\\");\\r\\n        Error::BadRequest(\\"\u65e0\u6cd5\u8bfb\u53d6 multipart\\".into())\\r\\n    })? {\\r\\n        // \u83b7\u53d6\u6587\u4ef6\u540d\\r\\n        let file_name = match field.file_name() {\\r\\n            Some(file_name) => file_name.to_string(),\\r\\n            _ => return Err(Error::BadRequest(\\"\u672a\u627e\u5230\u6587\u4ef6\u540d\\".into())),\\r\\n        };\\r\\n\\r\\n        // \u83b7\u53d6\u6587\u4ef6\u5185\u5bb9\u4e3a\u5b57\u8282\\r\\n        let content = field.bytes().await.map_err(|err| {\\r\\n            tracing::error!(error = ?err,\\"\u65e0\u6cd5\u8bfb\u53d6\u5b57\u8282\\");\\r\\n            Error::BadRequest(\\"\u65e0\u6cd5\u8bfb\u53d6\u5b57\u8282\\".into())\\r\\n        })?;\\r\\n\\r\\n        // \u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u4ee5\u5b58\u50a8\u4e0a\u4f20\u7684\u6587\u4ef6\\r\\n        let now = chrono::offset::Local::now()\\r\\n            .format(\\"%Y%m%d_%H%M%S\\")\\r\\n            .to_string();\\r\\n        let uuid = uuid::Uuid::new_v4().to_string();\\r\\n        let folder = format!(\\"{now}_{uuid}\\");\\r\\n        let upload_folder = PathBuf::from(UPLOAD_DIR).join(&folder);\\r\\n        fs::create_dir_all(&upload_folder).await?;\\r\\n\\r\\n        // \u5c06\u6587\u4ef6\u5199\u5165\u65b0\u521b\u5efa\u7684\u6587\u4ef6\u5939\\r\\n        let path = upload_folder.join(file_name);\\r\\n        let mut f = fs::OpenOptions::new()\\r\\n            .create_new(true)\\r\\n            .write(true)\\r\\n            .open(&path)\\r\\n            .await?;\\r\\n        f.write_all(&content).await?;\\r\\n        f.flush().await?;\\r\\n\\r\\n        // \u5728\u6570\u636e\u5e93\u4e2d\u8bb0\u5f55\u6587\u4ef6\u4e0a\u4f20\\r\\n        let file = files::ActiveModel {\\r\\n            notes_id: ActiveValue::Set(notes_id),\\r\\n            file_path: ActiveValue::Set(\\r\\n                path.strip_prefix(UPLOAD_DIR)\\r\\n                    .unwrap()\\r\\n                    .to_str()\\r\\n                    .unwrap()\\r\\n                    .to_string(),\\r\\n            ),\\r\\n            ..Default::default()\\r\\n        }\\r\\n        .insert(&ctx.db)\\r\\n        .await?;\\r\\n\\r\\n        files.push(file);\\r\\n    }\\r\\n\\r\\n    format::json(files)\\r\\n}\\r\\n```\\r\\n\\r\\n\u5c1d\u8bd5\u5728\u5355\u4e2a POST \u8bf7\u6c42\u4e2d\u4e0a\u4f20\u591a\u4e2a\u6587\u4ef6\uff1a\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x SeaORM upload file.png>)\\r\\n\\r\\n\u6240\u6709\u4e0a\u4f20\u7684\u6587\u4ef6\u90fd\u4fdd\u5b58\u5728 `uploads` \u76ee\u5f55\u4e2d\uff1a\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x SeaORM upload directory.png>)\\r\\n\\r\\n#### \u5217\u51fa\u6587\u4ef6\\r\\n\\r\\n\u5217\u51fa\u4e0e\u7279\u5b9a `notes_id` \u76f8\u5173\u7684\u6240\u6709 `files`\u3002\\r\\n\\r\\n```rust title=\\"loco_starter/src/controllers/files.rs\\"\\r\\n#[debug_handler]\\r\\npub async fn list(\\r\\n    _auth: auth::JWT,\\r\\n    Path(notes_id): Path<i32>,\\r\\n    State(ctx): State<AppContext>,\\r\\n) -> Result<Response> {\\r\\n    // \u83b7\u53d6\u4e3a\u7279\u5b9a\u7b14\u8bb0\u4e0a\u4f20\u7684\u6240\u6709\u6587\u4ef6\\r\\n    let files = files::Entity::find()\\r\\n        .filter(files::Column::NotesId.eq(notes_id))\\r\\n        .order_by_asc(files::Column::Id)\\r\\n        .all(&ctx.db)\\r\\n        .await?;\\r\\n\\r\\n    format::json(files)\\r\\n}\\r\\n```\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x SeaORM list file.png>)\\r\\n\\r\\n#### \u67e5\u770b\u6587\u4ef6\\r\\n\\r\\n\u67e5\u770b\u7279\u5b9a\u7684 `files`\u3002\\r\\n\\r\\n```rust title=\\"loco_starter/src/controllers/files.rs\\"\\r\\n#[debug_handler]\\r\\npub async fn view(\\r\\n    _auth: auth::JWT,\\r\\n    Path(files_id): Path<i32>,\\r\\n    State(ctx): State<AppContext>,\\r\\n) -> Result<Response> {\\r\\n    // \u4ece\u6570\u636e\u5e93\u4e2d\u83b7\u53d6\u6587\u4ef6\u4fe1\u606f\\r\\n    let file = files::Entity::find_by_id(files_id)\\r\\n        .one(&ctx.db)\\r\\n        .await?\\r\\n        .expect(\\"\u672a\u627e\u5230\u6587\u4ef6\\");\\r\\n\\r\\n    // \u6d41\u5f0f\u4f20\u8f93\u6587\u4ef6\\r\\n    let file = fs::File::open(format!(\\"{UPLOAD_DIR}/{}\\", file.file_path)).await?;\\r\\n    let stream = ReaderStream::new(file);\\r\\n    let body = Body::from_stream(stream);\\r\\n\\r\\n    Ok(format::render().response().body(body)?)\\r\\n}\\r\\n```\\r\\n\\r\\n![](<https://www.sea-ql.org/blog/img/Loco x SeaORM view file.png>)\\r\\n\\r\\n#### \u6587\u4ef6\u63a7\u5236\u5668\u8def\u7531\\r\\n\\r\\n\u5c06\u6211\u4eec\u65b0\u5b9a\u4e49\u7684\u6587\u4ef6\u5904\u7406\u5668\u6dfb\u52a0\u5230\u5e94\u7528\u7a0b\u5e8f\u8def\u7531\u3002\\r\\n\\r\\n```rust title=\\"loco_starter/src/controllers/files.rs\\"\\r\\npub fn routes() -> Routes {\\r\\n    // \u7ed1\u5b9a\u8def\u7531\\r\\n    Routes::new()\\r\\n        .prefix(\\"files\\")\\r\\n        .add(\\"/upload/:notes_id\\", post(upload))\\r\\n        .add(\\"/list/:notes_id\\", get(list))\\r\\n        .add(\\"/view/:files_id\\", get(view))\\r\\n}\\r\\n```\\r\\n\\r\\n```diff title=\\"loco_starter/src/app.rs\\"\\r\\npub struct App;\\r\\n\\r\\n#[async_trait]\\r\\nimpl Hooks for App {\\r\\n    // ...\\r\\n\\r\\n    fn routes(_ctx: &AppContext) -> AppRoutes {\\r\\n        AppRoutes::with_default_routes()\\r\\n            .prefix(\\"/api\\")\\r\\n            .add_route(controllers::notes::routes())\\r\\n            .add_route(controllers::auth::routes())\\r\\n            .add_route(controllers::user::routes())\\r\\n+           .add_route(controllers::files::routes())\\r\\n    }\\r\\n\\r\\n    // ...\\r\\n}\\r\\n```\\r\\n\\r\\n#### \u9644\u52a0 Rust \u4f9d\u8d56\u9879\\r\\n\\r\\n\u8bf7\u8bb0\u5f97\u5728 `axum` \u4e2d\u542f\u7528 `multipart` \u5e76\u6dfb\u52a0 `tokio-util` \u4f9d\u8d56\u9879\u3002\\r\\n\\r\\n```diff title=\\"loco_starter/Cargo.toml\\"\\r\\n- axum = \\"0.7.1\\"\\r\\n+ axum = { version = \\"0.7.1\\", features = [\\"multipart\\"] }\\r\\n\\r\\n+ tokio-util = \\"0.7.11\\"\\r\\n```\\r\\n\\r\\n## SQL Server \u652f\u6301\\r\\n\\r\\n[SeaORM \u7684 SQL Server](https://www.sea-ql.org/SeaORM-X/) \u73b0\u5df2\u63d0\u4f9b\u5c01\u95ed\u6d4b\u8bd5\u3002\u5982\u679c\u4f60\u611f\u5174\u8da3\uff0c\u8bf7\u5728 [\u8fd9\u91cc](https://forms.office.com/r/1MuRPJmYBR) \u6ce8\u518c\u3002\\r\\n\\r\\n\u4ece `sea-orm` \u8fc1\u79fb\u5230 `sea-orm-x` \u975e\u5e38\u7b80\u5355\uff0c\u53ea\u9700\u4e24\u4e2a\u7b80\u5355\u6b65\u9aa4\u3002\u9996\u5148\uff0c\u5c06\u73b0\u6709\u7684 `sea-orm` \u4f9d\u8d56\u9879\u66f4\u65b0\u4e3a `sea-orm-x` \u5e76\u542f\u7528 `sqlz-mssql` \u529f\u80fd\u3002\u8bf7\u6ce8\u610f\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u4fee\u8865 SeaORM \u4f9d\u8d56\u9879\u4ee5\u89e3\u51b3\u4e0a\u6e38\u4f9d\u8d56\u9879\u7684\u95ee\u9898\u3002\\r\\n\\r\\n```toml title=\\"Cargo.toml\\"\\r\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\", features = [\\"runtime-async-std-rustls\\", \\"sqlz-mssql\\"] }\\r\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\r\\n\\r\\n# \u4fee\u8865 SeaORM \u4f9d\u8d56\u9879\u4ee5\u89e3\u51b3\u4e0a\u6e38\u4f9d\u8d56\u9879\\r\\n[patch.crates-io]\\r\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\" }\\r\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\r\\n```\\r\\n\\r\\n\u5176\u6b21\uff0c\u66f4\u65b0\u8fde\u63a5\u5b57\u7b26\u4e32\u4ee5\u8fde\u63a5\u5230 MSSQL \u6570\u636e\u5e93\u3002\\r\\n\\r\\n```sh\\r\\n# \u5982\u679c\u6a21\u5f0f\u662f `dbo`\uff0c\u53ea\u9700\u7f16\u5199\uff1a\\r\\nmssql://username:password@host/database\\r\\n\\r\\n# \u6216\u8005\uff0c\u901a\u8fc7\u63d0\u4f9b\u989d\u5916\u7684 `currentSchema` \u67e5\u8be2\u53c2\u6570\u6765\u6307\u5b9a\u6a21\u5f0f\u540d\u79f0\u3002\\r\\nmssql://username:password@host/database?currentSchema=my_schema\\r\\n\\r\\n# \u901a\u8fc7\u63d0\u4f9b\u989d\u5916\u7684 trustCertificate \u67e5\u8be2\u53c2\u6570\u6765\u4fe1\u4efb\u540c\u884c\u8bc1\u4e66\u3002\\r\\nmssql://username:password@host/database?trustCertificate=true\\r\\n```\\r\\n\\r\\nSeaORM X \u5b8c\u5168\u652f\u6301 Loco \u5e76\u4e0e\u8bb8\u591a Web \u6846\u67b6\u65e0\u7f1d\u96c6\u6210\uff1a\\r\\n\\r\\n+ Actix\\r\\n+ Axum\\r\\n+ Async GraphQL\\r\\n+ jsonrpsee\\r\\n+ Loco\\r\\n+ Poem\\r\\n+ Salvo\\r\\n+ Tonic\\r\\n\\r\\n\u795d\u4f60\u7f16\u7801\u6109\u5feb\uff01\\r\\n```"},{"id":"2024-05-20-async-rainbow-bridge","metadata":{"permalink":"/blog/2024-05-20-async-rainbow-bridge","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-05-20-async-rainbow-bridge.md","source":"@site/blog/2024-05-20-async-rainbow-bridge.md","title":"\u540c\u6b65\u4e0e\u5f02\u6b65 Rust \u4e4b\u95f4\u7684\u5f69\u8679\u6865","description":"\u8fd9\u4e2a\u6545\u4e8b\u6e90\u4e8e\u201c\u4f60\u7684\u51fd\u6570\u662f\u4ec0\u4e48\u989c\u8272\uff1f\u201d\u7684\u8bf4\u6cd5\uff0c\u4f5c\u4e3a\u5bf9\u5e38\u89c1\u7f16\u7a0b\u8bed\u8a00\u5f02\u6b65\u5b9e\u73b0\u7684\u6279\u8bc4\u3002\u55ef\uff0cRust \u4e5f\u5c5e\u4e8e\u201c\u6709\u989c\u8272\u7684\u51fd\u6570\u201d\u3002\u56e0\u6b64\uff0c\u5728\u8fd9\u7bc7\u535a\u5ba2\u4e2d\uff0c\u8ba9\u6211\u4eec\u770b\u770b\u5982\u4f55\u8bbe\u8ba1\u7cfb\u7edf\u4ee5\u6709\u6548\u5730\u7ed3\u5408\u540c\u6b65\u548c\u5f02\u6b65\u4ee3\u7801\u3002","date":"2024-05-20T00:00:00.000Z","formattedDate":"May 20, 2024","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":10.575,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL \u56e2\u961f","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2024-05-20-async-rainbow-bridge","title":"\u540c\u6b65\u4e0e\u5f02\u6b65 Rust \u4e4b\u95f4\u7684\u5f69\u8679\u6865","author":"Chris Tsang","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","image":"https://www.sea-ql.org/blog/img/async-rainbow-bridge.png","tags":["news"]},"prevItem":{"title":"getting-started-with-loco-seaorm","permalink":"/blog/2024/05/28/getting-started-with-loco-seaorm"},"nextItem":{"title":"\u6784\u5efa Redis / Kafka \u6570\u636e\u63a5\u6536\u5668","permalink":"/blog/2024-05-05-redis-kafka-data-sink"}},"content":"<img src=\\"/blog/img/async-rainbow-bridge.png\\" />\\r\\n\\r\\n\u8fd9\u4e2a\u6545\u4e8b\u6e90\u4e8e\u201c\u4f60\u7684\u51fd\u6570\u662f\u4ec0\u4e48\u989c\u8272\uff1f\u201d\u7684\u8bf4\u6cd5\uff0c\u4f5c\u4e3a\u5bf9\u5e38\u89c1\u7f16\u7a0b\u8bed\u8a00\u5f02\u6b65\u5b9e\u73b0\u7684\u6279\u8bc4\u3002\u55ef\uff0cRust \u4e5f\u5c5e\u4e8e\u201c\u6709\u989c\u8272\u7684\u51fd\u6570\u201d\u3002\u56e0\u6b64\uff0c\u5728\u8fd9\u7bc7\u535a\u5ba2\u4e2d\uff0c\u8ba9\u6211\u4eec\u770b\u770b\u5982\u4f55\u8bbe\u8ba1\u7cfb\u7edf\u4ee5\u6709\u6548\u5730\u7ed3\u5408\u540c\u6b65\u548c\u5f02\u6b65\u4ee3\u7801\u3002\\r\\n\\r\\n\u5f69\u8679\u6865\u5f15\u7528\u4e86\u300a\u96f7\u795e\u300b\u4e2d\u4f20\u9001\u4f60\u5230\u4e0d\u540c\u9886\u57df\u7684\u6865\u2014\u2014\u4e00\u4e2a\u5b8c\u7f8e\u7684\u7c7b\u6bd4\uff01\\r\\n\\r\\n## \u80cc\u666f\\r\\n\\r\\n\u540c\u6b65\u4ee3\u7801\u53ef\u4ee5\u662f\u963b\u585eIO\u6216\u6602\u8d35\u7684\u8ba1\u7b97\u3002\u5f02\u6b65\u4ee3\u7801\u901a\u5e38\u662f\u7f51\u7edcIO\uff0c\u4f60\u4f1a\u7b49\u5f85\u7ed3\u679c\u3002\\r\\n\\r\\n\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u90fd\u5e0c\u671b\u6700\u5927\u5316\u5e76\u53d1\uff0c\u4ee5\u4fbf\u7a0b\u5e8f\u80fd\u591f\u5145\u5206\u5229\u7528 CPU\uff0c\u800c\u4e0d\u662f\u95f2\u7f6e\u3002\u4e00\u4e2a\u5e38\u89c1\u7684\u65b9\u6cd5\u662f\u6d88\u606f\u4f20\u9012\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u6253\u5305\u4efb\u52a1\u5e76\u5c06\u5b83\u4eec\u53d1\u9001\u5230\u4e0d\u540c\u7684\u5de5\u4f5c\u7ebf\u7a0b\u6267\u884c\u3002\\r\\n\\r\\n## Sync -> Sync\\r\\n\\r\\n\u9996\u5148\uff0c\u4ece\u7ecf\u5178\u7684\u793a\u4f8b\u5f00\u59cb\uff0c\u7eaf\u540c\u6b65\u4ee3\u7801\u3002\u6807\u51c6\u5e93\u4e2d\u5b58\u5728 [std::sync::mpsc](https://doc.rust-lang.org/std/sync/mpsc/index.html)\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u770b\u3002\\r\\n\\r\\n```rust\\r\\nuse std::sync::mpsc::channel;\\r\\n\\r\\n// \u521b\u5efa\u4e00\u4e2a\u65e0\u754c\u901a\u9053\\r\\nlet (sender, receiver) = channel();\\r\\n\\r\\n// \u4e0d\u4f1a\u963b\u585e\\r\\nsender.send(\\"Hello\\".to_string()).unwrap();\\r\\n\\r\\nlet handle = std::thread::spawn(move|| {\\r\\n    // \u7b49\u5f85\u76f4\u5230\u6709\u6d88\u606f\\r\\n    let message = receiver.recv().unwrap();\\r\\n    println!(\\"{message}\\");\\r\\n});\\r\\n\\r\\nhandle.join().unwrap();\\r\\nprintln!(\\"Bye\\");\\r\\n```\\r\\n\\r\\n\u8f93\u51fa ([Playground](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=4eecb3216b6b10477849f5648bb026f4))\uff1a\\r\\n\\r\\n```log\\r\\nHello\\r\\nBye\\r\\n```\\r\\n\\r\\n\u73b0\u5728\uff0c\u6211\u4eec\u5c06\u505a\u4e00\u4e2a\u66f4\u8be6\u7ec6\u7684\u793a\u4f8b\uff1a\u4e00\u4e2a\u7a0b\u5e8f\u751f\u6210\u591a\u4e2a\u5de5\u4f5c\u7ebf\u7a0b\u6765\u6267\u884c\u4e00\u4e9b\u201c\u6602\u8d35\u201d\u7684\u8ba1\u7b97\u3002\u4e3b\u7ebf\u7a0b\u4f1a\u5c06\u4efb\u52a1\u5206\u53d1\u5230\u90a3\u4e9b\u7ebf\u7a0b\uff0c\u7136\u540e\u901a\u8fc7\u53e6\u4e00\u4e2a\u901a\u9053\u6536\u96c6\u7ed3\u679c\u3002\\r\\n\\r\\n```\\r\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u4efb\u52a1    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u7ed3\u679c\\r\\n\u2502             \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 worker thread 1 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \\r\\n\u2502 main thread \u2502             \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524             \u2560\u2550\u2550\u2550\u2550\u2561 main thread \u2502 \\r\\n\u2502             \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 worker thread 2 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \\r\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \\r\\n```\\r\\n\\r\\n\u9996\u5148\uff0c\u8bbe\u7f6e\u901a\u9053\u3002\\r\\n\\r\\n```rust\\r\\nlet (result, collector) = channel(); // \u7ed3\u679c\\r\\nlet mut senders = Vec::new();\\r\\nfor _ in 0..THREADS {\\r\\n    let (sender, receiver) = channel(); // \u4efb\u52a1\\r\\n    senders.push(sender);\\r\\n    let result = result.clone();\\r\\n    std::thread::spawn(move || worker(receiver, result));\\r\\n}\\r\\n```\\r\\n\\r\\n\u5de5\u4f5c\u7ebf\u7a0b\u770b\u8d77\u6765\u50cf\uff1a\\r\\n\\r\\n```rust\\r\\nfn worker(receiver: Receiver<Task>, sender: Sender<Done>) {\\r\\n    while let Ok(task) = receiver.recv() {\\r\\n        let result = process(task);\\r\\n        sender.send(result).unwrap();\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u7136\u540e\uff0c\u5206\u53d1\u4efb\u52a1\u3002\\r\\n\\r\\n```rust\\r\\nfor c in 0..TASKS {\\r\\n    let task = some_random_task();\\r\\n    senders[c % THREADS].send(task).unwrap();\\r\\n}\\r\\n```\\r\\n\\r\\n\u6700\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u6536\u96c6\u7ed3\u679c\u3002\\r\\n\\r\\n```rust\\r\\nfor _ in 0..TASKS {\\r\\n    let result = collector.recv().unwrap();\\r\\n    println!(\\"{result:?}\\");\\r\\n}\\r\\n```\\r\\n\\r\\n\u5b8c\u6574\u6e90\u4ee3\u7801\u53ef\u4ee5\u5728 [\u8fd9\u91cc](https://github.com/SeaQL/FireDBG.Rust.Testbench/tree/main/multi-thread-matrix)\u627e\u5230\u3002\\r\\n\\r\\n## Async -> Async\\r\\n\\r\\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u8fc1\u79fb\u5230\u5f02\u6b65\u9886\u57df\u3002\u4f7f\u7528 [tokio::sync::mpsc](https://docs.rs/tokio/latest/tokio/sync/mpsc/index.html)\uff0c\u5b83\u4e0e\u4e0a\u9762\u7684\u793a\u4f8b\u975e\u5e38\u76f8\u4f3c\uff0c\u53ea\u662f\u6bcf\u4e2a\u64cd\u4f5c\u90fd\u662f `async`\uff0c\u6240\u4ee5\u5bf9\u751f\u547d\u5468\u671f\u65bd\u52a0\u4e86\u989d\u5916\u7684\u9650\u5236\u3002\uff08\u5173\u952e\u662f\uff0c\u53ea\u9700\u79fb\u52a8/\u514b\u9686\u3002\u4e0d\u8981\u501f\u7528\uff09\\r\\n\\r\\n`tokio` \u7684 `unbounded_channel` \u76f8\u5f53\u4e8e `std` \u7684 `channel`\u3002\u5426\u5219\u5b83\u662f\u975e\u5e38\u76f8\u4f3c\u7684\u3002`spawn` \u65b9\u6cd5\u63a5\u6536\u4e00\u4e2a `Future`\uff1b\u7531\u4e8e\u5de5\u4f5c\u7ebf\u7a0b\u9700\u8981\u63a5\u6536\u901a\u9053\uff0c\u56e0\u6b64\u6211\u4eec\u7528 `async move {}` \u6784\u9020\u4e00\u4e2a\u5f02\u6b65\u95ed\u5305\u3002\\r\\n\\r\\n| std | tokio |\\r\\n|-------|-------|\\r\\n| (unbounded) [`channel`](https://doc.rust-lang.org/std/sync/mpsc/fn.channel.html) | [`unbounded_channel`](https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.unbounded_channel.html) |\\r\\n| [`sync_channel`](https://doc.rust-lang.org/std/sync/mpsc/fn.sync_channel.html) | (bounded) [`channel`](https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.channel.html) |\\r\\n\\r\\n```rust\\r\\nlet (result, mut collector) = unbounded_channel();\\r\\nlet mut senders = Vec::new();\\r\\nfor _ in 0..WORKERS {\\r\\n    let (sender, mut receiver) = unbounded_channel();\\r\\n    senders.push(sender);\\r\\n    let result = result.clone();\\r\\n    tokio::task::spawn(async move {\\r\\n        while let Some(task) = receiver.recv().await {\\r\\n            result.send(process(task).await).unwrap();\\r\\n        }\\r\\n    });\\r\\n}\\r\\nstd::mem::drop(result); // <-- ?\\r\\n```\\r\\n\\r\\n\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u4e22\u5f03 `result` \u53d1\u9001\u8005\uff1f\u8fd9\u662f\u4e00\u4e2a\u811a\u8dbe\u67aa\uff1a`tokio` \u4f1a\u541e\u6389\u4efb\u52a1\u5185\u90e8\u4ea7\u751f\u7684 panic\uff0c\u56e0\u6b64\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u7a0b\u5e8f\u5c06\u6c38\u8fdc\u4e0d\u4f1a\u9000\u51fa\u3002\u901a\u8fc7\u4e22\u5f03\u4f5c\u7528\u57df\u5185\u7684\u6700\u540e\u4e00\u4e2a `result` \u526f\u672c\uff0c\u901a\u9053\u5c06\u5728\u6240\u6709\u4efb\u52a1\u9000\u51fa\u540e\u81ea\u52a8\u5173\u95ed\uff0c\u8fd9\u53cd\u8fc7\u6765\u4f1a\u89e6\u53d1\u6211\u4eec\u7684 `collector`\u3002\\r\\n\\r\\n\u5176\u4f59\u90e8\u5206\u51e0\u4e4e\u662f\u76f8\u540c\u7684\u3002\\r\\n\\r\\n```rust\\r\\nfor (i, task) in tasks.iter().enumerate() {\\r\\n    senders[i % WORKERS].send(task.clone()).unwrap();\\r\\n}\\r\\nstd::mem::drop(senders);\\r\\n\\r\\nfor _ in 0..tasks.len() {\\r\\n    let result = collector.recv().await.unwrap();\\r\\n    println!(\\"{result:?}\\");\\r\\n}\\r\\n```\\r\\n\\r\\n\u5b8c\u6574\u6e90\u4ee3\u7801\u53ef\u4ee5\u5728 [\u8fd9\u91cc](https://github.com/SeaQL/FireDBG.Rust.Testbench/tree/main/tokio-mpsc)\u627e\u5230\u3002\\r\\n\\r\\n### Flume mpmc\\r\\n\\r\\n#### mpmc - \u591a\u751f\u4ea7\u8005\uff0c\u591a\u6d88\u8d39\u8005\\r\\n\\r\\n\u524d\u9762\u7684\u793a\u4f8b\u5b58\u5728\u4e00\u4e2a\u7f3a\u9677\uff1a\u6211\u4eec\u5fc5\u987b\u751f\u6210\u591a\u4e2a `mpsc` \u901a\u9053\u6765\u53d1\u9001\u4efb\u52a1\uff0c\u8fd9\u6837\u5c31\uff1a\\r\\n\\r\\n1. \u7e41\u7410\u3002\u6211\u4eec\u9700\u8981\u4fdd\u6301\u4e00\u4efd `senders` \u5217\u8868\\r\\n2. \u6548\u7387\u4e0d\u662f\u6700\u9ad8\u7684\u3002\u8f6e\u8be2\u662f\u5206\u53d1\u4efb\u52a1\u7684\u6700\u4f73\u65b9\u5f0f\u5417\uff1f\u67d0\u4e9b\u5de5\u4f5c\u7ebf\u7a0b\u53ef\u80fd\u4f1a\u4fdd\u6301\u7a7a\u95f2\\r\\n\\r\\n\u7406\u60f3\u7684\u8bbe\u7f6e\u5982\u4e0b\uff1a\\r\\n\\r\\n```\\r\\n                      \u4efb\u52a1   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u7ed3\u679c\\r\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 worker thread 1 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \\r\\n\u2502 main thread \u255e\u2550\u2550\u2550\u2563           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524            \u2560\u2550\u2550\u2550\u2561 main thread \u2502 \\r\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 worker thread 2 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \\r\\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \\r\\n```\\r\\n\\r\\n\u8ba9\u6211\u4eec\u4f7f\u7528 [Flume](https://docs.rs/flume/latest/flume/) \u91cd\u5199\u6211\u4eec\u7684\u793a\u4f8b\u3002\u4f46\u9996\u5148\uff0c\u4e86\u89e3 `tokio` \u548c `flume` \u4e4b\u95f4\u7684\u6620\u5c04\uff1a\\r\\n\\r\\n| Tokio | Flume |\\r\\n|-------|-------|\\r\\n| [`unbounded_channel`](https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.unbounded_channel.html) | [`unbounded`](https://docs.rs/flume/latest/flume/fn.unbounded.html) (\u901a\u9053) |\\r\\n| (bounded) [`channel`](https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.channel.html) | [bounded](https://docs.rs/flume/latest/flume/fn.bounded.html) (\u901a\u9053) |\\r\\n| `send` | `send` |\\r\\n| `recv` | `recv_async` |\\r\\n\\r\\n\u5728 `tokio` \u4e2d\uff0c\u8be5\u65b9\u6cd5\u662f\u72ec\u5360\u7684\uff1a`async fn recv(&mut self)`\uff1b\u5728 `flume` \u4e2d\uff0c\u8be5\u65b9\u6cd5\u662f `fn recv_async(&self) -> RecvFut`\u3002\u7c7b\u578b\u7b7e\u540d\u5df2\u7ecf\u544a\u8bc9\u4f60 `mpsc` \u4e0e `mpmc` \u4e4b\u95f4\u7684\u533a\u522b\uff01\u5728\u5f02\u6b65\u4e0a\u4e0b\u6587\u4e2d\u4f7f\u7528\u963b\u585e\u7684 `recv` \u65b9\u6cd5\u662f\u9519\u8bef\u7684\uff0c\u4f46\u53ef\u60b2\u7684\u662f\uff0c\u7f16\u8bd1\u5668\u5e76\u4e0d\u4f1a\u8b66\u544a\u4f60\u3002\\r\\n\\r\\n\u901a\u9053\u7684\u8bbe\u7f6e\u73b0\u5728\u7a0d\u5fae\u7b80\u5355\u4e00\u4e9b\uff1a\\r\\n\\r\\n```rust\\r\\nlet (sender, receiver) = unbounded(); // \u4efb\u52a1\\r\\nlet (result, collector) = unbounded(); // \u7ed3\u679c\\r\\n\\r\\nfor _ in 0..WORKERS {\\r\\n    let receiver = receiver.clone();\\r\\n    let result = result.clone();\\r\\n    tokio::task::spawn(async move {\\r\\n        while let Ok(task) = receiver.recv_async().await {\\r\\n            result.send(process(task).await).unwrap();\\r\\n        }\\r\\n    });\\r\\n}\\r\\n```\\r\\n\\r\\n\u6211\u4eec\u4e0d\u518d\u9700\u8981\u81ea\u5df1\u5206\u53d1\u4efb\u52a1\u3002\u6240\u6709\u5de5\u4f5c\u7ebf\u7a0b\u5171\u4eab\u540c\u4e00\u4e2a\u4efb\u52a1\u961f\u5217\uff0c\u56e0\u6b64\u5de5\u4f5c\u7ebf\u7a0b\u5728\u5b8c\u6210\u524d\u4e00\u4e2a\u4efb\u52a1\u540e\u4f1a\u7acb\u5373\u83b7\u53d6\u4e0b\u4e00\u4e2a\u4efb\u52a1\u2014\u2014\u6709\u6548\u5730\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\uff01\\r\\n\\r\\n```rust\\r\\nfor task in &tasks {\\r\\n    sender.send(task.clone()).unwrap();\\r\\n}\\r\\n\\r\\nfor _ in 0..tasks.len() {\\r\\n    let result = collector.recv_async().await.unwrap();\\r\\n    println!(\\"{result:?}\\");\\r\\n}\\r\\n```\\r\\n\\r\\n\u5b8c\u6574\u6e90\u4ee3\u7801\u53ef\u4ee5\u5728 [\u8fd9\u91cc](https://github.com/SeaQL/FireDBG.Rust.Testbench/tree/main/flume-mpmc)\u627e\u5230\u3002\\r\\n\\r\\n## Sync -> Async\\r\\n\\r\\n\u5728\u6700\u540e\u4e00\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u8003\u8651\u4e00\u4e2a\u5927\u90e8\u5206\u662f\u540c\u6b65\u7684\u7a0b\u5e8f\uff0c\u4f46\u6709\u4e00\u4e9b\u6211\u4eec\u5e0c\u671b\u5728\u540e\u53f0\u7ebf\u7a0b\u4e2d\u5904\u7406\u7684\u5f02\u6b65\u64cd\u4f5c\u3002\\r\\n\\r\\n\u5728\u4e0b\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7684\u963b\u585e\u64cd\u4f5c\u662f\u4ece\u4e3b\u7ebf\u7a0b\u201c\u8bfb\u53d6\u6807\u51c6\u8f93\u5165\u201d\u3002\u6211\u4eec\u5c06\u8fd9\u4e9b\u884c\u53d1\u9001\u5230\u5355\u72ec\u7684\u5f02\u6b65\u7ebf\u7a0b\u8fdb\u884c\u5904\u7406\u3002\\r\\n\\r\\n```\\r\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\r\\n\u2502 main thread \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 async thread \u2502\\r\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\r\\n```\\r\\n\\r\\n\u5b83\u9075\u5faa\u901a\u5e38\u7684 3 \u4e2a\u6b65\u9aa4\uff1a\\r\\n\\r\\n1. \u521b\u5efa\u4e00\u4e2a flume \u901a\u9053\\r\\n2. \u5c06\u63a5\u6536\u7aef\u4f20\u9012\u7ed9\u5de5\u4f5c\u7ebf\u7a0b\\r\\n3. \u901a\u8fc7\u901a\u9053\u53d1\u9001\u4efb\u52a1\\r\\n\\r\\n```rust\\r\\nfn main() -> Result<()> {\\r\\n    let (sender, receiver) = unbounded(); // flume \u901a\u9053\\r\\n\\r\\n    std::thread::spawn(move || {\\r\\n        // \u8fd9\u4e2a\u8fd0\u884c\u65f6\u662f\u5355\u7ebf\u7a0b\u7684\\r\\n        let rt = tokio::runtime::Builder::new_current_thread().enable_all().build().unwrap();\\r\\n        rt.block_on(handler(receiver))\\r\\n    });\\r\\n\\r\\n    loop {\\r\\n        let mut line = String::new();\\r\\n        // \u8fd9\u4f1a\u963b\u585e\u5f53\u524d\u7ebf\u7a0b\uff0c\u76f4\u5230\u6709\u65b0\u884c\u8f93\u5165\\r\\n        match std::io::stdin().read_line(&mut line) {\\r\\n            Ok(0) => break, // \u8fd9\u610f\u5473\u7740\u6807\u51c6\u8f93\u5165\u88ab\u5173\u95ed\\r\\n            Ok(_) => (),\\r\\n            Err(e) => panic!(\\"{e:?}\\"),\\r\\n        }\\r\\n        sender.send(line)?;\\r\\n    }\\r\\n\\r\\n    Ok(())\\r\\n}\\r\\n```\\r\\n\\r\\n\u8fd9\u662f\u5904\u7406\u7a0b\u5e8f\uff1a\\r\\n\\r\\n```rust\\r\\nasync fn handler(receiver: Receiver<String>) -> Result<()> {\\r\\n    while let Ok(line) = receiver.recv_async().await {\\r\\n        process(line).await?;\\r\\n    }\\r\\n    Ok(())\\r\\n}\\r\\n```\\r\\n\\r\\n\u770b\u8d77\u6765\u4e0e `async -> async` \u793a\u4f8b\u6ca1\u4ec0\u4e48\u4e0d\u540c\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f\u5176\u4e2d\u4e00\u4fa7\u662f\u540c\u6b65\u7684\uff01\u5b8c\u6574\u6e90\u4ee3\u7801\u53ef\u5728 [\u8fd9\u91cc](https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-file/src/bin/stdin-to-file.rs)\u627e\u5230\u3002\\r\\n\\r\\n### \u4f18\u96c5\u5730\u5173\u95ed\\r\\n\\r\\n\u4e0a\u8ff0\u4ee3\u7801\u6709\u4e00\u4e2a\u95ee\u9898\uff1a\u6211\u4eec\u4e0d\u77e5\u9053\u884c\u662f\u5426\u5df2\u88ab\u5904\u7406\u3002\u5982\u679c\u7a0b\u5e8f\u6709\u4e00\u4e2a\u4ece\u5904\u7406 `sigint` \u7684\u9000\u51fa\u673a\u5236\uff0c\u5c31\u6709\u53ef\u80fd\u5728\u6240\u6709\u884c\u90fd\u5904\u7406\u4e4b\u524d\u5c31\u9000\u51fa\u3002\\r\\n\\r\\n\u8ba9\u6211\u4eec\u770b\u770b\u5982\u4f55\u6b63\u786e\u5730\u5173\u95ed\u3002\\r\\n\\r\\n```rust\\r\\nlet handle = std::thread::spawn(..);\\r\\n\\r\\n// running \u662f\u4e00\u4e2a AtomicBool\\r\\nwhile running.load(Ordering::Acquire) {\\r\\n    let line = read_line_from_stdin();\\r\\n    sender.send(line)?;\\r\\n}\\r\\n\\r\\nstd::mem::drop(sender);\\r\\nhandle.join().unwrap().unwrap();\\r\\n```\\r\\n\\r\\n\u5173\u95ed\u5e8f\u5217\u6709 3 \u4e2a\u6b65\u9aa4\uff1a\\r\\n\\r\\n0. \u6211\u4eec\u9996\u5148\u83b7\u5f97\u5bf9\u7ebf\u7a0b\u7684 `JoinHandle`\\r\\n1. \u6211\u4eec\u4e22\u5f03\u6240\u6709 `sender` \u7684\u526f\u672c\uff0c\u4ece\u800c\u6709\u6548\u5730\u5173\u95ed\u901a\u9053\\r\\n2. \u5728\u5de5\u4f5c\u7ebf\u7a0b\u4e2d\uff0c`receiver.recv_async()` \u5c06\u4f1a\u8fd4\u56de\u9519\u8bef\uff0c\u5982 [\u6587\u6863](https://docs.rs/flume/latest/flume/struct.Receiver.html#method.recv_async) \u6240\u8ff0\\r\\n    > \u5f02\u6b65\u63a5\u6536\u901a\u9053\u4e2d\u7684\u503c\uff0c\u5982\u679c\u6240\u6709\u53d1\u9001\u8005\u90fd\u5df2\u4e22\u5f03\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u3002\\r\\n3. \u5de5\u4f5c\u7ebf\u7a0b\u5b8c\u6210\uff0c\u4e0e\u4e3b\u7ebf\u7a0b\u8fde\u63a5\\r\\n\\r\\n## Async -> Sync\\r\\n\\r\\n\u53cd\u5411\u64cd\u4f5c\u4e5f\u662f\u540c\u6837\u7b80\u5355\uff0c\u5982 [SeaStreamer \u7684\u793a\u4f8b](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/blocking.rs) \u6240\u793a\u3002\\r\\n\\r\\n## \u7ed3\u8bba\\r\\n\\r\\n| | \u540c\u6b65 | \u5f02\u6b65 |\\r\\n|-|------|-------|\\r\\n| \u542f\u52a8\u5de5\u4f5c\u7ebf\u7a0b | [`std::thread::spawn`](https://doc.rust-lang.org/std/thread/fn.spawn.html) | [`tokio::task::spawn`](https://docs.rs/tokio/latest/tokio/task/fn.spawn.html) |\\r\\n| \u5e76\u53d1 | \u591a\u7ebf\u7a0b | \u53ef\u4ee5\u662f\u591a\u7ebf\u7a0b\u6216\u5355\u7ebf\u7a0b |\\r\\n| \u5de5\u4f5c\u7ebf\u7a0b\u662f | `FnOnce` | `Future` |\\r\\n| \u53d1\u9001\u6d88\u606f\u4f7f\u7528 | `send` | `send` |\\r\\n| \u63a5\u6536\u6d88\u606f\u4f7f\u7528 | `recv` | `recv_async` |\\r\\n| \u7b49\u5f85\u6d88\u606f | \u963b\u585e | \u8ba9\u6e21\u7ed9\u8fd0\u884c\u65f6 |\\r\\n\\r\\n\u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u8ba8\u8bba\u4e86\uff1a\\r\\n\\r\\n1. \u540c\u6b65\u9886\u57df\u4e2d\u7684\u591a\u7ebf\u7a0b\u5e76\u884c\u6027\\r\\n2. \u5f02\u6b65\u9886\u57df\u7684\u5e76\u53d1 - \u4f7f\u7528 `tokio` \u548c `flume`\\r\\n3. \u4f7f\u7528 `flume` \u6865\u63a5\u540c\u6b65\u548c\u5f02\u6b65\u4ee3\u7801\\r\\n\\r\\n\u73b0\u5728\u4f60\u5df2\u4e86\u89e3 `flume` \u7684\u5f3a\u5927\u529f\u80fd\uff0c\u4f46\u8fd8\u6709\u66f4\u591a\u5185\u5bb9\uff01\\r\\n\\r\\n\u5728\u4e0b\u4e00\u96c6\uff0c\u5e0c\u671b\u6211\u4eec\u80fd\u8ba8\u8bba `flume` \u7684\u5176\u4ed6\u6709\u8da3\u7279\u6027\u2014\u2014\u6709\u754c\u901a\u9053\u548c\u201c\u4f1a\u9762\u901a\u9053\u201d\u3002\\r\\n\\r\\n+ [FizzBuzz \u591a\u7ebf\u7a0b - \u4f7f\u7528\u4f1a\u9762\u901a\u9053\u7684\u540c\u6b65](https://firedbg.sea-ql.org/blog/2024-06-30-fizzbuzz-multithread/)\\r\\n\\r\\n## Rustacean \u8d34\u7eb8\u5305 \ud83e\udd80\\r\\n\\r\\nRustacean \u8d34\u7eb8\u5305\u662f\u5c55\u793a\u4f60\u5bf9 Rust \u70ed\u60c5\u7684\u5b8c\u7f8e\u65b9\u5f0f\u3002\\r\\n\u6211\u4eec\u7684\u8d34\u7eb8\u91c7\u7528\u4f18\u8d28\u9632\u6c34\u4e59\u70ef\u57fa\uff0c\u5177\u6709\u72ec\u7279\u7684\u54d1\u5149\u6548\u679c\u3002\\r\\n\u628a\u5b83\u4eec\u8d34\u5728\u4f60\u7684\u7b14\u8bb0\u672c\u7535\u8111\u3001\u7b14\u8bb0\u672c\u6216\u4efb\u4f55\u8bbe\u5907\u4e0a\uff0c\u663e\u793a\u4f60\u5bf9 Rust \u7684\u70ed\u7231\uff01\\r\\n\\r\\n\u6b64\u5916\uff0c\u6240\u6709\u5229\u6da6\u5c06\u76f4\u63a5\u8d21\u732e\u4e8e SeaQL \u9879\u76ee\u7684\u6301\u7eed\u5f00\u53d1\u3002\\r\\n\\r\\n\u8d34\u7eb8\u5305\u5185\u5bb9\uff1a\\r\\n- SeaQL \u9879\u76ee\u7684 Logo\uff1aSeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\r\\n- SeaQL \u7684\u5409\u7965\u7269\uff1aTerres the Hermit Crab\\r\\n- Rust \u7684\u5409\u7965\u7269\uff1aFerris the Crab\\r\\n- Rustacean \u8fd9\u4e2a\u8bcd\\r\\n\\r\\n[\u652f\u6301 SeaQL \u5e76\u83b7\u5f97\u8d34\u7eb8\u5305\uff01](https://www.sea-ql.org/sticker-pack/)\\r\\n\\r\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2024-05-05-redis-kafka-data-sink","metadata":{"permalink":"/blog/2024-05-05-redis-kafka-data-sink","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-05-05-redis-kafka-data-sink.md","source":"@site/blog/2024-05-05-redis-kafka-data-sink.md","title":"\u6784\u5efa Redis / Kafka \u6570\u636e\u63a5\u6536\u5668","description":"\u672c\u6559\u7a0b\u5c06\u5411\u60a8\u5c55\u793a\u5982\u4f55\u4f7f\u7528 Rust \u6784\u5efa\u4e00\u4e2a\u7cfb\u7edf\uff0c\u8be5\u7cfb\u7edf\u5b9e\u73b0\u4ee5\u4e0b\u529f\u80fd\uff1a","date":"2024-05-05T00:00:00.000Z","formattedDate":"May 5, 2024","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":7.565,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL\u56e2\u961f","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2024-05-05-redis-kafka-data-sink","title":"\u6784\u5efa Redis / Kafka \u6570\u636e\u63a5\u6536\u5668","author":"Chris Tsang","author_title":"SeaQL\u56e2\u961f","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","image":"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png","tags":["news"]},"prevItem":{"title":"\u540c\u6b65\u4e0e\u5f02\u6b65 Rust \u4e4b\u95f4\u7684\u5f69\u8679\u6865","permalink":"/blog/2024-05-20-async-rainbow-bridge"},"nextItem":{"title":"SeaORM 1.0-rc.x \u4e2d\u7684\u65b0\u7279\u6027","permalink":"/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x"}},"content":"<img src=\\"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png\\" />\\r\\n\\r\\n\u672c\u6559\u7a0b\u5c06\u5411\u60a8\u5c55\u793a\u5982\u4f55\u4f7f\u7528 Rust \u6784\u5efa\u4e00\u4e2a\u7cfb\u7edf\uff0c\u8be5\u7cfb\u7edf\u5b9e\u73b0\u4ee5\u4e0b\u529f\u80fd\uff1a\\r\\n\\r\\n1. \u8ba2\u9605\u5b9e\u65f6 websocket \u6570\u636e\u6d41\\r\\n2. \u5c06\u6570\u636e\u6d41\u4f20\u8f93\u5230 Kafka / Redis\\r\\n3. \u5c06\u6570\u636e\u4fdd\u5b58\u5230 SQL \u6570\u636e\u5e93\\r\\n\\r\\n\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5c06\u91c7\u7528\u5fae\u670d\u52a1\u67b6\u6784\uff0c\u5e76\u5c06\u529f\u80fd\u62c6\u5206\u4e3a\u4e24\u4e2a\u5e94\u7528\uff1a\\r\\n\\r\\n```\\r\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\r\\n\u2502 Websocket \u6570\u636e\u6d41    \u2502 ---\x3e   Redis / Kafka   ---\x3e \u2502 SQL \u6570\u636e\u63a5\u6536\u5668 \u2502\\r\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\r\\n```\\r\\n\\r\\n\u5728\u6d41\u5904\u7406\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u4f7f\u7528\u201c\u6e90\u201d\u548c\u201c\u63a5\u6536\u5668\u201d\u8fd9\u4e24\u4e2a\u672f\u8bed\uff0c\u4f46\u6570\u636e\u63a5\u6536\u5668\u53ea\u662f\u5c06\u6570\u636e\u6301\u4e45\u5316\u5230\u5b58\u50a8\u4e2d\u7684\u6d41\u6d88\u8d39\u8005\u3002\\r\\n\\r\\n\u5728\u6e90\u7aef\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 [SeaStreamer](https://github.com/SeaQL/sea-streamer)\u3002\u5728\u63a5\u6536\u5668\u7aef\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 [SeaORM](https://github.com/SeaQL/sea-orm)\u3002\u4ee5\u4e0b\u662f\u652f\u6301\u7684\u6280\u672f\uff1b\u5728\u672c\u6587\u7684\u5176\u4f59\u90e8\u5206\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 `Redis` \u548c `SQLite`\uff0c\u56e0\u4e3a\u5b83\u4eec\u6613\u4e8e\u8bbe\u7f6e\u3002\\r\\n\\r\\n| SeaStreamer   | SeaORM                |\\r\\n|---------------|-----------------------|\\r\\n| Kafka, Redis  | MySQL, Postgres, SQLite, SQL Server[^1] |\\r\\n\\r\\n\u8981\u5f00\u59cb\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 Docker \u5feb\u901f\u542f\u52a8\u4e00\u4e2a Redis \u5b9e\u4f8b\uff1a\\r\\n\\r\\n```sh\\r\\ndocker run -d --rm --name redis -p 6379:6379 redis\\r\\n```\\r\\n\\r\\n## 1. Websocket \u8ba2\u9605\\r\\n\\r\\n\u8ba9\u6211\u4eec\u5728 Rust \u4e2d\u7f16\u5199\u4e00\u4e2a websocket \u8ba2\u9605\u8005\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5c06\u4f7f\u7528\u51fa\u8272\u7684 [async-tungstenite](https://crates.io/crates/async-tungstenite) \u5e93\u3002\\r\\n\\r\\n\u6211\u4eec\u5c06\u8ba2\u9605 Kraken \u7684 `GBP/USD` \u6c47\u7387\u6570\u636e\u6d41\uff0cAPI \u6587\u6863\u53ef\u4ee5\u5728 [\u8fd9\u91cc](https://docs.kraken.com/websockets/#message-spread) \u627e\u5230\u3002\u6ce8\u610f\uff1a\u8fd9\u4e9b\u6570\u636e\u5e76\u4e0d\u662f\u771f\u5b9e\u7684\u5916\u6c47\u6570\u636e\uff0c\u4f46\u5e94\u8be5\u8db3\u591f\u7528\u4e8e\u6f14\u793a\u3002\\r\\n\\r\\n\u6b65\u9aa4 1\uff0c\u521b\u5efa\u4e00\u4e2a websocket \u8fde\u63a5\uff1a\\r\\n\\r\\n```rust\\r\\nlet (mut ws, _) = async_tungstenite::tokio::connect_async(\\"wss://ws.kraken.com/\\").await?;\\r\\n```\\r\\n\\r\\n\u6b65\u9aa4 2\uff0c\u53d1\u9001\u8ba2\u9605\u8bf7\u6c42\uff1a\\r\\n\\r\\n```rust\\r\\nws.send(Message::Text(\\r\\n    r#\\"{ \\"event\\": \\"subscribe\\", \\"pair\\": [\\"GBP/USD\\"], \\"subscription\\": { \\"name\\": \\"spread\\" } }\\"#.to_owned(),\\r\\n)).await?;\\r\\n```\\r\\n\\r\\n\u6b65\u9aa4 3\uff0c\u6d41\u5904\u7406\u6d88\u606f\uff1a\\r\\n\\r\\n```rust\\r\\nloop {\\r\\n    match ws.next().await {\\r\\n        Some(Ok(Message::Text(data))) => {\\r\\n            if data == r#\\"{\\"event\\":\\"heartbeat\\"}\\"# {\\r\\n                continue; // \u8df3\u8fc7\u5fc3\u8df3\u4e8b\u4ef6\\r\\n            }\\r\\n            println!(\\"{data}\\");\\r\\n        }\\r\\n        Some(Err(e)) => bail!(\\"Socket error: {e}\\"),\\r\\n        None => bail!(\\"Stream ended\\"),\\r\\n        e => bail!(\\"Unexpected message {e:?}\\"),\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n## 2. Redis / Kafka \u6d41\u751f\u4ea7\u8005\\r\\n\\r\\n\u6b65\u9aa4 1\uff0c\u521b\u5efa\u4e00\u4e2a\u8fde\u63a5\u5230 Redis / Kafka \u7684 `SeaStreamer` \u5b9e\u4f8b\uff1a\\r\\n\\r\\n```rust\\r\\nlet streamer = SeaStreamer::connect(\\r\\n        \\"redis://localhost\\", SeaConnectOptions::default()\\r\\n    ).await?;\\r\\n```\\r\\n\\r\\nRedis \u548c Kafka \u5404\u81ea\u6709\u5f88\u591a\u4e0d\u540c\u7684\u9009\u9879\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 SeaStreamer \u7684 [\u6587\u6863](https://www.sea-ql.org/SeaStreamer/)\u3002\\r\\n\\r\\n\u6b65\u9aa4 2\uff0c\u521b\u5efa\u751f\u4ea7\u8005\uff1a\\r\\n\\r\\n```rust\\r\\nlet producer: SeaProducer = streamer\\r\\n    .create_producer(\\r\\n        \\"GBP_USD\\".parse()?, // \u6d41\u952e\\r\\n        Default::default(),  // \u751f\u4ea7\u8005\u9009\u9879\\r\\n    )\\r\\n    .await?;\\r\\n```\\r\\n\\r\\n\u751f\u4ea7\u8005\u6ca1\u6709\u7279\u5b9a\u7684\u9009\u9879\u3002\\r\\n\\r\\n\u6b65\u9aa4 3\uff0c\u89e3\u7801\u6d88\u606f\uff1a\\r\\n\\r\\n```rust\\r\\nlet spread: SpreadMessage = serde_json::from_str(&data)?;\\r\\nlet message = serde_json::to_string(&spread)?;\\r\\n```\\r\\n\\r\\n\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u4f7f\u7528\u51fa\u8272\u7684 [`serde`](https://crates.io/crates/serde) \u5e93\u6765\u8fdb\u884c\u6d88\u606f\u89e3\u6790\u548c\u8f6c\u6362\uff1a\\r\\n\\r\\n```rust\\r\\n// \u539f\u59cb\u6d88\u606f\u683c\u5f0f\u4e3a: [80478222,[\\"1.25475\\",\\"1.25489\\",\\"1714946803.030088\\",\\"949.74917071\\",\\"223.36195920\\"],\\"spread\\",\\"GBP/USD\\"]\\r\\n\\r\\n#[derive(Debug, Serialize, Deserialize)]\\r\\nstruct SpreadMessage {\\r\\n    #[allow(dead_code)]\\r\\n    #[serde(skip_serializing)]\\r\\n    channel_id: u32, // \u5360\u4f4d\u7b26; \u4e0d\u9700\u8981\\r\\n    spread: Spread, // \u5d4c\u5957\u5bf9\u8c61\\r\\n    channel_name: String,\\r\\n    pair: String,\\r\\n}\\r\\n\\r\\n#[derive(Debug, Serialize, Deserialize)]\\r\\nstruct Spread {\\r\\n    bid: Decimal,\\r\\n    ask: Decimal,\\r\\n    #[serde(with = \\"timestamp_serde\\")] // \u81ea\u5b9a\u4e49\u5e8f\u5217\u5316\\r\\n    timestamp: Timestamp,\\r\\n    bid_vol: Decimal,\\r\\n    ask_vol: Decimal,\\r\\n}\\r\\n```\\r\\n\\r\\n\u6b65\u9aa4 4\uff0c\u53d1\u9001\u6d88\u606f\uff1a\\r\\n\\r\\n```rust\\r\\nloop {\\r\\n    match ws.next().await {\\r\\n        Some(Ok(Message::Text(data))) => {\\r\\n            let spread: SpreadMessage = serde_json::from_str(&data)?;\\r\\n            let message = serde_json::to_string(&spread)?;\\r\\n            producer.send(message)?; // <--\\r\\n        }\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u8bf7\u6ce8\u610f\uff0c[`producer.send`](https://docs.rs/sea-streamer/latest/sea_streamer/trait.Producer.html#method.send) \u8c03\u7528\u4e0d\u662f `async/await`\uff0c\u8fd9\u662f\u4e00\u4e2a\u5173\u952e\u7ec6\u8282\uff01\u8fd9\u6d88\u9664\u4e86\u6d41\u5904\u7406\u74f6\u9888\u3002\u5728\u5e55\u540e\uff0c\u6d88\u606f\u5c06\u88ab\u7f13\u51b2\u5e76\u5728\u4e0d\u540c\u7684\u7ebf\u7a0b\u4e2d\u5904\u7406\uff0c\u8fd9\u6837\u60a8\u7684\u8f93\u5165\u6d41\u53ef\u4ee5\u5c3d\u53ef\u80fd\u63a5\u8fd1\u5b9e\u65f6\u8fd0\u884c\u3002\\r\\n\\r\\n\u4ee5\u4e0b\u662f\u5b8c\u6574\u7684 [`price-feed`](https://github.com/SeaQL/sea-streamer/tree/main/examples/price-feed) \u5e94\u7528\uff0c\u60a8\u53ef\u4ee5\u4ece SeaStreamer \u4ed3\u5e93\u4e2d\u67e5\u770b\uff1a\\r\\n\\r\\n```log\\r\\n$ cd examples/price-feed\\r\\n$ cargo run\\r\\n\\r\\nConnecting ..\\r\\nConnected.\\r\\nSubscribed.\\r\\n{\\"spread\\":{\\"bid\\":\\"1.25495\\",\\"ask\\":\\"1.25513\\",\\"timestamp\\":\\"2024-05-05T16:31:00.961214\\",\\"bid_vol\\":\\"61.50588918\\",\\"ask_vol\\":\\"787.90883861\\"},\\"channel_name\\":\\"spread\\",\\"pair\\":\\"GBP/USD\\"}\\r\\n..\\r\\n```\\r\\n\\r\\n## 3. SQL \u6570\u636e\u63a5\u6536\u5668\\r\\n\\r\\n\u6b65\u9aa4 1\uff0c\u521b\u5efa\u4e00\u4e2a\u6d41\u6d88\u8d39\u8005\uff1a\\r\\n\\r\\n```rust\\r\\nlet streamer = SeaStreamer::connect(streamer_uri, Default::default()).await?;\\r\\n\\r\\nlet consumer = streamer\\r\\n    .create_consumer(&[stream_key], SeaConsumerOptions::default())\\r\\n    .await?;\\r\\n```\\r\\n\\r\\nRedis \u548c Kafka \u5404\u81ea\u6709\u5f88\u591a\u4e0d\u540c\u7684\u9009\u9879\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 SeaStreamer \u7684 [\u793a\u4f8b](https://github.com/SeaQL/sea-streamer/tree/main/examples/)\u3002\u5728\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u9ed8\u8ba4\u9009\u9879\uff0c\u5373\u4e00\u4e2a\u5b9e\u65f6\u65e0\u72b6\u6001\u6d41\u6d88\u8d39\u8005\u3002\\r\\n\\r\\n\u6b65\u9aa4 2\uff0c\u521b\u5efa\u6570\u636e\u5e93\uff1a\\r\\n\\r\\n```rust\\r\\nlet mut opt = ConnectOptions::new(\\"sqlite://my_db.sqlite?mode=rwc\\"));\\r\\nopt.max_connections(1).sqlx_logging(false);\\r\\nlet db = Database::connect(opt).await?;\\r\\n```\\r\\n\\r\\n\u6211\u4eec\u5c06 `max_connections` \u8bbe\u7f6e\u4e3a `1`\uff0c\u56e0\u4e3a\u6211\u4eec\u7684\u6570\u636e\u63a5\u6536\u5668\u4e0d\u9700\u8981\u5e76\u53d1\u63d2\u5165\u3002\\r\\n\\r\\n\u4ee5\u4e0b\u662f `Entity`\uff1a\\r\\n\\r\\n```rust\\r\\n#[derive(Debug, Clone, PartialEq, Eq, DeriveEntityModel, Deserialize)]\\r\\n#[sea_orm(table_name = \\"event\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    #[serde(default)]\\r\\n    pub id: i32,\\r\\n    pub timestamp: String,\\r\\n    pub bid: String,\\r\\n    pub ask: String,\\r\\n    pub bid_vol: String,\\r\\n    pub ask_vol: String,\\r\\n}\\r\\n```\\r\\n\\r\\n\u8be5\u8868\u5c06\u547d\u540d\u4e3a `event`\uff0c\u5e76\u4e14\u6211\u4eec\u5728\u6a21\u578b\u4e0a\u6d3e\u751f `Deserialize`\u3002\\r\\n\\r\\n\u6211\u4eec\u5c06\u4f7f\u7528\u4ee5\u4e0b\u8f85\u52a9\u65b9\u6cd5\u521b\u5efa\u6570\u636e\u5e93\u8868\uff0c\u5176\u4e2d\u67b6\u6784\u662f\u4ece\u5b9e\u4f53\u6d3e\u751f\u7684\uff1a\\r\\n\\r\\n```rust\\r\\nasync fn create_tables(db: &DbConn) -> Result<(), DbErr> {\\r\\n    let builder = db.get_database_backend();\\r\\n    let schema = Schema::new(builder);\\r\\n\\r\\n    let stmt = builder.build(\\r\\n        schema.create_table_from_entity(Entity).if_not_exists(),\\r\\n    );\\r\\n    log::info!(\\"{stmt}\\");\\r\\n    db.execute(stmt).await?;\\r\\n\\r\\n    Ok(())\\r\\n}\\r\\n```\\r\\n\\r\\n\u8fd9\u5bf9\u4e8e SQLite \u7279\u522b\u65b9\u4fbf\uff0c\u56e0\u4e3a\u5e94\u7528\u7a0b\u5e8f\u62e5\u6709\u6570\u636e\u5e93\u67b6\u6784\u3002\u5bf9\u4e8e\u5176\u4ed6\u6570\u636e\u5e93\uff0c\u60a8\u53ef\u80fd\u4f1a\u4f7f\u7528 [SeaORM \u8fc1\u79fb\u7cfb\u7edf](https://www.sea-ql.org/SeaORM/docs/next/migration/setting-up-migration/)\u3002\\r\\n\\r\\n\u6b65\u9aa4 3\uff0c\u5c06\u6570\u636e\u63d2\u5165\u6570\u636e\u5e93\uff1a\\r\\n\\r\\n```rust\\r\\nloop {\\r\\n    let message = consumer.next().await?;\\r\\n    let payload = message.message();\\r\\n    let json = payload.as_str()?;\\r\\n    let item: Item = serde_json::from_str(json)?;\\r\\n    let mut spread = item.spread.into_active_model();\\r\\n    spread.id = NotSet; // \u8ba9\u6570\u636e\u5e93\u5206\u914d\u4e3b\u952e\\r\\n    spread.save(&db).await?;\\r\\n}\\r\\n```\\r\\n\\r\\n\u5728\u51e0\u884c\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\uff1a\\r\\n\\r\\n1. \u4ece Redis \u63a5\u6536\u6d88\u606f\\r\\n2. \u5c06\u6d88\u606f\u89e3\u7801\u4e3a JSON\\r\\n3. \u5c06\u6d88\u606f\u8f6c\u6362\u4e3a SeaORM \u6a21\u578b\\r\\n4. \u5c06\u6a21\u578b\u63d2\u5165\u6570\u636e\u5e93\\r\\n\\r\\n\u5728\u53e6\u4e00\u4e2a\u7ec8\u7aef\u4e2d\u8fd0\u884c [`sea-orm-sink`](https://github.com/SeaQL/sea-streamer/tree/main/examples/sea-orm-sink) \u5e94\u7528\uff1a\\r\\n\\r\\n```log\\r\\n$ cd examples/sea-orm-sink\\r\\n$ RUST_LOG=info cargo run\\r\\n\\r\\n[INFO  sea_streamer_sea_orm_sink] CREATE TABLE IF NOT EXISTS \\"event\\" ( \\"id\\" integer NOT NULL PRIMARY KEY AUTOINCREMENT, \\"timestamp\\" varchar NOT NULL, \\"bid\\" varchar NOT NULL, \\"ask\\" varchar NOT NULL, \\"bid_vol\\" varchar NOT NULL, \\"ask_vol\\" varchar NOT NULL )\\r\\n[INFO  sea_streamer_sea_orm_sink] {\\"spread\\":{\\"bid\\":\\"1.25495\\",\\"ask\\":\\"1.25513\\",\\"timestamp\\":\\"2024-05-05T16:31:00.961214\\",\\"bid_vol\\":\\"61.50588918\\",\\"ask_vol\\":\\"787.90883861\\"},\\"channel_name\\":\\"spread\\",\\"pair\\":\\"GBP/USD\\"}\\r\\n```\\r\\n\\r\\n\u5c31\u662f\u8fd9\u6837\uff01\u73b0\u5728\u60a8\u53ef\u4ee5\u4f7f\u7528\u60a8\u559c\u6b22\u7684\u6570\u636e\u5e93 GUI \u68c0\u67e5\u6570\u636e\uff0c\u5e76\u7f16\u5199\u4e00\u4e9b SQL \u67e5\u8be2\uff1a\\r\\n\\r\\n<img alt=\\"screenshot of SQLite database\\" src=\\"/blog/img/2024-05-05-redis-kafka-data-sink-sqlite.png\\"/>\\r\\n\\r\\n## \u7ed3\u8bba\\r\\n\\r\\n\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u6db5\u76d6\u4e86\uff1a\\r\\n\\r\\n1. \u6d41\u5904\u7406\u4e2d\u7684\u5fae\u670d\u52a1\u67b6\u6784\\r\\n2. Rust \u4e2d\u7684\u5f02\u6b65\u5b9e\u65f6\u7f16\u7a0b\\r\\n3. SeaQL \u548c Rust \u751f\u6001\u7cfb\u7edf\u7684\u5f3a\u5927[^2]\\r\\n\\r\\n\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5efa\u8bae\uff0c\u60a8\u53ef\u4ee5\u5728\u6b64\u57fa\u7840\u4e0a\u8fdb\u4e00\u6b65\u62d3\u5c55\uff1a\\r\\n\\r\\n1. \u5c06\u6570\u636e\u6d41\u5411 MySQL \u6216 Postgres \u7b49\u201c\u5927\u578b\u6570\u636e\u5e93\u201d\\r\\n2. \u8ba2\u9605\u66f4\u591a\u6d41\u5e76\u63a5\u6536\u81f3\u66f4\u591a\u8868\\r\\n3. \u7f13\u51b2\u4e8b\u4ef6\u5e76\u6279\u91cf\u63d2\u5165\u6570\u636e\u4ee5\u63d0\u9ad8\u541e\u5410\u91cf\uff0c\u8fdb\u4e00\u6b65\u9605\u8bfb\uff1a\\r\\n    + https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/buffered.rs\\r\\n    + https://github.com/SeaQL/FireDBG.for.Rust/blob/main/indexer/src/main.rs\\r\\n\\r\\n## Rustacean \u8d34\u7eb8\u5305 \ud83e\udd80\\r\\n\\r\\nRustacean \u8d34\u7eb8\u5305\u662f\u8868\u8fbe\u60a8\u5bf9 Rust \u70ed\u7231\u7684\u5b8c\u7f8e\u65b9\u5f0f\u3002\\r\\n\u6211\u4eec\u7684\u8d34\u7eb8\u91c7\u7528\u4f18\u8d28\u9632\u6c34\u4e59\u70ef\u57fa\u5236\u6210\uff0c\u5177\u6709\u72ec\u7279\u7684\u54d1\u5149\u6548\u679c\u3002\\r\\n\u5c06\u5b83\u4eec\u8d34\u5728\u60a8\u7684\u7b14\u8bb0\u672c\u7535\u8111\u3001\u7b14\u8bb0\u672c\u6216\u4efb\u4f55\u8bbe\u5907\u4e0a\uff0c\u5c55\u793a\u60a8\u5bf9 Rust \u7684\u70ed\u7231\uff01\\r\\n\\r\\n\u6b64\u5916\uff0c\u6240\u6709\u6536\u76ca\u76f4\u63a5\u7528\u4e8e SeaQL \u9879\u76ee\u7684\u6301\u7eed\u5f00\u53d1\u3002\\r\\n\\r\\n\u8d34\u7eb8\u5305\u5185\u5bb9\uff1a\\r\\n- SeaQL \u9879\u76ee\u7684\u6807\u5fd7\uff1aSeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\r\\n- SeaQL \u7684\u5409\u7965\u7269\uff1aTerres the Hermit Crab\\r\\n- Rust \u7684\u5409\u7965\u7269\uff1aFerris the Crab\\r\\n- Rustacean \u5b57\u6837\\r\\n\\r\\n[\u652f\u6301 SeaQL \u5e76\u83b7\u5f97\u8d34\u7eb8\u5305\uff01](https://www.sea-ql.org/sticker-pack/)\\r\\n\\r\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>\\r\\n\\r\\n[^1]: via [SeaORM X](https://www.sea-ql.org/SeaORM-X/)\\r\\n[^2]: [Why Rust?](https://www.sea-ql.org/SeaStreamer/docs/introduction/intro-to-streams/#why-rust)"},{"id":"2024-04-08-whats-new-in-seaorm-1.0-rc.x","metadata":{"permalink":"/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x.md","source":"@site/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x.md","title":"SeaORM 1.0-rc.x \u4e2d\u7684\u65b0\u7279\u6027","description":"\u672c\u6587\u603b\u7ed3\u4e86\u5728 SeaORM 1.0-rc.x \u4e2d\u5f15\u5165\u7684\u65b0\u7279\u6027\u548c\u589e\u5f3a\u529f\u80fd\uff1a","date":"2024-04-08T00:00:00.000Z","formattedDate":"April 8, 2024","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":11.705,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png"}],"frontMatter":{"slug":"2024-04-08-whats-new-in-seaorm-1.0-rc.x","title":"SeaORM 1.0-rc.x \u4e2d\u7684\u65b0\u7279\u6027","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%201.0-rc%20Banner.png","tags":["news"]},"prevItem":{"title":"\u6784\u5efa Redis / Kafka \u6570\u636e\u63a5\u6536\u5668","permalink":"/blog/2024-05-05-redis-kafka-data-sink"},"nextItem":{"title":"SeaORM 0.12.x \u7684\u65b0\u529f\u80fd","permalink":"/blog/2024-01-23-whats-new-in-seaorm-0.12.x"}},"content":"<img alt=\\"SeaORM 1.0-rc Banner\\" src=\\"/blog/img/SeaORM%201.0-rc%20Banner.png\\"/>\\r\\n\\r\\n\u672c\u6587\u603b\u7ed3\u4e86\u5728 SeaORM `1.0-rc.x` \u4e2d\u5f15\u5165\u7684\u65b0\u7279\u6027\u548c\u589e\u5f3a\u529f\u80fd\uff1a\\r\\n\\r\\n+ [1.0.0-rc.1](https://github.com/SeaQL/sea-orm/releases/tag/1.0.0-rc.1)\\r\\n+ [1.0.0-rc.2](https://github.com/SeaQL/sea-orm/releases/tag/1.0.0-rc.2)\\r\\n+ [1.0.0-rc.3](https://github.com/SeaQL/sea-orm/releases/tag/1.0.0-rc.3)\\r\\n\\r\\n## \u65b0\u7279\u6027\\r\\n\\r\\n### \u5237\u65b0\u8fc1\u79fb\u6a21\u5f0f\u5b9a\u4e49\\r\\n\\r\\n[#2099](https://github.com/SeaQL/sea-orm/pull/2099) \u6211\u4eec\u610f\u8bc6\u5230 SeaORM \u7684\u8fc1\u79fb\u811a\u672c\u6709\u65f6\u663e\u5f97\u5197\u957f\u3002\u611f\u8c22 Loco \u7684\u5de7\u5999\u8bbe\u8ba1\uff0c\u6211\u4eec\u5237\u65b0\u4e86\u6a21\u5f0f\u5b9a\u4e49\u7684\u8bed\u6cd5\u3002\\r\\n\\r\\n\u65e7\u7684\u8fc1\u79fb\u811a\u672c\u5982\u4e0b\u6240\u793a\uff1a\\r\\n\\r\\n```rust\\r\\n#[async_trait::async_trait]\\r\\nimpl MigrationTrait for Migration {\\r\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n        manager\\r\\n            .create_table(\\r\\n                Table::create()\\r\\n                    .table(Users::Table)\\r\\n                    .if_not_exists()\\r\\n                    .col(\\r\\n                        ColumnDef::new(Users::Id)\\r\\n                            .integer()\\r\\n                            .not_null()\\r\\n                            .auto_increment()\\r\\n                            .primary_key(),\\r\\n                    )\\r\\n                    .col(ColumnDef::new(Users::Pid).uuid().not_null())\\r\\n                    .col(ColumnDef::new(Users::Email).string().not_null().unique_key())\\r\\n                    // ...\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u73b0\u5728\uff0c\u4f7f\u7528\u65b0\u7684\u6a21\u5f0f\u5e2e\u52a9\u7a0b\u5e8f\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u7b80\u5316\u7684\u8bed\u6cd5\u5b9a\u4e49\u6a21\u5f0f\uff01\\r\\n\\r\\n```rust\\r\\n// \u8bb0\u5f97\u5bfc\u5165 `sea_orm_migration::schema::*`\\r\\nuse sea_orm_migration::{prelude::*, schema::*};\\r\\n\\r\\n#[derive(DeriveMigrationName)]\\r\\npub struct Migration;\\r\\n\\r\\n#[async_trait::async_trait]\\r\\nimpl MigrationTrait for Migration {\\r\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n        manager\\r\\n            .create_table(\\r\\n                Table::create()\\r\\n                    .table(Users::Table)\\r\\n                    .if_not_exists()\\r\\n                    .col(pk_auto(Users::Id)) // \u81ea\u589e\u957f\u4e3b\u952e\\r\\n                    .col(uuid(Users::Pid)) // UUID \u5217\\r\\n                    .col(string_uniq(Users::Email)) // \u552f\u4e00\u975e\u7a7a\u5b57\u7b26\u4e32\u5217\\r\\n                    .col(string(Users::Password)) // \u5b57\u7b26\u4e32\u5217\\r\\n                    .col(string(Users::ApiKey).unique_key())\\r\\n                    .col(string(Users::Name))\\r\\n                    .col(string_null(Users::ResetToken)) // \u53ef\u7a7a\u5b57\u7b26\u4e32\u5217\\r\\n                    .col(timestamp_null(Users::ResetSentAt)) // \u53ef\u7a7a\u65f6\u95f4\u6233\u5217\\r\\n                    .col(string_null(Users::EmailVerificationToken))\\r\\n                    .col(timestamp_null(Users::EmailVerificationSentAt))\\r\\n                    .col(timestamp_null(Users::EmailVerifiedAt))\\r\\n                    .to_owned(),\\r\\n            )\\r\\n            .await\\r\\n    }\\r\\n\\r\\n    // ...\\r\\n}\\r\\n```\\r\\n\\r\\n\u6bcf\u79cd\u5e38\u7528\u5217\u7c7b\u578b\u90fd\u6709\u4e09\u4e2a\u53d8\u4f53\uff1a\\r\\n\\r\\n- `<COLUMN_TYPE>()` \u8f85\u52a9\u51fd\u6570\uff0c\u4f8b\u5982 `string()`\uff0c\u5b9a\u4e49\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u4e32\u5217\\r\\n- `<COLUMN_TYPE>_null()` \u8f85\u52a9\u51fd\u6570\uff0c\u4f8b\u5982 `string_null()`\uff0c\u5b9a\u4e49\u4e00\u4e2a\u53ef\u7a7a\u5b57\u7b26\u4e32\u5217\\r\\n- `<COLUMN_TYPE>_uniq()` \u8f85\u52a9\u51fd\u6570\uff0c\u4f8b\u5982 `string_uniq()`\uff0c\u5b9a\u4e49\u4e00\u4e2a\u975e\u7a7a\u4e14\u552f\u4e00\u7684\u5b57\u7b26\u4e32\u5217\\r\\n\\r\\n\u65b0\u7684\u6a21\u5f0f\u5e2e\u52a9\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u5bfc\u5165 `sea_orm_migration::schema::*` \u6765\u4f7f\u7528\u3002\u8fc1\u79fb\u5e93\u5b8c\u5168\u5411\u540e\u517c\u5bb9\uff0c\u56e0\u6b64\u6ca1\u6709\u5fc5\u8981\u6025\u4e8e\u8fc1\u79fb\u65e7\u811a\u672c\u3002\u5efa\u8bae\u5728\u65b0\u811a\u672c\u4e2d\u4f7f\u7528\u65b0\u7684\u8bed\u6cd5\uff0cSeaORM \u4ed3\u5e93\u4e2d\u7684\u6240\u6709\u793a\u4f8b\u5df2\u66f4\u65b0\u4ee5\u8fdb\u884c\u6f14\u793a\u3002\u5bf9\u4e8e\u9ad8\u7ea7\u7528\u4f8b\uff0c\u65e7\u7684 SeaQuery \u8bed\u6cd5\u4ecd\u7136\u53ef\u4ee5\u4f7f\u7528\u3002\\r\\n\\r\\n### \u91cd\u65b0\u8bbe\u8ba1\u7684 SQLite \u7c7b\u578b\u6620\u5c04\\r\\n\\r\\n[sea-orm#2077](https://github.com/SeaQL/sea-orm/pull/2077) [sea-query#735](https://github.com/SeaQL/sea-query/pull/735) [sea-schema#117](https://github.com/SeaQL/sea-schema/pull/117) \u6211\u4eec\u91cd\u65b0\u8bbe\u8ba1\u4e86 SeaQL \u751f\u6001\u7cfb\u7edf\u4e2d SQLite \u7684\u7c7b\u578b\u6620\u5c04\uff0c\u4f7f\u5f97 SeaQuery \u548c SeaSchema \u73b0\u5728\u53ef\u4ee5\u76f8\u4e92\u517c\u5bb9\u3002\u7528 SeaQuery \u7f16\u5199\u7684\u8fc1\u79fb\u53ef\u4ee5\u88ab `sea-orm-cli` \u91cd\u65b0\u8bc6\u522b\u5e76\u751f\u6210\u517c\u5bb9\u7684\u5b9e\u4f53\uff01\u6362\u53e5\u8bdd\u8bf4\uff0c\u5f80\u8fd4\u5df2\u5b8c\u6210\u3002\\r\\n\\r\\n\u6570\u636e\u7c7b\u578b\u5c06\u6839\u636e SQLite \u7684\u4eb2\u548c\u6027\u89c4\u5219\u6620\u5c04\u5230 SQLite \u7c7b\u578b\uff1a\\r\\n\\r\\n* `INTEGER`: `integer`\u3001`tiny_integer`\u3001`small_integer`\u3001`big_integer` \u548c `boolean` \u5b58\u50a8\u4e3a `integer`\\r\\n* `REAL`: `float`\u3001`double`\u3001`decimal` \u548c `money` \u5b58\u50a8\u4e3a `real`\\r\\n* `BLOB`: `blob` \u548c `varbinary_blob` \u5b58\u50a8\u4e3a `blob`\\r\\n* `TEXT`: \u6240\u6709\u5176\u4ed6\u6570\u636e\u7c7b\u578b\u5b58\u50a8\u4e3a `text`\uff0c\u5305\u62ec `string`\u3001`char`\u3001`text`\u3001`json`\u3001`uuid`\u3001`date`\u3001`time`\u3001`datetime`\u3001`timestamp` \u7b49\u3002\\r\\n\\r\\n\u4e3a\u4e86\u8bf4\u660e\uff0c\\r\\n\\r\\n```rust\\r\\nassert_eq!(\\r\\n    Table::create()\\r\\n        .table(Alias::new(\\"strange\\"))\\r\\n        .col(ColumnDef::new(Alias::new(\\"id\\")).integer().not_null().auto_increment().primary_key())\\r\\n        .col(ColumnDef::new(Alias::new(\\"int1\\")).integer())\\r\\n        .col(ColumnDef::new(Alias::new(\\"int2\\")).tiny_integer())\\r\\n        .col(ColumnDef::new(Alias::new(\\"int3\\")).small_integer())\\r\\n        .col(ColumnDef::new(Alias::new(\\"int4\\")).big_integer())\\r\\n        .col(ColumnDef::new(Alias::new(\\"string1\\")).string())\\r\\n        .col(ColumnDef::new(Alias::new(\\"string2\\")).string_len(24))\\r\\n        .col(ColumnDef::new(Alias::new(\\"char1\\")).char())\\r\\n        .col(ColumnDef::new(Alias::new(\\"char2\\")).char_len(24))\\r\\n        .col(ColumnDef::new(Alias::new(\\"text_col\\")).text())\\r\\n        .col(ColumnDef::new(Alias::new(\\"json_col\\")).json())\\r\\n        .col(ColumnDef::new(Alias::new(\\"uuid_col\\")).uuid())\\r\\n        .col(ColumnDef::new(Alias::new(\\"decimal1\\")).decimal())\\r\\n        .col(ColumnDef::new(Alias::new(\\"decimal2\\")).decimal_len(12, 4))\\r\\n        .col(ColumnDef::new(Alias::new(\\"money1\\")).money())\\r\\n        .col(ColumnDef::new(Alias::new(\\"money2\\")).money_len(12, 4))\\r\\n        .col(ColumnDef::new(Alias::new(\\"float_col\\")).float())\\r\\n        .col(ColumnDef::new(Alias::new(\\"double_col\\")).double())\\r\\n        .col(ColumnDef::new(Alias::new(\\"date_col\\")).date())\\r\\n        .col(ColumnDef::new(Alias::new(\\"time_col\\")).time())\\r\\n        .col(ColumnDef::new(Alias::new(\\"datetime_col\\")).date_time())\\r\\n        .col(ColumnDef::new(Alias::new(\\"boolean_col\\")).boolean())\\r\\n        .col(ColumnDef::new(Alias::new(\\"binary2\\")).binary_len(1024))\\r\\n        .col(ColumnDef::new(Alias::new(\\"binary3\\")).var_binary(1024))\\r\\n        .to_string(SqliteQueryBuilder),\\r\\n    [\\r\\n        r#\\"CREATE TABLE \\"strange\\" (\\"#,\\r\\n            r#\\"\\"id\\" integer NOT NULL PRIMARY KEY AUTOINCREMENT,\\"#,\\r\\n            r#\\"\\"int1\\" integer,\\"#,\\r\\n            r#\\"\\"int2\\" tinyint,\\"#,\\r\\n            r#\\"\\"int3\\" smallint,\\"#,\\r\\n            r#\\"\\"int4\\" bigint,\\"#,\\r\\n            r#\\"\\"string1\\" varchar,\\"#,\\r\\n            r#\\"\\"string2\\" varchar(24),\\"#,\\r\\n            r#\\"\\"char1\\" char,\\"#,\\r\\n            r#\\"\\"char2\\" char(24),\\"#,\\r\\n            r#\\"\\"text_col\\" text,\\"#,\\r\\n            r#\\"\\"json_col\\" json_text,\\"#,\\r\\n            r#\\"\\"uuid_col\\" uuid_text,\\"#,\\r\\n            r#\\"\\"decimal1\\" real,\\"#,\\r\\n            r#\\"\\"decimal2\\" real(12, 4),\\"#,\\r\\n            r#\\"\\"money1\\" real_money,\\"#,\\r\\n            r#\\"\\"money2\\" real_money(12, 4),\\"#,\\r\\n            r#\\"\\"float_col\\" float,\\"#,\\r\\n            r#\\"\\"double_col\\" double,\\"#,\\r\\n            r#\\"\\"date_col\\" date_text,\\"#,\\r\\n            r#\\"\\"time_col\\" time_text,\\"#,\\r\\n            r#\\"\\"datetime_col\\" datetime_text,\\"#,\\r\\n            r#\\"\\"boolean_col\\" boolean,\\"#,\\r\\n            r#\\"\\"binary2\\" blob(1024),\\"#,\\r\\n            r#\\"\\"binary3\\" varbinary_blob(1024)\\"#,\\r\\n        r#\\")\\"#,\\r\\n    ]\\r\\n    .join(\\" \\")\\r\\n);\\r\\n```\\r\\n\\r\\n\u5b8c\u6574\u7684\u7c7b\u578b\u6620\u5c04\u8868\u5728[\u6b64\u5904\u8bb0\u5f55](https://docs.rs/sea-query/0.31.0-rc.4/sea_query/table/enum.ColumnType.html)\uff1a\\r\\n\\r\\n| ColumnType            | MySQL \u6570\u636e\u7c7b\u578b   | PostgreSQL \u6570\u636e\u7c7b\u578b        | SQLite \u6570\u636e\u7c7b\u578b             |\\r\\n|-----------------------|-------------------|-----------------------------|------------------------------|\\r\\n| Char                  | char              | char                        | char                         |\\r\\n| String                | varchar           | varchar                     | varchar                      |\\r\\n| Text                  | text              | text                        | text                         |\\r\\n| TinyInteger           | tinyint           | smallint                    | tinyint                      |\\r\\n| SmallInteger          | smallint          | smallint                    | smallint                     |\\r\\n| Integer               | int               | integer                     | integer                      |\\r\\n| BigInteger            | bigint            | bigint                      | integer                      |\\r\\n| TinyUnsigned          | tinyint unsigned  | smallint                    | tinyint                      |\\r\\n| SmallUnsigned         | smallint unsigned | smallint                    | smallint                     |\\r\\n| Unsigned              | int unsigned      | integer                     | integer                      |\\r\\n| BigUnsigned           | bigint unsigned   | bigint                      | integer                      |\\r\\n| Float                 | float             | real                        | float                        |\\r\\n| Double                | double            | double precision            | double                       |\\r\\n| Decimal               | decimal           | decimal                     | real                         |\\r\\n| DateTime              | datetime          | timestamp without time zone | datetime_text                |\\r\\n| Timestamp             | timestamp         | timestamp                   | timestamp_text               |\\r\\n| TimestampWithTimeZone | timestamp         | timestamp with time zone    | timestamp_with_timezone_text |\\r\\n| Time                  | time              | time                        | time_text                    |\\r\\n| Date                  | date              | date                        | date_text                    |\\r\\n| Year                  | year              | N/A                         | N/A                          |\\r\\n| Interval              | N/A               | interval                    | N/A                          |\\r\\n| Binary                | binary            | bytea                       | blob                         |\\r\\n| VarBinary             | varbinary         | bytea                       | varbinary_blob               |\\r\\n| Bit                   | bit               | bit                         | N/A                          |\\r\\n| VarBit                | bit               | varbit                      | N/A                          |\\r\\n| Boolean               | bool              | bool                        | boolean                      |\\r\\n| Money                 | decimal           | money                       | real_money                   |\\r\\n| Json                  | json              | json                        | json_text                    |\\r\\n| JsonBinary            | json              | jsonb                       | jsonb_text                   |\\r\\n| Uuid                  | binary(16)        | uuid                        | uuid_text                    |\\r\\n| Enum                  | ENUM(...)         | ENUM_NAME                   | enum_text                    |\\r\\n| Array                 | N/A               | DATA_TYPE[]                 | N/A                          |\\r\\n| Cidr                  | N/A               | cidr                        | N/A                          |\\r\\n| Inet                  | N/A               | inet                        | N/A                          |\\r\\n| MacAddr               | N/A               | macaddr                     | N/A                          |\\r\\n| LTree                 | N/A               | ltree                       | N/A                          |\\r\\n\\r\\n## \u589e\u5f3a\u529f\u80fd\\r\\n\\r\\n* [#2137](https://github.com/SeaQL/sea-orm/pull/2137) `DerivePartialModel` \u5b8f\u5c5e\u6027 `entity` \u73b0\u5728\u652f\u6301 `syn::Type`\\r\\n```rust\\r\\n#[derive(DerivePartialModel)]\\r\\n#[sea_orm(entity = \\"<entity::Model as ModelTrait>::Entity\\")]\\r\\nstruct EntityNameNotAIdent {\\r\\n    #[sea_orm(from_col = \\"foo2\\")]\\r\\n    _foo: i32,\\r\\n    #[sea_orm(from_col = \\"bar2\\")]\\r\\n    _bar: String,\\r\\n}\\r\\n```\\r\\n\\r\\n* [#2146](https://github.com/SeaQL/sea-orm/pull/2146) \u6dfb\u52a0\u4e86 `RelationDef::from_alias()`\\r\\n```rust\\r\\nassert_eq!(\\r\\n    cake::Entity::find()\\r\\n        .join_as(\\r\\n            JoinType::LeftJoin,\\r\\n            cake_filling::Relation::Cake.def().rev(),\\r\\n            cf.clone()\\r\\n        )\\r\\n        .join(\\r\\n            JoinType::LeftJoin,\\r\\n            cake_filling::Relation::Filling.def().from_alias(cf)\\r\\n        )\\r\\n        .build(DbBackend::MySql)\\r\\n        .to_string(),\\r\\n    [\\r\\n        \\"SELECT `cake`.`id`, `cake`.`name` FROM `cake`\\",\\r\\n        \\"LEFT JOIN `cake_filling` AS `cf` ON `cake`.`id` = `cf`.`cake_id`\\",\\r\\n        \\"LEFT JOIN `filling` ON `cf`.`filling_id` = `filling`.`id`\\",\\r\\n    ]\\r\\n    .join(\\" \\")\\r\\n);\\r\\n```\\r\\n\\r\\n* [#1665](https://github.com/SeaQL/sea-orm/pull/1665) [sea-orm-macro] \u5728 `DeriveActiveModel` \u5b8f\u4e2d\u9650\u5b9a\u7279\u6027\\r\\n* [#2064](https://github.com/SeaQL/sea-orm/pull/2064) [sea-orm-cli] \u4fee\u590d\u7a7a `mod.rs` \u6587\u4ef6\u4e0a\u7684 `migrate generate`\\r\\n\\r\\n## \u7834\u574f\u6027\u53d8\u66f4\\r\\n\\r\\n* [#2145](https://github.com/SeaQL/sea-orm/pull/2145) \u5c06 `ConnectOptions::pool_options()` \u91cd\u547d\u540d\u4e3a `ConnectOptions::sqlx_pool_options()`\\r\\n* [#2145](https://github.com/SeaQL/sea-orm/pull/2145) \u5c06 `sqlx_common` \u8bbe\u4e3a\u79c1\u6709\uff0c\u9690\u85cf `sqlx_error_to_xxx_err`\\r\\n* MySQL \u7684 `money` \u7c7b\u578b\u6620\u5c04\u4e3a `decimal`\\r\\n* MySQL \u7684 `blob` \u7c7b\u578b\u79fb\u81f3 `extension::mysql::MySqlType`\uff1b`ColumnDef::blob()` \u73b0\u5728\u4e0d\u63a5\u53d7\u53c2\u6570\\r\\n```rust\\r\\nassert_eq!(\\r\\n    Table::create()\\r\\n        .table(BinaryType::Table)\\r\\n        .col(ColumnDef::new(BinaryType::BinaryLen).binary_len(32))\\r\\n        .col(ColumnDef::new(BinaryType::Binary).binary())\\r\\n        .col(ColumnDef::new(BinaryType::Blob).custom(MySqlType::Blob))\\r\\n        .col(ColumnDef::new(BinaryType::TinyBlob).custom(MySqlType::TinyBlob))\\r\\n        .col(ColumnDef::new(BinaryType::MediumBlob).custom(MySqlType::MediumBlob))\\r\\n        .col(ColumnDef::new(BinaryType::LongBlob).custom(MySqlType::LongBlob))\\r\\n        .to_string(MysqlQueryBuilder),\\r\\n    [\\r\\n        \\"CREATE TABLE `binary_type` (\\",\\r\\n            \\"`binlen` binary(32),\\",\\r\\n            \\"`bin` binary(1),\\",\\r\\n            \\"`b` blob,\\",\\r\\n            \\"`tb` tinyblob,\\",\\r\\n            \\"`mb` mediumblob,\\",\\r\\n            \\"`lb` longblob\\",\\r\\n        \\")\\",\\r\\n    ]\\r\\n    .join(\\" \\")\\r\\n);\\r\\n```\\r\\n* `ColumnDef::binary()` \u8bbe\u7f6e\u5217\u7c7b\u578b\u4e3a `binary`\uff0c\u9ed8\u8ba4\u957f\u5ea6\u4e3a `1`\\r\\n* \u79fb\u9664\u4e86 `BlobSize` \u679a\u4e3e\\r\\n* \u6dfb\u52a0\u4e86 `StringLen` \u8868\u793a `varchar` / `varbinary` \u7684\u957f\u5ea6\\r\\n```rust\\r\\n/// var-char/binary \u7684\u957f\u5ea6\uff1b\u9ed8\u8ba4\u4e3a 255\\r\\npub enum StringLen {\\r\\n    /// \u5b57\u7b26\u4e32\u5927\u5c0f\\r\\n    N(u32),\\r\\n    Max,\\r\\n    #[default]\\r\\n    None,\\r\\n}\\r\\n```\\r\\n* `ValueType::columntype()` \u7684 `Vec<u8>` \u6620\u5c04\u4e3a `VarBinary(StringLen::None)`\\r\\n* `ValueType::columntype()` \u7684 `String` \u6620\u5c04\u4e3a `String(StringLen::None)`\\r\\n* `ColumnType::Bit` \u6620\u5c04\u4e3a Postgres \u7684 `bit`\\r\\n* `ColumnType::Binary` \u548c `ColumnType::VarBinary` \u6620\u5c04\u4e3a Postgres \u7684 `bytea`\\r\\n* `Value::Decimal` \u548c `Value::BigDecimal` \u6620\u5c04\u4e3a SQLite \u7684 `real`\\r\\n* `ColumnType::Year(Option<MySqlYear>)` \u53d8\u66f4\u4e3a `ColumnType::Year`\\r\\n\\r\\n## \u5347\u7ea7\\r\\n\\r\\n* \u5347\u7ea7 `sea-query` \u81f3 `0.31.0-rc.3`\\r\\n* \u5347\u7ea7 `sea-schema` \u81f3 `0.15.0-rc.4`\\r\\n* \u5347\u7ea7 `sea-query-binder` \u81f3 `0.6.0-rc.1`\\r\\n* [#2088](https://github.com/SeaQL/sea-orm/pull/2088) \u5347\u7ea7 `strum` \u81f3 `0.26`\\r\\n\\r\\n## \u65e5\u5e38\u7ef4\u62a4\\r\\n\\r\\n* [#2140](https://github.com/SeaQL/sea-orm/pull/2140) \u6539\u8fdb Actix \u793a\u4f8b\uff0c\u5728\u610f\u5916\u8f93\u5165\u65f6\u8fd4\u56de 404 \u672a\u627e\u5230\\r\\n* [#2154](https://github.com/SeaQL/sea-orm/pull/2154) \u5f03\u7528 Actix v3 \u793a\u4f8b\\r\\n* [#2136](https://github.com/SeaQL/sea-orm/pull/2136) \u91cd\u65b0\u542f\u7528 `rocket_okapi` \u793a\u4f8b\\r\\n\\r\\n## \u53d1\u5e03\u89c4\u5212\\r\\n\\r\\n\u5728 SeaORM \u7684[\u4e0a\u4e00\u4e2a\u7248\u672c](https://www.sea-ql.org/blog/2024-01-23-whats-new-in-seaorm-0.12.x/#release-planning)\u4e2d\uff0c\u6211\u4eec\u8868\u793a\u5e0c\u671b\u4e0b\u4e00\u4e2a\u53d1\u5e03\u662f `1.0`\u3002\u6211\u4eec\u73b0\u5728\u786e\u5b9e\u975e\u5e38\u63a5\u8fd1 `1.0`\uff01\\r\\n\\r\\n\u867d\u7136 `0.12` \u5728 `1.0` \u786e\u5b9a\u4e4b\u524d\u4ecd\u5c06\u5f97\u5230\u7ef4\u62a4\uff0c\u4f46\u6b22\u8fce\u60a8\u4eca\u5929\u5c1d\u8bd5 `1.0-rc.x`\uff01\u4ecd\u7136\u4f1a\u6709\u4e00\u4e9b\u5c0f\u4f46\u5728\u6280\u672f\u4e0a\u662f\u7834\u574f\u6027\u7684\u53d8\u66f4\uff1a\\r\\n\\r\\n1. [#2185](https://github.com/SeaQL/sea-orm/pull/2185) \u5411 `PrimaryKeyTrait` \u6dfb\u52a0 Trait \u5e38\u91cf `ARITY`\uff0c\u5141\u8bb8\u7528\u6237\u7f16\u5199\u66f4\u597d\u7684\u6cdb\u578b\u4ee3\u7801\\r\\n2. [#2186](https://github.com/SeaQL/sea-orm/pull/2186) \u5c06 `ActiveModel` \u5173\u8054\u5230 `EntityTrait`\uff0c\u5141\u8bb8\u7528\u6237\u6269\u5c55\u5b9e\u4f53\u7684\u884c\u4e3a\\r\\n\\r\\n\u73b0\u5728\u4e5f\u662f\u60a8\u63d0\u51fa\u5bf9 SeaORM \u6709\u957f\u671f\u5f71\u54cd\u7684\u7834\u574f\u6027\u53d8\u66f4\u7684\u5b8c\u7f8e\u65f6\u673a\u3002\u5728\u7a33\u5b9a\u4e4b\u540e\uff0c\u6211\u4eec\u5e0c\u671b SeaORM \u80fd\u591f\u63d0\u4f9b\u4e00\u4e2a\u7a33\u5b9a\u7684 API \u63a5\u53e3\uff0c\u4ee5\u4fbf\u5f00\u53d1\u4eba\u5458\u5728\u672a\u6765\u51e0\u5e74\u4e2d\u5728\u751f\u4ea7\u4e2d\u4f7f\u7528\u3002\\r\\n\\r\\n\u6211\u4eec\u6bcf\u5e74\u4e0d\u4f1a\u6709\u8d85\u8fc7 2 \u6b21\u4e3b\u8981\u7248\u672c\u53d1\u5e03\uff0c\u6bcf\u4e2a\u4e3b\u8981\u7248\u672c\u5c06\u81f3\u5c11\u7ef4\u62a4\u4e00\u5e74\u3002\u867d\u7136\u76ee\u524d\u8fd8\u4e0d\u786e\u5b9a\uff0c\u4f46\u8fd9\u662f\u6211\u4eec\u73b0\u5728\u6240\u8003\u8651\u7684\u3002\u6b64\u5916\uff0c\u8fd9\u5b9e\u9645\u4e0a\u5c06\u4f7f\u6211\u4eec\u80fd\u591f\u66f4\u9891\u7e41\u5730\u53d1\u5e03\u65b0\u529f\u80fd\uff01\\r\\n\\r\\n## SQL Server \u652f\u6301\\r\\n\\r\\n\u6211\u4eec\u4e00\u76f4\u5728\u8ba1\u5212[SeaORM \u7684 SQL Server](https://www.sea-ql.org/SeaORM-X/)\u652f\u6301\uff0c\u4f46\u5728 2023 \u5e74\u6401\u7f6e\u4e86\u8fd9\u9879\u5de5\u4f5c\uff08\u6211\u611f\u5230\u975e\u5e38\u9057\u61be\uff09\u3002\u4e0d\u8fc7\uff0cSQL Server \u652f\u6301\u5f88\u5feb\u5c31\u4f1a\u5230\u6765\uff01\u5b83\u5c06\u9996\u5148\u4f5c\u4e3a\u5c01\u95ed\u7684 Beta \u53d1\u5e03\u7ed9\u6211\u4eec\u7684\u5408\u4f5c\u4f19\u4f34\u3002\u5982\u679c\u60a8\u611f\u5174\u8da3\uff0c\u8bf7\u52a0\u5165\u6211\u4eec\u7684[\u7b49\u5019\u540d\u5355](https://forms.office.com/r/1MuRPJmYBR)\u3002\\r\\n\\r\\n## \u8d5e\u52a9\\r\\n\\r\\n\u5982\u679c\u60a8\u89c9\u5f97\u6177\u6168\uff0c\u5c0f\u989d\u6350\u6b3e\u5c06\u975e\u5e38\u611f\u6fc0\uff0c\u5e76\u5bf9\u6301\u7eed\u7ec4\u7ec7\u7684\u53d1\u5c55\u6709\u5f88\u5927\u5e2e\u52a9\u3002\\r\\n\\r\\n\u7279\u522b\u611f\u8c22\u6211\u4eec\u7684[\u8d5e\u52a9\u5546](https://github.com/sponsors/SeaQL) \ud83d\ude07\uff1a\\r\\n\\r\\n#### \u9ec4\u91d1\u8d5e\u52a9\u5546\\r\\n\\r\\n<a href=\\"https://osmos.io/\\">\\r\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos.svg#light\\" width=\\"238\\" />\\r\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos-dark.svg#dark\\" width=\\"238\\" />\\r\\n</a>\\r\\n\\r\\n#### GitHub \u8d5e\u52a9\u5546\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Afonso Barracha\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Dean Sheather\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marcusbuffett\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marcus Buffett\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/reneklacan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1935686?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Ren\xe9 Kla\u010dan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Iceapinan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2698243?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Apinan I.\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ktanaka101\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/10344925?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Kentaro Tanaka\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Natsuki Ikeguchi\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mmuellersoppart\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/16762461?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marlon Mueller-Soppart\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/gitmalong\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/18363591?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    ul\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/25814001?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    MasakiMiyazaki\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Manfred Lee\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    KallyDev\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/dsgallups\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/44790295?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Daniel Gallups\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/caido\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/78991750?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Caido\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Coolpany-SE\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/96304487?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Coolpany SE\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## Rustacean \u8d34\u7eb8\u5305 \ud83e\udd80\\r\\n\\r\\nRustacean \u8d34\u7eb8\u5305\u662f\u8868\u8fbe\u60a8\u5bf9 Rust \u70ed\u60c5\u7684\u5b8c\u7f8e\u65b9\u5f0f\u3002\\r\\n\u6211\u4eec\u7684\u8d34\u7eb8\u91c7\u7528\u4f18\u8d28\u6c34\u6297\u6027\u4e59\u70ef\u57fa\u6750\u6599\u5236\u6210\uff0c\u5177\u6709\u72ec\u7279\u7684\u54d1\u5149\u6548\u679c\u3002\\r\\n\u5c06\u5b83\u4eec\u8d34\u5728\u60a8\u7684\u7b14\u8bb0\u672c\u7535\u8111\u3001\u7b14\u8bb0\u672c\u6216\u4efb\u4f55\u8bbe\u5907\u4e0a\uff0c\u4ee5\u5c55\u793a\u60a8\u5bf9 Rust \u7684\u70ed\u7231\uff01\\r\\n\\r\\n\u6b64\u5916\uff0c\u6240\u6709\u6536\u5165\u90fd\u76f4\u63a5\u7528\u4e8e\u652f\u6301 SeaQL \u9879\u76ee\u7684\u6301\u7eed\u5f00\u53d1\u3002\\r\\n\\r\\n\u8d34\u7eb8\u5305\u5185\u5bb9\uff1a\\r\\n- SeaQL \u9879\u76ee\u7684\u6807\u5fd7\uff1aSeaQL\u3001SeaORM\u3001SeaQuery\u3001Seaography\u3001FireDBG\\r\\n- SeaQL \u7684\u5409\u7965\u7269\uff1aTerres the Hermit Crab\\r\\n- Rust \u7684\u5409\u7965\u7269\uff1aFerris the Crab\\r\\n- Rustacean \u6587\u5b57\\r\\n\\r\\n[\u652f\u6301 SeaQL \u5e76\u83b7\u5f97\u8d34\u7eb8\u5305\uff01](https://www.sea-ql.org/sticker-pack/)\\r\\n\\r\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2024-01-23-whats-new-in-seaorm-0.12.x","metadata":{"permalink":"/blog/2024-01-23-whats-new-in-seaorm-0.12.x","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-01-23-whats-new-in-seaorm-0.12.x.md","source":"@site/blog/2024-01-23-whats-new-in-seaorm-0.12.x.md","title":"SeaORM 0.12.x \u7684\u65b0\u529f\u80fd","description":"\u81ea\u7b2c\u4e00\u6b21\u53d1\u5e03 SeaORM 0.12 \u4ee5\u6765\u5df2\u7ecf\u8fc7\u53bb\u4e86\u4e00\u6bb5\u65f6\u95f4\u3002\u8fd9\u7bc7\u535a\u5ba2\u603b\u7ed3\u4e86 SeaORM 0.12.2 \u5230 0.12.12 \u7248\u672c\u5f15\u5165\u7684\u65b0\u7279\u6027\u548c\u589e\u5f3a\u529f\u80fd\uff01","date":"2024-01-23T00:00:00.000Z","formattedDate":"January 23, 2024","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":8.275,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png"}],"frontMatter":{"slug":"2024-01-23-whats-new-in-seaorm-0.12.x","title":"SeaORM 0.12.x \u7684\u65b0\u529f\u80fd","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%2012%20Banner.png","tags":["news"]},"prevItem":{"title":"SeaORM 1.0-rc.x \u4e2d\u7684\u65b0\u7279\u6027","permalink":"/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x"},"nextItem":{"title":"SeaQL \u793e\u533a\u8c03\u67e5 2023 \u7ed3\u679c","permalink":"/blog/2024-01-18-community-survey-2023"}},"content":"<img alt=\\"SeaORM 0.12 Banner\\" src=\\"/blog/img/SeaORM%2012%20Banner.png\\"/>\\r\\n\\r\\n\u81ea\u7b2c\u4e00\u6b21\u53d1\u5e03 [SeaORM 0.12](https://www.sea-ql.org/blog/2023-08-12-announcing-seaorm-0.12/) \u4ee5\u6765\u5df2\u7ecf\u8fc7\u53bb\u4e86\u4e00\u6bb5\u65f6\u95f4\u3002\u8fd9\u7bc7\u535a\u5ba2\u603b\u7ed3\u4e86 SeaORM [`0.12.2`](https://github.com/SeaQL/sea-orm/releases/tag/0.12.2) \u5230 [`0.12.12`](https://github.com/SeaQL/sea-orm/releases/tag/0.12.12) \u7248\u672c\u5f15\u5165\u7684\u65b0\u7279\u6027\u548c\u589e\u5f3a\u529f\u80fd\uff01\\r\\n\\r\\n## \u5728 crates.io \u4e0a\u5e86\u795d 200 \u4e07\u6b21\u4e0b\u8f7d \ud83d\udce6\\r\\n\\r\\n\u6211\u4eec\u521a\u521a\u8fbe\u6210\u4e86\u5728 [crates.io](https://crates.io/crates/sea-orm) \u4e0a\u7d2f\u8ba1 2,000,000 \u6b21\u4e0b\u8f7d\u7684\u91cc\u7a0b\u7891\u3002\u8fd9\u8bc1\u660e\u4e86 SeaORM \u5728\u4e13\u4e1a\u4f7f\u7528\u4e2d\u7684\u5e7f\u6cdb\u91c7\u7528\u3002\u611f\u8c22\u6240\u6709\u7528\u6237\u7684\u4fe1\u4efb\uff0c\u5e76\u6210\u4e3a\u6211\u4eec\u793e\u533a\u7684\u4e00\u90e8\u5206\u3002\\r\\n\\r\\n## \u65b0\u7279\u6027\\r\\n\\r\\n### \u5b9e\u4f53\u683c\u5f0f\u66f4\u65b0\\r\\n\\r\\n* [#1898](https://github.com/SeaQL/sea-orm/pull/1898) \u589e\u52a0\u5bf9\u6839 JSON \u6570\u7ec4\u7684\u652f\u6301\uff08\u9700\u8981 `json-array` / `postgres-array` \u7279\u6027\uff09\uff01\u8fd9\u6d89\u53ca\u590d\u6742\u7684\u7c7b\u578b\u7cfb\u7edf\u91cd\u6784\uff0c\u4ee5\u89e3\u51b3\u5b64\u7acb\u89c4\u5219\u7684\u95ee\u9898\u3002\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"json_struct_vec\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    #[sea_orm(column_type = \\"Json\\")]\\r\\n    pub struct_vec: Vec<JsonColumn>,\\r\\n}\\r\\n\\r\\n#[derive(Clone, Debug, PartialEq, Eq, Serialize, Deserialize, FromJsonQueryResult)]\\r\\npub struct JsonColumn {\\r\\n    pub value: String,\\r\\n}\\r\\n```\\r\\n\\r\\n* [#2009](https://github.com/SeaQL/sea-orm/pull/2009) \u4e3a\u5b9e\u4f53\u589e\u52a0 `comment` \u5c5e\u6027\uff1b`create_table_from_entity` \u73b0\u5728\u652f\u6301 MySQL \u4e0a\u7684\u6ce8\u91ca\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"applog\\", comment = \\"app logs\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key, comment = \\"ID\\")]\\r\\n    pub id: i32,\\r\\n    #[sea_orm(comment = \\"action\\")]\\r\\n    pub action: String,\\r\\n    pub json: Json,\\r\\n    pub created_at: DateTimeWithTimeZone,\\r\\n}\\r\\n```\\r\\n\\r\\n### \u6e38\u6807\u5206\u9875\u5668\u6539\u8fdb\\r\\n\\r\\n* [#2037](https://github.com/SeaQL/sea-orm/pull/2037) \u4e3a\u6e38\u6807\u589e\u52a0\u964d\u5e8f\u6392\u5217\uff1a\\r\\n\\r\\n```rust\\r\\n// \uff08\u9ed8\u8ba4\u884c\u4e3a\uff09\u5728 5 \u4e4b\u524d ASC\uff0c\u5373 id < 5\\r\\n\\r\\nlet mut cursor = Entity::find().cursor_by(Column::Id);\\r\\ncursor.before(5);\\r\\n\\r\\nassert_eq!(\\r\\n    cursor.first(4).all(db).await?,\\r\\n    [\\r\\n        Model { id: 1 },\\r\\n        Model { id: 2 },\\r\\n        Model { id: 3 },\\r\\n        Model { id: 4 },\\r\\n    ]\\r\\n);\\r\\n\\r\\n// \uff08\u65b0 API\uff09\u5728 5 \u4e4b\u540e DESC\uff0c\u5373 id < 5\\r\\n\\r\\nlet mut cursor = Entity::find().cursor_by(Column::Id);\\r\\ncursor.after(5).desc();\\r\\n\\r\\nassert_eq!(\\r\\n    cursor.first(4).all(db).await?,\\r\\n    [\\r\\n        Model { id: 4 },\\r\\n        Model { id: 3 },\\r\\n        Model { id: 2 },\\r\\n        Model { id: 1 },\\r\\n    ]\\r\\n);\\r\\n```\\r\\n\\r\\n* [#1826](https://github.com/SeaQL/sea-orm/pull/1826) \u4e3a `SelectTwo` \u6dfb\u52a0\u6e38\u6807\u652f\u6301\uff1a\\r\\n\\r\\n```rust\\r\\n// \u4e0e\u5173\u8054\u5173\u7cfb\u8fde\u63a5\uff1b\u6309\u7b2c\u4e00\u4e2a\u8868\u7684 id \u6e38\u6807\\r\\n\\r\\ncake::Entity::find()\\r\\n    .find_also_linked(entity_linked::CakeToFillingVendor)\\r\\n    .cursor_by(cake::Column::Id)\\r\\n    .before(10)\\r\\n    .first(2)\\r\\n    .all(&db)\\r\\n    .await?\\r\\n\\r\\n// \u4e0e\u5173\u7cfb\u8fde\u63a5\uff1b\u6309\u7b2c\u4e8c\u4e2a\u8868\u7684 id \u6e38\u6807\\r\\n\\r\\ncake::Entity::find()\\r\\n    .find_also_related(Fruit)\\r\\n    .cursor_by_other(fruit::Column::Id)\\r\\n    .before(10)\\r\\n    .first(2)\\r\\n    .all(&db)\\r\\n    .await?\\r\\n```\\r\\n\\r\\n### \u4e3a\u6570\u636e\u5e93\u540e\u7aef\u6dfb\u52a0\u201c\u4ee3\u7406\u201d\\r\\n\\r\\n[#1881](https://github.com/SeaQL/sea-orm/pull/1881), [#2000](https://github.com/SeaQL/sea-orm/pull/2000) \u4e3a\u6570\u636e\u5e93\u540e\u7aef\u6dfb\u52a0\u201c\u4ee3\u7406\u201d\uff08\u9700\u8981\u7279\u6027\u6807\u5fd7 `proxy`\uff09\u3002\\r\\n\\r\\n\u8fd9\u4f7f\u5f97\u5728\u8fb9\u7f18/\u5ba2\u6237\u7aef\u4f7f\u7528 SeaORM \u6210\u4e3a\u53ef\u80fd\uff01\u8bf7\u53c2\u89c1 [GlueSQL \u6f14\u793a](https://github.com/SeaQL/sea-orm/tree/master/examples/proxy_gluesql_example) \u83b7\u53d6\u793a\u4f8b\u3002\\r\\n\\r\\n## \u589e\u5f3a\u529f\u80fd\\r\\n\\r\\n* [#1954](https://github.com/SeaQL/sea-orm/pull/1954) [sea-orm-macro] \u4e3a `FromQueryResult` \u884d\u751f\u5b8f\u6dfb\u52a0 `#[sea_orm(skip)]`\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, Eq, Deserialize, Serialize, FromQueryResult)]\\r\\npub struct PublicUser {\\r\\n    pub id: i64,\\r\\n    pub name: String,\\r\\n    #[serde(skip_serializing_if = \\"Vec::is_empty\\")]\\r\\n    #[sea_orm(skip)]\\r\\n    pub something: Something,\\r\\n}\\r\\n```\\r\\n\\r\\n* [#1598](https://github.com/SeaQL/sea-orm/pull/1598) [sea-orm-macro] \u5728 `JsonValue` \u7684 `FromQueryResult` \u5b9e\u73b0\u4e2d\u6dfb\u52a0\u5bf9 Postgres \u6570\u7ec4\u7684\u652f\u6301\\r\\n```rust\\r\\n// \u73b0\u6709 API\uff1a\\r\\n\\r\\nassert_eq!(\\r\\n    Entity::find_by_id(1).one(db).await?,\\r\\n    Some(Model {\\r\\n        id: 1,\\r\\n        name: \\"Collection 1\\".into(),\\r\\n        integers: vec![1, 2, 3],\\r\\n        teas: vec![Tea::BreakfastTea],\\r\\n        colors: vec![Color::Black],\\r\\n    })\\r\\n);\\r\\n\\r\\n// \u65b0 API\uff1a\\r\\n\\r\\nassert_eq!(\\r\\n    Entity::find_by_id(1).into_json().one(db).await?,\\r\\n    Some(json!({\\r\\n        \\"id\\": 1,\\r\\n        \\"name\\": \\"Collection 1\\",\\r\\n        \\"integers\\": [1, 2, 3],\\r\\n        \\"teas\\": [\\"BreakfastTea\\"],\\r\\n        \\"colors\\": [0],\\r\\n    }))\\r\\n);\\r\\n```\\r\\n\\r\\n* [#1828](https://github.com/SeaQL/sea-orm/pull/1828) [sea-orm-migration] \u68c0\u67e5\u7d22\u5f15\u662f\u5426\u5b58\u5728\\r\\n```rust\\r\\nuse sea_orm_migration::prelude::*;\\r\\n#[derive(DeriveMigrationName)]\\r\\npub struct Migration;\\r\\n#[async_trait::async_trait]\\r\\nimpl MigrationTrait for Migration {\\r\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n        // ...\\r\\n\\r\\n        // \u786e\u4fdd\u7d22\u5f15\u672a\u88ab\u521b\u5efa\\r\\n        assert!(!manager.has_index(\\"cake\\", \\"cake_name_index\\").await?);\\r\\n\\r\\n        manager\\r\\n            .create_index(\\r\\n                Index::create()\\r\\n                    .name(\\"cake_name_index\\")\\r\\n                    .table(Cake::Table)\\r\\n                    .col(Cake::Name)\\r\\n                    .to_owned(),\\r\\n            )\\r\\n            .await?;\\r\\n\\r\\n        Ok(())\\r\\n    }\\r\\n\\r\\n    async fn down(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n        // ...\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n* [#2030](https://github.com/SeaQL/sea-orm/pull/2030) \u6539\u5584 `Paginator` \u7684 `COUNT` \u67e5\u8be2\u6027\u80fd\\r\\n* [#2055](https://github.com/SeaQL/sea-orm/pull/2055) \u4e3a `ConnectOptions` \u6dfb\u52a0 SQLx \u6162\u8bed\u53e5\u65e5\u5fd7\u8bb0\u5f55\\r\\n* [#1867](https://github.com/SeaQL/sea-orm/pull/1867) \u6dfb\u52a0 `QuerySelect::lock_with_behavior`\\r\\n* [#2002](https://github.com/SeaQL/sea-orm/pull/2002) \u5728 `is_in` \u548c `is_not_in` \u4e2d\u8f6c\u6362\u679a\u4e3e\\r\\n* [#1999](https://github.com/SeaQL/sea-orm/pull/1999) \u4e3a\u9519\u8bef\u6dfb\u52a0\u6e90\u6ce8\u91ca\\r\\n* [#1960](https://github.com/SeaQL/sea-orm/issues/1960) \u4e3a `sea_query::WithQuery` \u5b9e\u73b0 `StatementBuilder`\\r\\n* [#1979](https://github.com/SeaQL/sea-orm/pull/1979) \u6dfb\u52a0\u63a5\u53d7 `self` \u7684\u65b9\u6cd5 `expr_as_`\\r\\n* [#1868](https://github.com/SeaQL/sea-orm/pull/1868) Loader\uff1a\u4f7f\u7528 `ValueTuple` \u4f5c\u4e3a\u54c8\u5e0c\u952e\\r\\n* [#1934](https://github.com/SeaQL/sea-orm/pull/1934) [sea-orm-cli] \u6dfb\u52a0 `--enum-extra-derives`\\r\\n* [#1952](https://github.com/SeaQL/sea-orm/pull/1952) [sea-orm-cli] \u6dfb\u52a0 `--enum-extra-attributes`\\r\\n* [#1693](https://github.com/SeaQL/sea-orm/pull/1693) [sea-orm-cli] \u652f\u6301\u751f\u6210\u590d\u5408\u5916\u952e\u7684\u76f8\u5173\u5b9e\u4f53\\r\\n\\r\\n## Bug \u4fee\u590d\\r\\n\\r\\n* [#1855](https://github.com/SeaQL/sea-orm/pull/1855), [#2054](https://github.com/SeaQL/sea-orm/pull/2054) [sea-orm-macro] \u5728 `DeriveValueType` \u5b8f\u4e2d\u9650\u5b9a\u7c7b\u578b\\r\\n* [#1953](https://github.com/SeaQL/sea-orm/pull/1953) [sea-orm-cli] \u4fee\u590d\u751f\u6210\u5b9e\u4f53\u65f6\u91cd\u590d\u7684\u6d3b\u52a8\u679a\u4e3e\u4f7f\u7528\u8bed\u53e5\\r\\n* [#1821](https://github.com/SeaQL/sea-orm/pull/1821) [sea-orm-cli] \u4fee\u590d\u975e\u5b57\u6bcd\u6570\u5b57\u679a\u4e3e\u53d8\u4f53\u7684\u5b9e\u4f53\u751f\u6210\\r\\n* [#2071](https://github.com/SeaQL/sea-orm/pull/2071) [sea-orm-cli] \u4fee\u590d\u590d\u5408\u952e\u5173\u7cfb\u7684\u5b9e\u4f53\u751f\u6210\\r\\n* [#1800](https://github.com/SeaQL/sea-orm/issues/1800) \u4fee\u590d `find_with_related` \u5408\u5e76\u903b\u8f91\\r\\n* [5a6acd67](https://github.com/SeaQL/sea-orm/commit/5a6acd67312601e4dba32896600044950e20f99f) \u4fee\u590d `Loader` \u5728\u7a7a\u8f93\u5165\u4e0a\u7684\u6050\u614c\\r\\n\\r\\n## \u5347\u7ea7\\r\\n\\r\\n* [#1984](https://github.com/SeaQL/sea-orm/pull/1984) \u5347\u7ea7 `axum` \u793a\u4f8b\u81f3 `0.7`\\r\\n* [#1858](https://github.com/SeaQL/sea-orm/pull/1858) \u5347\u7ea7 `chrono` \u81f3 `0.4.30`\\r\\n* [#1959](https://github.com/SeaQL/sea-orm/pull/1959) \u5347\u7ea7 `rocket` \u81f3 `0.5.0`\\r\\n* \u5347\u7ea7 `sea-query` \u81f3 `0.30.5`\\r\\n* \u5347\u7ea7 `sea-schema` \u81f3 `0.14.2`\\r\\n* \u5347\u7ea7 `salvo` \u81f3 `0.50`\\r\\n\\r\\n## \u65e5\u5e38\u7ef4\u62a4\\r\\n\\r\\n* [#2057](https://github.com/SeaQL/sea-orm/pull/2057) \u4fee\u590d\u5728 1.75 \u4e0a\u7684 clippy \u8b66\u544a\\r\\n* [#1811](https://github.com/SeaQL/sea-orm/pull/1811) \u4e3a `find_xxx_related/linked` \u6dfb\u52a0\u6d4b\u8bd5\u7528\u4f8b\\r\\n\\r\\n## \u53d1\u5e03\u8ba1\u5212\\r\\n\\r\\n\u5728 [SeaORM 0.12 \u7684\u516c\u544a\u535a\u5ba2](https://www.sea-ql.org/blog/2023-08-12-announcing-seaorm-0.12/) \u4e2d\uff0c\u6211\u4eec\u8868\u793a\u5e0c\u671b\u51cf\u5c11\u91cd\u5927\u7248\u672c\u7684\u53d1\u5e03\u9891\u7387\uff0c\u540c\u65f6\u4fdd\u6301\u529f\u80fd\u66f4\u65b0\u548c\u589e\u5f3a\u7684\u6b65\u4f10\u3002\u6211\u5f88\u9ad8\u5174\u5730\u8bf4\u6211\u4eec\u5df2\u7ecf\u505a\u5230\u8fd9\u4e00\u70b9\uff01\\r\\n\\r\\n\u4e0b\u4e00\u4e2a\u4e3b\u8981\u7248\u672c\u4ecd\u6709\u4e00\u4e9b\u8ba1\u5212\u4e2d\u7684\u7834\u574f\u6027\u66f4\u6539\u3002\u5728\u7ecf\u8fc7\u4e00\u4e9b [\u8ba8\u8bba](https://github.com/SeaQL/sea-orm/discussions/2031) \u548c\u8003\u8651\u540e\uff0c\u6211\u4eec\u51b3\u5b9a\u4e0b\u4e00\u4e2a\u4e3b\u8981\u7248\u672c\u5c06\u662f 1.0 \u7684\u5019\u9009\u7248\u672c\uff01\\r\\n\\r\\n## \u8d5e\u52a9\\r\\n\\r\\n\u5982\u679c\u60a8\u611f\u5230\u6177\u6168\uff0c\u5c0f\u989d\u6350\u6b3e\u5c06\u4e0d\u80dc\u611f\u6fc0\uff0c\u5e76\u5927\u5927\u6709\u52a9\u4e8e\u7ef4\u6301\u8be5\u7ec4\u7ec7\u7684\u8fd0\u8425\u3002\\r\\n\\r\\n\u7279\u522b\u611f\u8c22\u6211\u4eec\u7684 [\u8d5e\u52a9\u5546](https://github.com/sponsors/SeaQL) \ud83d\ude07\uff1a\\r\\n\\r\\n#### \u9ec4\u91d1\u8d5e\u52a9\u5546\\r\\n\\r\\n<a href=\\"https://osmos.io/\\">\\r\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos.svg#light\\" width=\\"238\\" />\\r\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos-dark.svg#dark\\" width=\\"238\\" />\\r\\n</a>\\r\\n\\r\\n#### GitHub \u8d5e\u52a9\u5546\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?u=2f43900772265deac96eb7a816d28a5a48b9a8dd&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?u=1171ed4ccb6da73b52de274109077686290da3a5&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Afonso Barracha\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?u=474c7b31ddf0a5c1a03d1142dd18a300279c644a&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Dean Sheather\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marcusbuffett\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marcus Buffett\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/reneklacan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1935686?u=132be985351312fcf96999daef515f551a93bb0d&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Ren\xe9 Kla\u010dan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Iceapinan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2698243?u=a852c75ac10098b9980f57af298be1399f6de66b&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    IceApinan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/trueb2\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/8592049?u=031c9ee96b47c27e3a8c485c3c0ebcd4f96120c9&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Jacob Trueb\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ktanaka101\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/10344925?u=a96d92e7cdd73f774b35fd0bc998964c07b24e29&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Kentaro Tanaka\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?u=1a51e0a06690e52982e7594bc7379481e65155a1&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Natsuki Ikeguchi\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mmuellersoppart\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/16762461?u=bef7454cb73c164b2d18e077e5ba6b7891aae3d2&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marlon Mueller-Soppart\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/gitmalong\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/18363591?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    ul\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Manfred Lee\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    KallyDev\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/dsgallups\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/44790295?u=d1c8d2a60930dfbe95497df7fecf52cf5d95dd5f&v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Daniel Gallups\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Coolpany-SE\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/96304487?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Coolpany-SE\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## Rustacean \u8d34\u7eb8\u5305 \ud83e\udd80\\r\\n\\r\\nRustacean \u8d34\u7eb8\u5305\u662f\u8868\u8fbe\u60a8\u5bf9 Rust \u70ed\u60c5\u7684\u5b8c\u7f8e\u65b9\u5f0f\u3002\\r\\n\u6211\u4eec\u7684\u8d34\u7eb8\u91c7\u7528\u4f18\u8d28\u7684\u9632\u6c34\u4e59\u70ef\u57fa\u6750\u6599\u5236\u6210\uff0c\u8868\u9762\u6709\u72ec\u7279\u7684\u4e9a\u5149\u5904\u7406\u3002\\r\\n\u5c06\u5b83\u4eec\u8d34\u5728\u60a8\u7684\u7b14\u8bb0\u672c\u7535\u8111\u3001\u7b14\u8bb0\u672c\u6216\u4efb\u4f55\u8bbe\u5907\u4e0a\uff0c\u5c55\u793a\u60a8\u5bf9 Rust \u7684\u70ed\u7231\uff01\\r\\n\\r\\n\u6b64\u5916\uff0c\u6240\u6709\u6536\u76ca\u5c06\u76f4\u63a5\u7528\u4e8e SeaQL \u9879\u76ee\u7684\u6301\u7eed\u5f00\u53d1\u3002\\r\\n\\r\\n\u8d34\u7eb8\u5305\u5185\u5bb9\uff1a\\r\\n- SeaQL \u9879\u76ee\u7684\u6807\u5fd7\uff1aSeaQL\u3001SeaORM\u3001SeaQuery\u3001Seaography\u3001FireDBG\\r\\n- SeaQL \u7684\u5409\u7965\u7269\uff1aTerres the Hermit Crab\\r\\n- Rust \u7684\u5409\u7965\u7269\uff1aFerris the Crab\\r\\n- Rustacean \u5b57\u8bcd\\r\\n\\r\\n[\u652f\u6301 SeaQL \u5e76\u83b7\u5f97\u8d34\u7eb8\u5305\uff01](https://www.sea-ql.org/sticker-pack/)\\r\\n\\r\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2024-01-18-community-survey-2023","metadata":{"permalink":"/blog/2024-01-18-community-survey-2023","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-01-18-community-survey-2023.mdx","source":"@site/blog/2024-01-18-community-survey-2023.mdx","title":"SeaQL \u793e\u533a\u8c03\u67e5 2023 \u7ed3\u679c","description":"\u6765\u81ea 41 \u4e2a\u56fd\u5bb6\u7684 524 \u540d SeaQL \u793e\u533a\u6210\u5458\u70ed\u60c5\u8d21\u732e\u4e86\u4ed6\u4eec\u5bf9\u4f7f\u7528 SeaQL \u5e93\u3001\u5b66\u4e60 Rust \u4ee5\u53ca\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\u4f7f\u7528 Rust \u7684\u770b\u6cd5\u3002\u901a\u8fc7\u8fd9\u4e9b\u53cd\u9988\uff0c\u6211\u4eec\u5e0c\u671b\u4e86\u89e3 2023 \u5e74 SeaQL \u548c Rust \u793e\u533a\u7684\u72b6\u51b5\u3002","date":"2024-01-18T00:00:00.000Z","formattedDate":"January 18, 2024","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":12.73,"hasTruncateMarker":false,"authors":[{"name":"Billy Chan","title":"SeaQL \u56e2\u961f","url":"https://github.com/billy1624","imageURL":"https://avatars.githubusercontent.com/u/30400950?v=4"}],"frontMatter":{"slug":"2024-01-18-community-survey-2023","title":"SeaQL \u793e\u533a\u8c03\u67e5 2023 \u7ed3\u679c","author":"Billy Chan","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/billy1624","author_image_url":"https://avatars.githubusercontent.com/u/30400950?v=4","tags":["news"],"toc_max_heading_level":2},"prevItem":{"title":"SeaORM 0.12.x \u7684\u65b0\u529f\u80fd","permalink":"/blog/2024-01-23-whats-new-in-seaorm-0.12.x"},"nextItem":{"title":"OpenUK \u5956\u9879 2023 \ud83c\udfc6","permalink":"/blog/2023-11-25-openuk-award"}},"content":"import * as Chart from \'../src/chart.js\';\\r\\n\\r\\n\u6765\u81ea 41 \u4e2a\u56fd\u5bb6\u7684 524 \u540d SeaQL \u793e\u533a\u6210\u5458\u70ed\u60c5\u8d21\u732e\u4e86\u4ed6\u4eec\u5bf9\u4f7f\u7528 SeaQL \u5e93\u3001\u5b66\u4e60 Rust \u4ee5\u53ca\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\u4f7f\u7528 Rust \u7684\u770b\u6cd5\u3002\u901a\u8fc7\u8fd9\u4e9b\u53cd\u9988\uff0c\u6211\u4eec\u5e0c\u671b\u4e86\u89e3 2023 \u5e74 SeaQL \u548c Rust \u793e\u533a\u7684\u72b6\u51b5\u3002\\r\\n\\r\\n\u8fd9\u662f\u6211\u4eec\u7b2c\u4e00\u6b21\u8fdb\u884c\u793e\u533a\u8c03\u67e5\uff0c\u6211\u4eec\u5c06\u6bcf\u5e74\u8fdb\u884c\u4e00\u6b21\uff0c\u4ee5\u8ddf\u8e2a\u793e\u533a\u968f\u65f6\u95f4\u7684\u6f14\u53d8\u3002\\r\\n\\r\\n## \u4eba\u53e3\u7edf\u8ba1\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u6240\u5728\u7684\u5730\u70b9\u662f\uff1f\\r\\n\\r\\n\u53c2\u4e0e\u8005\u6765\u81ea\u5168\u7403 41 \u4e2a\u56fd\u5bb6\uff01\\r\\n\\r\\n<Chart.numCountry>\\r\\n    \u5176\u4ed6: <Chart.badges items={[\\r\\n        \\"\u963f\u6839\u5ef7\\",\\r\\n        \\"\u6fb3\u5927\u5229\u4e9a\\",\\r\\n        \\"\u5965\u5730\u5229\\",\\r\\n        \\"\u767d\u4fc4\u7f57\u65af\\",\\r\\n        \\"\u6bd4\u5229\u65f6\\",\\r\\n        \\"\u585e\u6d66\u8def\u65af\\",\\r\\n        \\"\u6377\u514b\\",\\r\\n        \\"\u4e39\u9ea6\\",\\r\\n        \\"\u5308\u7259\u5229\\",\\r\\n        \\"\u4f0a\u6717\\",\\r\\n        \\"\u7231\u5c14\u5170\\",\\r\\n        \\"\u610f\u5927\u5229\\",\\r\\n        \\"\u65e5\u672c\\",\\r\\n        \\"\u54c8\u8428\u514b\u65af\u5766\\",\\r\\n        \\"\u97e9\u56fd\\",\\r\\n        \\"\u8499\u53e4\\",\\r\\n        \\"\u5c3c\u65e5\u5229\u4e9a\\",\\r\\n        \\"\u632a\u5a01\\",\\r\\n        \\"\u79d8\u9c81\\",\\r\\n        \\"\u6ce2\u5170\\",\\r\\n        \\"\u65af\u6d1b\u4f10\u514b\\",\\r\\n        \\"\u5357\u975e\\",\\r\\n        \\"\u897f\u73ed\u7259\\",\\r\\n        \\"\u745e\u5178\\",\\r\\n        \\"\u53f0\u6e7e \\",\\r\\n        \\"\u6cf0\u56fd\\",\\r\\n        \\"\u571f\u8033\u5176\\",\\r\\n        \\"\u4e4c\u514b\u5170\\",\\r\\n    ]} />\\r\\n</Chart.numCountry>\\r\\n\\r\\n## \u4f7f\u7528 SeaQL \u5e93\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u662f\u5426\u5728\u6784\u5efa\u9879\u76ee\u65f6\u4f7f\u7528 SeaQL \u5e93\uff1f\\r\\n\\r\\n<Chart.numUsingSeaQL />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u5728\u6784\u5efa\u9879\u76ee\u65f6\u4f7f\u7528\u4e86\u54ea\u4e9b SeaQL \u5e93\uff1f\\r\\n\\r\\n<Chart.numUsingSeaQLLib>\\r\\n    \u5176\u4ed6: <Chart.badges items={[\\r\\n        \\"Seaography\\",\\r\\n        \\"SeaStreamer\\",\\r\\n    ]} />\\r\\n</Chart.numUsingSeaQLLib>\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u662f\u5728\u4e2a\u4eba\u3001\u5b66\u672f\u8fd8\u662f\u4e13\u4e1a\u73af\u5883\u4e2d\u4f7f\u7528 SeaQL \u5e93\uff1f\\r\\n\\r\\n<Chart.numUsingContext />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u9009\u62e9 SeaQL \u5e93\u7684\u539f\u56e0\u662f\u4ec0\u4e48\uff1f\\r\\n\\r\\n<Chart.whySeaQL>\\r\\n    \u5176\u4ed6: <Chart.badges items={[\\r\\n        \\"\u5f02\u6b65\u652f\u6301\uff0c\u9762\u5411\u672a\u6765\u4e14\u6587\u6863\u826f\u597d\\",\\r\\n        \\"\u826f\u597d\u7684\u67e5\u8be2\u6027\u80fd\\",\\r\\n        \\"\u5728\u7f51\u7ad9\u548c YouTube \u4e0a\u63a8\u8350\u7684\\",\\r\\n        \\"\u8fc1\u79fb\u65f6\u4e0d\u4f7f\u7528 SQL\\",\\r\\n        \\"\u5bf9\u521d\u5b66\u8005\u53cb\u597d\uff0c\u5bb9\u6613\u4e0a\u624b\\",\\r\\n        \\"\u53ef\u4ee5\u8f7b\u677e\u4ece Eloquent ORM \u77e5\u8bc6\u8f6c\u5316\u8fc7\u6765\\",\\r\\n        \\"\u5fc5\u8981\u65f6\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 SeaQuery\\",\\r\\n        \\"\u6211\u5148\u4ece SQLx \u5f00\u59cb\uff0c\u7136\u540e\u5c1d\u8bd5\u4e86 SeaQuery\\",\\r\\n        \\"\u6211\u5728 YouTube \u4e0a\u627e\u5230\u4e86\u5f88\u597d\u7684\u4f8b\u5b50\\",\\r\\n    ]} />\\r\\n</Chart.whySeaQL>\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u8ba4\u4e3a SeaQL \u5e93\u7684\u54ea\u4e9b\u54c1\u8d28\u662f\u91cd\u8981\u7684\uff1f\\r\\n\\r\\n<Chart.quality>\\r\\n    \u5176\u4ed6: <Chart.badges items={[\\r\\n        \\"\u7b80\u5355\u8bed\u6cd5\\",\\r\\n        \\"\u80fd\u591f\u8f7b\u677e\u8868\u8fbe\u60a8\u5728\u7eaf SQL \u4e2d\u53ef\u4ee5\u7f16\u5199\u7684\u5185\u5bb9\\",\\r\\n        \\"\u8fc1\u79fb\u548c\u5b9e\u4f53\u751f\u6210\\",\\r\\n        \\"\u5b9e\u73b0\u548c\u4f7f\u7528\u6a21\u5f0f\u7684\u660e\u786e\u6027\\",\\r\\n        \\"\u9ad8\u6548\u7684\u67e5\u8be2\u6784\u5efa\uff0c\u5c24\u5176\u662f\u4e0e\u5173\u7cfb\u548c\u8fde\u63a5\u6709\u5173\u65f6\\",\\r\\n        \\"\u4eba\u6027\u5316\u7684 API\\",\\r\\n    ]} />\\r\\n</Chart.quality>\\r\\n\\r\\n## \u56e2\u961f\u4e0e\u9879\u76ee\u6027\u8d28\\r\\n\\r\\n### \u95ee\uff1a\u9879\u76ee\u4e2d\u6709\u591a\u5c11\u540d\u56e2\u961f\u6210\u5458\uff08\u5305\u62ec\u60a8\uff09\uff1f\\r\\n\\r\\n<Chart.numTeamMember />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u80fd\u5426\u5bf9\u9879\u76ee\u6027\u8d28\u8fdb\u884c\u5206\u7c7b\uff1f\\r\\n\\r\\n<Chart.projNature>\\r\\n    \u5176\u4ed6: <Chart.badges items={[\\r\\n        \\"\u9884\u6d4b\\",\\r\\n        \\"\u91d1\u878d\u4ea4\u6613\\",\\r\\n        \\"\u4f01\u4e1a\u8d44\u6e90\u89c4\u5212 (ERP)\\",\\r\\n        \\"\u91d1\u878d\u79d1\u6280\\",\\r\\n        \\"\u4e91\u57fa\u7840\u8bbe\u65bd\u81ea\u52a8\u5316\\",\\r\\n        \\"\u684c\u9762\u3001\u79fb\u52a8\u548c Web \u5e94\u7528\u7684\u540e\u7aef\\",\\r\\n    ]} />\\r\\n</Chart.projNature>\\r\\n\\r\\n## \u6280\u672f\u6808\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u7684\u5f00\u53d1\u73af\u5883\u662f\u4ec0\u4e48\uff1f\\r\\n\\r\\n<Chart.devEnv />\\r\\n\\r\\n### Linux \u5206\u6790\\r\\n\\r\\n<Chart.devEnvLinux />\\r\\n\\r\\n### Windows \u5206\u6790\\r\\n\\r\\n<Chart.devEnvWin />\\r\\n\\r\\n### macOS \u5206\u6790\\r\\n\\r\\n<Chart.devEnvMac />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u4f7f\u7528\u4e86\u54ea\u4e9b\u6570\u636e\u5e93\uff1f\\r\\n\\r\\n<Chart.db />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u4f7f\u7528\u4e86\u54ea\u79cd Web \u6846\u67b6\uff1f\\r\\n\\r\\n<Chart.webFramework />\\r\\n\\r\\n### \u95ee\uff1a\u90e8\u7f72\u73af\u5883\u662f\u4ec0\u4e48\uff1f\\r\\n\\r\\n<Chart.deployEnv />\\r\\n\\r\\n## \u5de5\u4f5c\u4e2d\u7684 Rust\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u5728\u5de5\u4f5c\u4e2d\u4f7f\u7528 Rust \u5417\uff1f\\r\\n\\r\\n<Chart.useRust />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u6240\u5728\u7684\u516c\u53f8\u5904\u4e8e\u54ea\u4e2a\u884c\u4e1a\uff1f\\r\\n\\r\\n<Chart.industry />\\r\\n\\r\\n#### \u5bf9\u516c\u53f8\u7684\u6a21\u7cca\u63cf\u8ff0\\r\\n\\r\\n<Chart.badges items={[\\r\\n    \\"\u4e00\u5bb6\u94f6\u884c\u516c\u53f8\\",\\r\\n    \\"\u4e00\u4e2a\u4f01\u4e1a\u5bf9\u4f01\u4e1a\u7684\u501f\u8d37\u5e73\u53f0\\",\\r\\n    \\"\u4e00\u5bb6\u4e91\u5b58\u50a8\u516c\u53f8\\",\\r\\n    \\"\u4e00\u5bb6\u54a8\u8be2\u516c\u53f8\\",\\r\\n    \\"\u4e00\u5bb6\u7f51\u7edc\u5b89\u5168\u7ba1\u7406\u5e73\u53f0\\",\\r\\n    \\"\u4e00\u5bb6 IT \u89e3\u51b3\u65b9\u6848\u516c\u53f8\\",\\r\\n    \\"\u4e00\u5bb6\u7535\u5b50\u5546\u52a1\u670d\u88c5\u5e97\\",\\r\\n    \\"\u4e00\u5bb6\u513f\u7ae5\u5a31\u4e50\u516c\u53f8\\",\\r\\n    \\"\u4e00\u5bb6\u5de5\u5382\u5efa\u8bbe\u7ba1\u7406\u5e73\u53f0\\",\\r\\n    \\"\u4e00\u5bb6\u91d1\u878d\u79d1\u6280\u521d\u521b\u4f01\u4e1a\\",\\r\\n    \\"\u4e00\u5bb6\u5730\u8d28\u6280\u672f\u516c\u53f8\\",\\r\\n    \\"\u4e00\u5bb6\u4e0a\u5e02\u5065\u5eb7\u79d1\u6280\u516c\u53f8\\",\\r\\n    \\"\u4e00\u5bb6\u79c1\u8425\u9910\u996e\u8fde\u9501\\",\\r\\n    \\"\u4e00\u5bb6\u5de5\u4e1a\u7269\u8054\u7f51\u70ed\u6c34\u548c\u4f9b\u70ed\u5206\u914d\u516c\u53f8\\",\\r\\n    \\"\u4e00\u5bb6\u4e92\u8054\u7f51\u4f9b\u5e94\u5546\\",\\r\\n    \\"\u4e00\u5bb6\u975e\u8425\u5229\u6280\u672f\u7814\u7a76\u7ec4\u7ec7\\",\\r\\n    \\"\u4e00\u4e2a\u652f\u4ed8\u670d\u52a1\u63d0\u4f9b\u5546\\",\\r\\n    \\"\u4e00\u5bb6\u9053\u8def\u667a\u80fd\u516c\u53f8\\",\\r\\n    \\"\u4e00\u5bb6 SaaS \u521d\u521b\u4f01\u4e1a\\",\\r\\n    \\"\u4e00\u5bb6\u670d\u52a1\u5668\u6258\u7ba1\u63d0\u4f9b\u5546\\",\\r\\n    \\"\u4e00\u5bb6\u5e2e\u52a9\u7528\u6237\u6269\u5c55\u5176 Kubernetes \u5e94\u7528\u7684 DevOps \u5e73\u53f0\\",\\r\\n    \\"\u4e00\u5bb6\u6c7d\u8f66\u516c\u53f8\\",\\r\\n]} />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u516c\u53f8\u7684\u89c4\u6a21\u662f\u591a\u5c11\uff1f\\r\\n\\r\\n<Chart.companySize />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u516c\u53f8\u4e2d\u6709\u591a\u5c11\u540d\u5de5\u7a0b\u5e08\u4e13\u6ce8\u4e8e\u7f16\u5199 Rust\uff1f\\r\\n\\r\\n<Chart.engineer />\\r\\n\\r\\n### \u95ee\uff1a\u6280\u672f\u6808\u7684\u54ea\u4e2a\u5c42\u7ea7\u4f7f\u7528 Rust\uff1f\\r\\n\\r\\n<Chart.techStack />\\r\\n\\r\\n## \u5b66\u4e60 Rust\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u662f\u5728\u5b66\u4e60 Rust / \u5bf9 Rust \u4e0d\u719f\u6089\u5417\uff1f\\r\\n\\r\\n<Chart.learningRust />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u6700\u719f\u6089\u54ea\u4e9b\u8bed\u8a00\uff1f\\r\\n\\r\\n<Chart.familiarLanguage />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u719f\u6089 SQL \u5417\uff1f\\r\\n\\r\\n<Chart.familiarWithSql />\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u89c9\u5f97\u5b66\u4e60 Rust \u662f\u7b80\u5355\u8fd8\u662f\u56f0\u96be\uff1f\\r\\n\\r\\n<Chart.hardToLearn />\\r\\n\\r\\n### \u95ee\uff1a\u662f\u4ec0\u4e48\u6fc0\u52b1\u60a8\u5b66\u4e60 Rust\uff1f\\r\\n\\r\\n<Chart.motivation>\\r\\n    \u5176\u4ed6: <Chart.badges items={[\\r\\n        \\"\u80fd\u591f\u5f00\u53d1\u5feb\u901f\u3001\u5b89\u5168\u548c\u72ec\u7acb\u7684 API \u9a71\u52a8\u5de5\u5177\\",\\r\\n        \\"\u9ad8\u6548\u3001\u5b89\u5168\u3001\u4f4e\u8d44\u6e90\u4f7f\u7528\\",\\r\\n        \\"\u4ece\u4e00\u5f00\u59cb\u7684\u826f\u597d\u8bbe\u8ba1\u51b3\u7b56\\",\\r\\n        \\"\u53ef\u9760\u6027\u548c\u5f00\u53d1\u7684\u7b80\u4fbf\u6027\\",\\r\\n        \\"\u5b66\u6821\u8ba9\u6211\u5b66\u4e60\\",\\r\\n        \\"Rust \u592a\u9177\u4e86\\",\\r\\n        \\"\u5e93\u7684\u751f\u6001\u7cfb\u7edf + \u5e93\u4f5c\u8005\u7684\u4e00\u822c\u80fd\u529b\\",\\r\\n        \\"\u8fd9\u662f\u6700\u53d7\u6b22\u8fce\u7684\u8bed\u8a00\\",\\r\\n        \\"Rust \u63d0\u4f9b\u7684\u4fdd\u8bc1\\",\\r\\n        \\"\u5b66\u4e60\u4e00\u4e9b\u65b0\u4e1c\u897f\\",\\r\\n        \\"\u7c7b\u578b\u5b89\u5168\u548c\u901f\u5ea6\\",\\r\\n        \\"\u60f3\u8981\u6446\u8131 NULL\\",\\r\\n        \\"\u5982\u679c\u4e0d\u60f3\u8981\uff0c\u5c31\u6ca1\u6709\u6837\u677f\u4ee3\u7801\\",\\r\\n        \\"\u6027\u80fd\\",\\r\\n    ]} />\\r\\n</Chart.motivation>\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u4f9d\u8d56\u54ea\u4e9b\u5b66\u4e60\u8d44\u6e90\uff1f\\r\\n\\r\\n<Chart.learningResource>\\r\\n    \u5176\u4ed6: <Chart.badges items={[\\r\\n        \\"YouTube\\",\\r\\n        \\"\u5728\u7ebf\u8bfe\u7a0b\\",\\r\\n        \\"ChatGPT\\",\\r\\n    ]} />\\r\\n</Chart.learningResource>\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u7528 Rust \u6784\u5efa\u7684\u7b2c\u4e00\u4e2a\u9879\u76ee\u662f\u4ec0\u4e48\uff1f\\r\\n\\r\\n<Chart.firstProj>\\r\\n    \u5176\u4ed6: <Chart.badges items={[\\r\\n        \\"\u804a\u5929\u673a\u5668\u4eba\\",\\r\\n        \\"\u7f51\u7edc\u722c\u866b\\",\\r\\n        \\"\u66fc\u5fb7\u5e03\u7f57\u7279\u96c6\u7684\u5149\u6805\u5316\\",\\r\\n        \\"\u7269\u8054\u7f51\\",\\r\\n        \\"\u5e93\\",\\r\\n    ]} />\\r\\n</Chart.firstProj>\\r\\n\\r\\n## \u4e0b\u4e00\u6b65\\r\\n\\r\\n### \u95ee\uff1a\u60a8\u5e0c\u671b SeaORM \u5728\u54ea\u4e9b\u65b9\u9762\u53d6\u5f97\u8fdb\u5c55\uff1f\\r\\n\\r\\n\u611f\u8c22\u60a8\u63d0\u4f9b\u7684\u6240\u6709\u5efa\u8bae\uff0c\u6211\u4eec\u4e00\u5b9a\u4f1a\u8003\u8651\u8fd9\u4e9b\u5efa\u8bae\uff01\\r\\n\\r\\n<Chart.advancement>\\r\\n    \u5176\u4ed6: <Chart.badges items={[\\r\\n        \\"\u5b8c\u5168\u652f\u6301 MySQL\\",\\r\\n        \\"MS SQL Server \u652f\u6301\\",\\r\\n        \\"\u590d\u6742\u8fde\u63a5\u7684\u7ed3\u6784\u5316\u67e5\u8be2\\",\\r\\n        \\"\u7a33\u5b9a\u7248\u672c\\",\\r\\n        \\"\u6570\u636e\u586b\u5145\\",\\r\\n        \\"\u57fa\u4e8e\u5b9e\u4f53\u5dee\u5f02\u7684\u8fc1\u79fb\\",\\r\\n        \\"\u7c7b\u578b\u5b89\u5168\\",\\r\\n        \\"\u652f\u6301\u6ca1\u6709\u4e3b\u952e\u7684\u8868\\",\\r\\n        \\"Turso \u96c6\u6210\\",\\r\\n        \\"\u83b7\u53d6\u5d4c\u5957\u7ed3\u6784\\",\\r\\n        \\"\u89c6\u56fe\\",\\r\\n    ]} />\\r\\n</Chart.advancement>\\r\\n\\r\\n### \u95ee\uff1a\u5982\u679c SeaQL \u5f00\u53d1\u7684\u7b2c\u4e00\u65b9\u5de5\u5177\uff0c\u60a8\u4f1a\u5bf9\u54ea\u4e9b\u5de5\u5177\u611f\u5174\u8da3\uff1f\\r\\n\\r\\n<Chart.firstPartySupport>\\r\\n    \u5176\u4ed6: <Chart.badges items={[\\r\\n        \\"API \u96c6\u6210\u6d4b\u8bd5\u5de5\u5177\\",\\r\\n        \\"\u57fa\u4e8e oso \u7684\u6388\u6743\u96c6\u6210\\",\\r\\n        \\"\u7528\u4e8e\u7ba1\u7406\u8fc1\u79fb\u7684\u53ef\u89c6\u5316\u5de5\u5177\\",\\r\\n        \\"\u6570\u636e\u5e93\u5e03\u5c40\u7f16\u8f91\u5668\uff08\u7c7b\u4f3c dbdiagram.io\uff09\\",\\r\\n    ]} />\\r\\n</Chart.firstPartySupport>\\r\\n\\r\\n## \u5206\u4eab\u60a8\u7684\u60f3\u6cd5\\r\\n\\r\\n### \u95ee\uff1a\u8fd8\u6709\u5176\u4ed6\u60f3\u8bf4\u7684\u5417\uff1f\\r\\n\\r\\n\u6ca1\u60f3\u5230\u8fd9\u4e00\u90e8\u5206\u4f1a\u53d8\u6210\u63a8\u8350\uff0c\u611f\u8c22\u60a8\u7684\u8d5e\u7f8e :)\\r\\n\\r\\n> \u505a\u5f97\u597d\uff0c\u4f19\u8ba1\u4eec\\r\\n\\r\\n> \u5f88\u68d2\u7684\u9879\u76ee\uff0c\u611f\u8c22\u4f60\u4eec\u7684\u8f9b\u52e4\u5de5\u4f5c\\r\\n\\r\\n> \u6211\u5e0c\u671b\u5b83\u6210\u4e3a\u4e00\u4e2a\u5f02\u6b65\u7c7b\u578b\u5b89\u5168\u7684\u5e93\u3002\u7ee7\u7eed\u4fdd\u6301\u51fa\u8272\u7684\u5de5\u4f5c\uff01\\r\\n\\r\\n> \u6211\u5e0c\u671b\u770b\u5230\u4e0d\u4f9d\u8d56\u4e8e\u6570\u636e\u5e93\u7684\u5b9e\u4f53\u751f\u6210\\r\\n\\r\\n> \u7f51\u7ad9\u3001JetBrains \u7684\u652f\u6301\u3001\u6587\u6863\u548c\u53d1\u5e03\u5468\u671f\u90fd\u5f88\u597d\uff01\\r\\n\\r\\n> \u6211\u5bf9 SeaORM \u5c06\u5982\u4f55\u7ee7\u7eed\u53d1\u5c55\u975e\u5e38\u611f\u5174\u8da3\uff0c\u795d\u4f60\u4eec\u597d\u8fd0\uff01\\r\\n\\r\\n> \u6211\u53d1\u73b0 SeaORM \u975e\u5e38\u6709\u7528\uff0c\u975e\u5e38\u611f\u8c22\u5f00\u53d1\u56e2\u961f\u7684\u521b\u5efa\u548c\u7ef4\u62a4\uff01\\r\\n\\r\\n> \u5728 TypeORM \u4e2d\uff0c\u6211\u53ef\u4ee5\u7f16\u5199\u5b9e\u4f53\u7136\u540e\u4ece\u4e2d\u751f\u6210\u8fc1\u79fb\u3002\u8fd9\u975e\u5e38\u65b9\u4fbf\u3002\u5b83\u6709\u52a9\u4e8e\u63d0\u9ad8\u5f00\u53d1\u901f\u5ea6\u3002\u5e0c\u671b SeaORM \u80fd\u6709\u8fd9\u4e2a\u529f\u80fd\u3002\\r\\n\\r\\n> \u9700\u8981\u4e0e SeaQuery \u6709\u66f4\u597d\u7684\u96c6\u6210\uff0c\u56e0\u4e3a\u6709\u4e9b\u529f\u80fd\u5728 SeaORM \u4e2d\u4e0d\u53ef\u7528\uff0c\u8fd9\u5f88\u9ebb\u70e6\u3002\\r\\n\\r\\n> \u7ee7\u7eed\u4fdd\u6301\u4f18\u79c0\u7684\u5de5\u4f5c\uff01\\r\\n\\r\\n> \u7ee7\u7eed\u52a0\u6cb9\uff01\u7231 SeaORM\uff01\\r\\n\\r\\n> \u4fdd\u6301\u51fa\u8272\u7684\u5de5\u4f5c\u3002Rust \u9700\u8981\u4e00\u4e2a\u5feb\u901f\u3001\u4eba\u4f53\u5de5\u7a0b\u5b66\u548c\u53ef\u9760\u7684 ORM\u3002\\r\\n\\r\\n> SeaORM \u975e\u5e38\u5f3a\u5927\uff0c\u4f46 Rust \u7684\u6587\u6863\u548c\u793a\u4f8b\u6559\u7a0b\u53ef\u4ee5\u66f4\u4e30\u5bcc\u3002\\r\\n\\r\\n> SeaORM \u662f\u4e00\u4e2a\u5f88\u68d2\u7684\u5e93\u3002\u5927\u591a\u6570\u4e1c\u897f\u90fd\u975e\u5e38\u7b80\u6d01\uff0c\u56e0\u6b64\u975e\u5e38\u76f4\u63a5\u3002\u53ea\u662f\u6709\u4e00\u4e9b\u4e0e\u6570\u636e\u5e93\u7279\u5b9a\u7c7b\u578b\u548c\u6570\u503c\u76f8\u5173\u7684\u8fb9\u7f18\u60c5\u51b5\u53ef\u4ee5\u66f4\u597d\u3002\\r\\n\\r\\n> \u7279\u5f81\u7cfb\u7edf\u592a\u590d\u6742\uff0c\u7f16\u7a0b\u4f53\u9a8c\u4e0d\u662f\u5f88\u597d\u3002\\r\\n\\r\\n> \u81ea\u52a8\u8fc1\u79fb\u751f\u6210\u4f7f\u5e93\u5728\u6211\u770b\u6765\u51e0\u4e4e\u5b8c\u7f8e\u3002\\r\\n\\r\\n> SeaQL \u7684\u6559\u7a0b\u53ef\u4ee5\u66f4\u597d\u3002\u66f4\u8be6\u7ec6\u7684\u89e3\u91ca\uff0c\u800c\u4e14\u4e00\u5b9a\u8981\u6709\u6700\u4f73\u5b9e\u8df5\u90e8\u5206\uff0c\u9488\u5bf9\u8bbe\u8ba1\u6a21\u5f0f\u4ee5\u53ca\u4e0e\u6e05\u6670\u67b6\u6784\u76f8\u5173\u7684\u826f\u597d\u5b9e\u8df5\u3002\\r\\n\\r\\n> SeaQL \u662f\u5f88\u68d2\u7684\u4ea7\u54c1\uff0c\u4f7f\u7528\u8d77\u6765\u975e\u5e38\u6109\u5feb\\r\\n\\r\\n> \u8c22\u8c22\u4f60\u4eec <3\\r\\n\\r\\n> \u611f\u8c22\u4f60\u4eec\u5e26\u6765\u7684\u4f18\u79c0\u5e93\uff01\\r\\n\\r\\n> \u8c22\u8c22\u4f60\u4eec\u7684\u4f1f\u5927\u9879\u76ee\u3002\u6211\u89c9\u5f97\u6587\u6863\u7f3a\u4e4f\u4e00\u4e9b\u5c0f\u51fd\u6570\u7684\u4f8b\u5b50\u548c\u4e00\u4e9b\u6666\u6da9\u529f\u80fd\u7684\u7528\u6cd5\u3002\\r\\n\\r\\n> \u611f\u8c22\u4f60\u4eec\u7684\u8f9b\u52e4\u5de5\u4f5c\uff01\\r\\n\\r\\n> \u611f\u8c22\u4f60\u4eec\u5bf9 SeaQL \u7684\u4ed8\u51fa\uff0c\u611f\u8c22\u4f60\u4eec\u7684\u52aa\u529b \\r\\n\\r\\n> \u975e\u5e38\u611f\u8c22\u4f60\u4eec\u7684\u5de5\u4f5c\uff01\\r\\n\\r\\n> \u611f\u8c22\u4f60\u4eec\u5728\u8fd9\u4e00\u7cfb\u5217\u5e93\u4e2d\u6240\u6295\u5165\u7684\u60ca\u4eba\u5de5\u4f5c\u3002\u8fd9\u5bf9 Rust \u751f\u6001\u7cfb\u7edf\u662f\u4e00\u4e2a\u4e86\u4e0d\u8d77\u7684\u53d1\u5c55\u3002\\r\\n\\r\\n> \u611f\u8c22\u5e76\u7ee7\u7eed\u4fdd\u6301\u4f18\u79c0\u7684\u5de5\u4f5c\u3002\\r\\n\\r\\n> \u611f\u8c22\u4f60\u4eec\u63d0\u4f9b\u7684\u4f18\u79c0\u5de5\u5177\uff01\\r\\n\\r\\n> \u611f\u8c22\u4f60\u4eec\u6240\u505a\u7684\u7cbe\u5f69\u5de5\u4f5c\u3002\\r\\n\\r\\n> \u611f\u8c22\u4f60\u4eec\u5236\u4f5c SeaORM\uff01\\r\\n\\r\\n> \u6211\u4e3a\u5de5\u4f5c\u505a\u7684\u9879\u76ee\u4ec5\u4ec5\u662f\u4e00\u4e2a\u539f\u578b\uff0c\u8fd9\u662f\u4e00\u4e2a\u57fa\u4e8e pandas \u548c\u81ea\u5b9a\u4e49 psycopg2 orm \u7684\u5f53\u524d Python \u9884\u6d4b\u9879\u76ee\u7684\u65b0\u5b9e\u73b0\u3002\u6211\u7684\u76ee\u6807\u662f\u5229\u7528 SeaORM \u548c Polars \u521b\u5efa\u4e00\u4e2a\u66f4\u5feb/\u5f00\u53d1\u53cb\u597d\u7684\u7248\u672c\u3002\u6211\u5e0c\u671b\u6700\u7ec8\u80fd\u62ff\u51fa\u4e00\u4e2a\u539f\u578b\uff0c\u5c55\u793a\u7ed9\u6211\u7684\u56e2\u961f\uff0c\u4ee5\u4fbf\u83b7\u5f97\u6279\u51c6\u5168\u9762\u5f00\u53d1\u4e00\u4e2a\u65b0\u7248\u672c\uff0c\u5e76\u8fc1\u79fb 4-5 \u4e2a\u4f9d\u8d56\u5171\u4eab\u5e93\u8fdb\u884c\u8f93\u5165\u8f93\u51fa\u548c\u8ba1\u7b97\u7684\u5176\u4ed6\u9884\u6d4b\u5e94\u7528\u3002\\r\\n\\r\\n> \u6211\u8fd8\u4e3a\u4e00\u4e2a\u5c0f\u578b API \u5ba2\u6237\u7aef\u4f7f\u7528 SeaORM \u6765\u83b7\u53d6\u91d1\u878d\u6570\u636e\uff0c\u6211\u53ef\u80fd\u4f1a\u5c06\u5176\u5f00\u6e90\u3002\\r\\n\\r\\n> \u6211\u8ba4\u4e3a\u4e00\u4e9b\u66f4\u9ad8\u7ea7\u7684\u793a\u4f8b\u53ef\u4ee5\u771f\u6b63\u6539\u5584 SeaORM \u7684\u6587\u6863\u90e8\u5206\u3002\u6587\u6863\u5728 Rust \u6587\u6863\u4e2d\u76f8\u5bf9\u8be6\u7ec6\u3002\\r\\n\\r\\n> \u975e\u5e38\u6709\u524d\u666f\u7684\u9879\u76ee\uff0c\u7ee7\u7eed\u52aa\u529b\u3002\\r\\n\\r\\n> \u975e\u5e38\u611f\u8c22\u4f60\u4eec\u65e0\u79c1\u5949\u732e\u7684\u5b9d\u8d35\u65f6\u95f4\u3002\u53ef\u80fd\u8fd9\u5e76\u4e0d\u91cd\u8981\uff0c\u4f46\u975e\u5e38\u611f\u8c22\u4f60\u4eec\u7684\u52aa\u529b\u3002SeaORM \u662f\u4e00\u4e2a\u6211\u53ef\u4ee5\u4f7f\u7528\u5f88\u957f\u65f6\u95f4\u7684\u7edd\u4f73\u5de5\u5177\u3002\u5e0c\u671b\u5728\u6211\u6761\u4ef6\u66f4\u597d\u65f6\u80fd\u4ee5\u4efb\u4f55\u5f62\u5f0f\u505a\u51fa\u8d21\u732e :3 \u5411\u56e2\u961f\u81f4\u656c\uff01\\r\\n\\r\\n> \u4f60\u4eec\u7684\u5e93\u975e\u5e38\u68d2\uff0c\u81f3\u5c11\u6211\u89c9\u5f97\u6bd4 Diesel \u597d\u592a\u591a\u4e86\uff0c\u5165\u95e8\u7b80\u5355\uff0c\u5bf9\u65b0\u624b\u975e\u5e38\u53cb\u597d\uff0c\u8fd9\u662f\u6700\u5927\u7684\u4eae\u70b9\uff0c\u5176\u6b21\u662f\u5e93\u4f3c\u4e4e\u80fd\u591f\u5b9e\u73b0\u5f88\u590d\u6742\u7684 Join SQL \u903b\u8f91\u800c\u4e0d\u7528\u5199\u539f\u751f\u7684 SQL\uff0c\u8fd9\u70b9\u4e5f\u503c\u5f97\u70b9\u8d5e\uff0c\u4f46\u8fd9\u5757\u7684\u6587\u6863\u4f3c\u4e4e\u5199\u5f97\u6709\u70b9\u7b80\u7565\uff0c\u5e0c\u671b\u53ef\u4ee5\u4e30\u5bcc\u4e00\u4e0b\u6587\u6863\u5185\u5bb9\uff0c\u5bf9\u4e8e\u590d\u6742\u67e5\u8be2\u7684\u8bf4\u660e\u53ef\u4ee5\u66f4\u52a0\u8be6\u7ec6\u4e00\u4e9b\uff0c\u8fd9\u6837\u5c31\u518d\u597d\u4e0d\u8fc7\u4e86\u3002\u8c22\u8c22\u4f60\u4eec\uff0c\u6211\u4f1a\u6301\u7eed\u5173\u6ce8\u4f60\u4eec\uff0c\u672a\u6765\u7684\u9879\u76ee\u5982\u679c\u6d89\u53ca ORM\uff0c\u90a3\u7edd\u5bf9\u975e\u4f60\u4eec\u83ab\u5c5e\u4e86\uff01\\r\\n\\r\\n## Rustacean \u8d34\u7eb8\u5305 \ud83e\udd80\\r\\n\\r\\nRustacean \u8d34\u7eb8\u5305\u662f\u8868\u8fbe\u60a8\u5bf9 Rust \u70ed\u7231\u7684\u5b8c\u7f8e\u65b9\u5f0f\u3002\u6211\u4eec\u7684\u8d34\u7eb8\u91c7\u7528\u4f18\u8d28\u9632\u6c34\u4e59\u70ef\u57fa\uff0c\u5177\u6709\u72ec\u7279\u7684\u54d1\u5149\u6548\u679c\u3002\u5c06\u5b83\u4eec\u8d34\u5728\u60a8\u7684\u7b14\u8bb0\u672c\u7535\u8111\u3001\u7b14\u8bb0\u672c\u6216\u4efb\u4f55\u5c0f\u5de5\u5177\u4e0a\uff0c\u5c55\u793a\u60a8\u5bf9 Rust \u7684\u70ed\u7231\uff01\\r\\n\\r\\n\u800c\u4e14\uff0c\u6240\u6709\u6536\u5165\u5c06\u76f4\u63a5\u7528\u4e8e SeaQL \u9879\u76ee\u7684\u6301\u7eed\u5f00\u53d1\u3002\\r\\n\\r\\n\u8d34\u7eb8\u5305\u5185\u5bb9\uff1a\\r\\n- SeaQL \u9879\u76ee\u7684\u6807\u5fd7\uff1aSeaQL\u3001SeaORM\u3001SeaQuery\u3001Seaography\u3001FireDBG\\r\\n- SeaQL \u7684\u5409\u7965\u7269\uff1aTerres the Hermit Crab\\r\\n- Rust \u7684\u5409\u7965\u7269\uff1aFerris the Crab\\r\\n- Rustacean \u8fd9\u4e2a\u8bcd\\r\\n\\r\\n[\u652f\u6301 SeaQL \u5e76\u83b7\u53d6\u8d34\u7eb8\u5305\uff01](https://www.sea-ql.org/sticker-pack/)\\r\\n\\r\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"SeaQL \u7684 Rustacean \u8d34\u7eb8\u5305\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2023-11-25-openuk-award","metadata":{"permalink":"/blog/2023-11-25-openuk-award","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-11-25-openuk-award.md","source":"@site/blog/2023-11-25-openuk-award.md","title":"OpenUK \u5956\u9879 2023 \ud83c\udfc6","description":"\u6211\u4eec\u5f88\u8363\u5e78\u83b7\u5f97 OpenUK 2023 \u5956\u9879 \u4e2d\u7684\u8f6f\u4ef6\u7c7b\u522b\u5956\u9879\uff01\u9881\u5956\u5178\u793c\u662f\u4e00\u6b21\u975e\u5e38\u96be\u5fd8\u7684\u7ecf\u5386\u3002\u975e\u5e38\u611f\u8c22\u8d5e\u52a9\u8f6f\u4ef6\u5956\u9879\u7684 Red Badger\u3002","date":"2023-11-25T00:00:00.000Z","formattedDate":"November 25, 2023","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":1.235,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2023-11-25-openuk-award","title":"OpenUK \u5956\u9879 2023 \ud83c\udfc6","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"SeaQL \u793e\u533a\u8c03\u67e5 2023 \u7ed3\u679c","permalink":"/blog/2024-01-18-community-survey-2023"},"nextItem":{"title":"\u7f16\u5199 Async \u8fd0\u884c\u65f6\u901a\u7528\u5e93","permalink":"/blog/2023-11-22-async-runtime-generic"}},"content":"<img src=\\"https://www.sea-ql.org/blog/img/openuk-software-seaql.jpg\\"/>\\r\\n\\r\\n\u6211\u4eec\u5f88\u8363\u5e78\u83b7\u5f97 [OpenUK 2023 \u5956\u9879](https://openuk.uk/awards/) \u4e2d\u7684\u8f6f\u4ef6\u7c7b\u522b\u5956\u9879\uff01\u9881\u5956\u5178\u793c\u662f\u4e00\u6b21\u975e\u5e38\u96be\u5fd8\u7684\u7ecf\u5386\u3002\u975e\u5e38\u611f\u8c22\u8d5e\u52a9\u8f6f\u4ef6\u5956\u9879\u7684 [Red Badger](https://red-badger.com/)\u3002\\r\\n\\r\\n\u5728 2023 \u5e74\uff0c\u6211\u4eec\u53d1\u5e03\u4e86 SeaStreamer\uff0c\u4e24\u6b21\u4e3b\u8981\u7248\u672c\u7684 SeaORM\uff0c\u8fd8\u6709\u4e00\u4e2a\u65b0\u7684 Seaography \u7248\u672c\uff0c\u5e76\u4e00\u76f4\u5fd9\u4e8e\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\u3002\\r\\n\\r\\n\u5e74\u4e2d\uff0c\u6211\u4eec\u8fbe\u5230\u4e86 5 \u5343\u4e2a GitHub stars \u548c 200 \u4e07\u6b21 crates.io \u4e0b\u8f7d\u7684\u91cc\u7a0b\u7891\u3002\\r\\n\\r\\n\u5728\u590f\u5b63\uff0c\u6211\u4eec\u62db\u52df\u4e86\u4e24\u540d\u5b9e\u4e60\u751f\u53c2\u4e0e\u6211\u4eec\u7684\u7b2c\u4e09\u5c4a\u4ee3\u7801\u590f\u4ee4\u8425\u3002\\r\\n\\r\\n\u6211\u4eec\u8ba1\u5212\u5728 2024 \u5e74\u901a\u8fc7\u5927\u5b66\u5b9e\u4e60\u9879\u76ee\u4e3a\u82f1\u56fd\u5b66\u751f\u63d0\u4f9b\u91cf\u8eab\u5b9a\u5236\u7684\u5b9e\u4e60\u673a\u4f1a\u3002\u548c\u5f80\u5e38\u4e00\u6837\uff0c\u6211\u4eec\u6b22\u8fce\u6765\u81ea\u4e16\u754c\u5404\u5730\u7684\u8d21\u732e\u8005\uff0c\u4e5f\u8bb8\u6211\u4eec\u4f1a\u518d\u6b21\u53c2\u4e0e GSoC 2024\u3002\uff08\u4f46\u5f00\u6e90\u9879\u76ee\u6ca1\u6709\u56fa\u5b9a\u7684\u65f6\u95f4\u8868\uff0c\u60a8\u53ef\u4ee5\u968f\u65f6\u5f00\u59cb\u8d21\u732e\uff09\\r\\n\\r\\n\u975e\u5e38\u611f\u8c22\u6211\u4eec\u6301\u7eed\u652f\u6301\u6211\u4eec\u7684\u8d5e\u52a9\u5546\uff0c\u6211\u4eec\u671f\u5f85\u7740\u66f4\u6709\u5f71\u54cd\u529b\u7684 2024 \u5e74\u3002"},{"id":"2023-11-22-async-runtime-generic","metadata":{"permalink":"/blog/2023-11-22-async-runtime-generic","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-11-22-async-runtime-generic.md","source":"@site/blog/2023-11-22-async-runtime-generic.md","title":"\u7f16\u5199 Async \u8fd0\u884c\u65f6\u901a\u7528\u5e93","description":"\u5982\u679c\u4f60\u6b63\u5728\u7528 Rust \u7f16\u5199\u4e00\u4e2a\u5f02\u6b65\u5e94\u7528\uff0c\u67d0\u4e2a\u65f6\u5019\u4f60\u4f1a\u60f3\u628a\u4ee3\u7801\u5206\u79bb\u6210\u51e0\u4e2a crate\u3002\u8fd9\u6709\u4e00\u4e9b\u597d\u5904\uff1a","date":"2023-11-22T00:00:00.000Z","formattedDate":"November 22, 2023","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":4.8,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL \u56e2\u961f","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2023-11-22-async-runtime-generic","title":"\u7f16\u5199 Async \u8fd0\u884c\u65f6\u901a\u7528\u5e93","author":"Chris Tsang","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"prevItem":{"title":"OpenUK \u5956\u9879 2023 \ud83c\udfc6","permalink":"/blog/2023-11-25-openuk-award"},"nextItem":{"title":"SeaStreamer 0.3 \u4e2d\u7684\u65b0\u529f\u80fd","permalink":"/blog/2023-09-06-whats-new-in-sea-streamer-0.3"}},"content":"\u5982\u679c\u4f60\u6b63\u5728\u7528 Rust \u7f16\u5199\u4e00\u4e2a\u5f02\u6b65\u5e94\u7528\uff0c\u67d0\u4e2a\u65f6\u5019\u4f60\u4f1a\u60f3\u628a\u4ee3\u7801\u5206\u79bb\u6210\u51e0\u4e2a crate\u3002\u8fd9\u6709\u4e00\u4e9b\u597d\u5904\uff1a\\r\\n\\r\\n1. \u66f4\u597d\u7684\u5c01\u88c5\u3002\u5b50\u7cfb\u7edf\u4e4b\u95f4\u6709 crate \u8fb9\u754c\u53ef\u4ee5\u5bfc\u81f4\u4ee3\u7801\u66f4\u6e05\u6670\uff0cAPI \u66f4\u660e\u786e\u5b9a\u4e49\u3002\u518d\u4e5f\u4e0d\u9700\u8981 `pub(crate)` \u4e86\uff01\\r\\n2. \u66f4\u5feb\u7684\u7f16\u8bd1\u3002\u901a\u8fc7\u5c06\u4e00\u4e2a\u5927 crate \u62c6\u5206\u6210\u51e0\u4e2a\u72ec\u7acb\u7684\u5c0f crate\uff0c\u5b83\u4eec\u53ef\u4ee5\u5e76\u884c\u7f16\u8bd1\u3002\\r\\n\\r\\n\u4f46\u95ee\u9898\u662f\uff0c\u5982\u679c\u4f60\u53ea\u4f7f\u7528\u4e00\u4e2a\u5f02\u6b65\u8fd0\u884c\u65f6\uff0c\u7f16\u5199 async-runtime-generic \u5e93\u6709\u4ec0\u4e48\u597d\u5904\u5462\uff1f\\r\\n\\r\\n1. \u53ef\u79fb\u690d\u6027\u3002\u4f60\u53ef\u4ee5\u8f7b\u677e\u5207\u6362\u5230\u4e0d\u540c\u7684\u5f02\u6b65\u8fd0\u884c\u65f6\uff0c\u6216\u8005 wasm\u3002\\r\\n2. \u6b63\u786e\u6027\u3002\u5bf9 `tokio` \u548c `async-std` \u540c\u65f6\u8fdb\u884c\u5e93\u7684\u6d4b\u8bd5\u53ef\u4ee5\u53d1\u73b0\u66f4\u591a\u7684\u9519\u8bef\uff0c\u5305\u62ec\u5e76\u53d1\u9519\u8bef\uff08\u7531\u4e8e\u6a21\u7cca\u7684\u4efb\u52a1\u6267\u884c\u987a\u5e8f\uff09\u4ee5\u53ca\u7531\u4e8e\u8bef\u89e3\u6216\u5f02\u6b65\u8fd0\u884c\u65f6\u5b9e\u73b0\u7ec6\u8282\u5bfc\u81f4\u7684\u201c\u672a\u5b9a\u4e49\u884c\u4e3a\u201d\u3002\\r\\n\\r\\n\u73b0\u5728\u4f60\u51b3\u5b9a\u7f16\u5199 async-runtime-generic \u5e93\uff01\u5728\u8fd9\u91cc\uff0c\u6211\u60f3\u5206\u4eab 3 \u79cd\u7b56\u7565\uff0c\u5e76\u9644\u4e0a Rust \u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u793a\u4f8b\u3002\\r\\n\\r\\n### \u65b9\u6cd5 1: \u5b9a\u4e49\u4f60\u81ea\u5df1\u7684 `AsyncRuntime` \u7279\u5f81\\r\\n\\r\\n\u4f7f\u7528 [`futures`](https://docs.rs/futures/latest/futures/) crate\uff0c\u4f60\u53ef\u4ee5\u7f16\u5199\u975e\u5e38\u901a\u7528\u7684\u5e93\u4ee3\u7801\uff0c\u4f46\u7f3a\u5c11\u4e00\u90e8\u5206\uff1a`time`\u2014\u2014\u8981 `sleep` \u6216 `timeout`\uff0c\u4f60\u5fc5\u987b\u4f9d\u8d56\u4e00\u4e2a\u5f02\u6b65\u8fd0\u884c\u65f6\u3002\u5982\u679c\u8fd9\u6b63\u662f\u4f60\u9700\u8981\u7684\uff0c\u4f60\u53ef\u4ee5\u5b9a\u4e49\u81ea\u5df1\u7684 `AsyncRuntime` \u7279\u5f81\uff0c\u5e76\u8981\u6c42\u4e0b\u6e38\u5b9e\u73b0\u5b83\u3002\u8fd9\u662f [rdkafka](https://docs.rs/rdkafka/latest/rdkafka/) \u91c7\u7528\u7684\u65b9\u6cd5\uff1a\\r\\n\\r\\n```rust\\r\\npub trait AsyncRuntime: Send + Sync + \'static {\\r\\n    type Delay: Future<Output = ()> + Send;\\r\\n\\r\\n    /// \u57fa\u672c\u4e0a\u662f\u8bf4\u8fd4\u56de\u503c\u5fc5\u987b\u662f\u4e00\u4e2a `Future`\\r\\n    fn sleep(duration: Duration) -> Self::Delay;\\r\\n}\\r\\n```\\r\\n\\r\\n\u4ee5\u4e0b\u662f\u5b83\u7684\u5b9e\u73b0\u65b9\u5f0f\uff1a\\r\\n\\r\\n```rust\\r\\nimpl AsyncRuntime for TokioRuntime {\\r\\n    type Delay = tokio::time::Sleep;\\r\\n\\r\\n    fn sleep(duration: Duration) -> Self::Delay {\\r\\n        tokio::time::sleep(duration)\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u4f7f\u7528\u4e0a\u8ff0\u5e93\u4ee3\u7801\u7684\u65b9\u6cd5\uff1a\\r\\n\\r\\n```rust\\r\\nasync fn operation<R: AsyncRuntime>() {\\r\\n    R::sleep(Duration::from_millis(1)).await;\\r\\n}\\r\\n```\\r\\n\\r\\n### \u65b9\u6cd5 2: \u5185\u90e8\u62bd\u8c61\u5f02\u6b65\u8fd0\u884c\u65f6\u5e76\u516c\u5f00\u7279\u6027\u6807\u5fd7\\r\\n\\r\\n\u8fd9\u662f [redis-rs](https://docs.rs/redis/latest/redis/) \u4f7f\u7528\u7684\u65b9\u6cd5\u3002\\r\\n\\r\\n\u8981\u5904\u7406\u7f51\u7edc\u8fde\u63a5\u6216\u6587\u4ef6\u53e5\u67c4\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 `AsyncRead` / `AsyncWrite` \u7279\u5f81\uff1a\\r\\n\\r\\n```rust\\r\\n#[async_trait]\\r\\npub(crate) trait AsyncRuntime: Send + Sync + \'static {\\r\\n    type Connection: AsyncRead + AsyncWrite + Send + Sync + \'static;\\r\\n\\r\\n    async fn connect(addr: SocketAddr) -> std::io::Result<Self::Connection>;\\r\\n}\\r\\n```\\r\\n\\r\\n\u7136\u540e\u4f60\u4e3a\u6bcf\u4e2a\u5f02\u6b65\u8fd0\u884c\u65f6\u5b9a\u4e49\u4e00\u4e2a\u6a21\u5757\uff1a\\r\\n\\r\\n```rust\\r\\n#[cfg(feature = \\"runtime-async-std\\")]\\r\\nmod async_std_impl;\\r\\n#[cfg(feature = \\"runtime-async-std\\")]\\r\\nuse async_std_impl::*;\\r\\n\\r\\n#[cfg(feature = \\"runtime-tokio\\")]\\r\\nmod tokio_impl;\\r\\n#[cfg(feature = \\"runtime-tokio\\")]\\r\\nuse tokio_impl::*;\\r\\n```\\r\\n\\r\\n\u6bcf\u4e2a\u6a21\u5757\u7684\u7ed3\u6784\u5982\u4e0b\uff1a\\r\\n\\r\\n```rust title=\\"tokio_impl.rs\\"\\r\\n#[async_trait]\\r\\nimpl AsyncRuntime for TokioRuntime {\\r\\n    type Connection = tokio::net::TcpStream;\\r\\n\\r\\n    async fn connect(addr: SocketAddr) -> std::io::Result<Self::Connection> {\\r\\n        tokio::net::TcpStream::connect(addr).await\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u4f7f\u7528\u4e0a\u8ff0\u5e93\u4ee3\u7801\u7684\u65b9\u6cd5\uff1a\\r\\n\\r\\n```rust\\r\\nasync fn operation<R: AsyncRuntime>(conn: R::Connection) {\\r\\n    conn.write(b\\"some bytes\\").await;\\r\\n}\\r\\n```\\r\\n\\r\\n### \u65b9\u6cd5 3: \u7ef4\u62a4\u4e00\u4e2a\u5f02\u6b65\u8fd0\u884c\u65f6\u62bd\u8c61 crate\\r\\n\\r\\n\u8fd9\u662f [SQLx](https://docs.rs/crate/sqlx-rt) \u548c [SeaStreamer](https://docs.rs/sea-streamer-runtime/latest/sea_streamer_runtime/) \u4f7f\u7528\u7684\u65b9\u6cd5\u3002\\r\\n\\r\\n\u57fa\u672c\u4e0a\uff0c\u5c06\u4f60\u4f1a\u4f7f\u7528\u7684\u6240\u6709\u5f02\u6b65\u8fd0\u884c\u65f6 API \u805a\u5408\u5728\u4e00\u8d77\uff0c\u7f16\u5199\u4e00\u4e2a\u5305\u88c5\u5e93\u3002\u8fd9\u53ef\u80fd\u5f88\u7e41\u7410\uff0c\u4f46\u5b83\u4e5f\u6709\u4e00\u4e2a\u597d\u5904\uff0c\u5c31\u662f\u5728 *\u4e00\u4e2a\u5730\u65b9* \u4e3a *\u4f60\u7684* \u9879\u76ee\u6307\u5b9a *\u6240\u6709\u4e0e\u5f02\u6b65\u8fd0\u884c\u65f6\u7684\u4ea4\u4e92*\uff0c\u8fd9\u53ef\u80fd\u5bf9\u8c03\u8bd5\u6216\u8ffd\u8e2a\u5f88\u6709\u5e2e\u52a9\u3002\\r\\n\\r\\n\u4f8b\u5982\uff0c\u5f02\u6b65 `Task` \u5904\u7406\uff1a\\r\\n\\r\\n```rust title=\\"common-async-runtime/tokio_task.rs\\"\\r\\npub use tokio::task::{JoinHandle as TaskHandle};\\r\\n\\r\\npub fn spawn_task<F, T>(future: F) -> TaskHandle<T>\\r\\nwhere\\r\\n    F: Future<Output = T> + Send + \'static,\\r\\n    T: Send + \'static,\\r\\n{\\r\\n    tokio::task::spawn(future)\\r\\n}\\r\\n```\\r\\n\\r\\n`async-std` \u7684\u4efb\u52a1 API \u6709\u4e9b\u4e0d\u540c\uff08\u5728 `tokio` \u4e2d\u8f93\u51fa\u4e3a `Result<T, JoinError>`\uff09\uff0c\u8fd9\u9700\u8981\u4e00\u4e9b\u6837\u677f\u4ee3\u7801\uff1a\\r\\n\\r\\n```rust title=\\"common-async-runtime/async_std_task.rs\\"\\r\\n/// \u4e0e tokio \u7684 API \u517c\u5bb9\u7684\u63a5\u53e3\\r\\npub struct TaskHandle<T>(async_std::task::JoinHandle<T>);\\r\\n\\r\\npub fn spawn_task<F, T>(future: F) -> TaskHandle<T>\\r\\nwhere\\r\\n    F: Future<Output = T> + Send + \'static,\\r\\n    T: Send + \'static,\\r\\n{\\r\\n    TaskHandle(async_std::task::spawn(future))\\r\\n}\\r\\n\\r\\n#[derive(Debug)]\\r\\npub struct JoinError;\\r\\n\\r\\nimpl std::error::Error for JoinError {}\\r\\n\\r\\n// \u8fd9\u57fa\u672c\u4e0a\u662f\u5982\u4f55\u5305\u88c5\u4e00\u4e2a `Future`\\r\\nimpl<T> Future for TaskHandle<T> {\\r\\n    type Output = Result<T, JoinError>;\\r\\n\\r\\n    fn poll(\\r\\n        mut self: std::pin::Pin<&mut Self>,\\r\\n        cx: &mut std::task::Context<\'_>,\\r\\n    ) -> std::task::Poll<Self::Output> {\\r\\n        match self.0.poll_unpin(cx) {\\r\\n            std::task::Poll::Ready(res) => std::task::Poll::Ready(Ok(res)),\\r\\n            std::task::Poll::Pending => std::task::Poll::Pending,\\r\\n        }\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u5728\u5e93\u7684 `Cargo.toml` \u4e2d\uff0c\u4f60\u53ea\u9700\u5c06 `common-async-runtime` \u4f5c\u4e3a\u4f9d\u8d56\u5305\u62ec\u3002\u8fd9\u4f7f\u4f60\u7684\u5e93\u4ee3\u7801 \\"\u7eaf\u51c0\\"\uff0c\u56e0\u4e3a\u9009\u62e9\u5f02\u6b65\u8fd0\u884c\u65f6\u662f\u7531\u4e0b\u6e38\u63a7\u5236\u7684\u3002\u7c7b\u4f3c\u4e8e\u65b9\u6cd5 1\uff0c\u8fd9\u4e2a crate \u53ef\u4ee5\u5728\u6ca1\u6709\u4efb\u4f55\u5f02\u6b65\u8fd0\u884c\u65f6\u7684\u60c5\u51b5\u4e0b\u7f16\u8bd1\uff0c\u8fd9\u5f88\u597d\uff01\\r\\n\\r\\n### \u7ed3\u8bba\\r\\n\\r\\n\u795d\u7f16\u7a0b\u6109\u5feb\uff01\u6b22\u8fce\u4e0e [\u793e\u533a](https://github.com/SeaQL/sea-streamer/discussions) \u5206\u4eab\u4f60\u7684\u7ecf\u9a8c\u3002"},{"id":"2023-09-06-whats-new-in-sea-streamer-0.3","metadata":{"permalink":"/blog/2023-09-06-whats-new-in-sea-streamer-0.3","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-09-06-whats-new-in-sea-streamer-0.3.md","source":"@site/blog/2023-09-06-whats-new-in-sea-streamer-0.3.md","title":"SeaStreamer 0.3 \u4e2d\u7684\u65b0\u529f\u80fd","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u53d1\u5e03\u4e86 SeaStreamer 0.3.x!","date":"2023-09-06T00:00:00.000Z","formattedDate":"September 6, 2023","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":6.63,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL \u56e2\u961f","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2023-09-06-whats-new-in-sea-streamer-0.3","title":"SeaStreamer 0.3 \u4e2d\u7684\u65b0\u529f\u80fd","author":"Chris Tsang","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","image":"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png","tags":["news"]},"prevItem":{"title":"\u7f16\u5199 Async \u8fd0\u884c\u65f6\u901a\u7528\u5e93","permalink":"/blog/2023-11-22-async-runtime-generic"},"nextItem":{"title":"\u5ba3\u5e03 SeaORM 0.12","permalink":"/blog/2023-08-12-announcing-seaorm-0.12"}},"content":"<a href=\\"https://www.sea-ql.org/SeaStreamer/\\"><img src=\\"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png\\" /></a>\\r\\n\\r\\n\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u53d1\u5e03\u4e86 SeaStreamer [`0.3.x`](https://github.com/SeaQL/sea-streamer/releases/0.3.0)!\\r\\n\\r\\n## \u6587\u4ef6\u540e\u7aef\\r\\n\\r\\nSeaStreamer `0.3` \u7684\u4e00\u4e2a\u91cd\u8981\u66f4\u65b0\u662f\u6587\u4ef6\u540e\u7aef\u3002\u5b83\u5b9e\u73b0\u4e86\u76f8\u540c\u7684\u9ad8\u7ea7 MPMC API\uff0c\u5141\u8bb8\u6587\u4ef6\u4e4b\u95f4\u7684\u6d41\u5f0f\u4f20\u8f93\u3002\u6709\u591a\u79cd\u4f7f\u7528\u573a\u666f\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u4ee5\u7528\u4e8e\u4ece Redis/Kafka \u8f6c\u50a8\u6570\u636e\u5e76\u5728\u672c\u5730\u5904\u7406\uff0c\u6216\u4f5c\u4e3a\u5b58\u50a8\u6216\u4f20\u8f93\u7684\u4e2d\u95f4\u6587\u4ef6\u683c\u5f0f\u3002\\r\\n\\r\\nSeaStreamer \u6587\u4ef6\u683c\u5f0f `.ss` \u975e\u5e38\u7b80\u5355\u3002\u5b83\u975e\u5e38\u50cf `.ndjson`\uff0c\u4f46\u5c5e\u4e8e\u4e8c\u8fdb\u5236\u683c\u5f0f\u3002\u6587\u4ef6\u683c\u5f0f\u7684\u8bbe\u8ba1\u76ee\u6807\u5982\u4e0b\uff1a\\r\\n\\r\\n1. \u652f\u6301\u4e8c\u8fdb\u5236\u6570\u636e\u800c\u6ca1\u6709\u7f16\u7801\u5f00\u9500\\r\\n2. \u9ad8\u6548\u5730\u8fdb\u884c\u5927\u8f6c\u50a8\u7684\u56de\u6eaf/\u67e5\u627e\\r\\n3. \u6d41\u5f0f\u53cb\u597d\u6027 - \u6587\u4ef6\u53ef\u4ee5\u88ab\u622a\u65ad\u800c\u4e0d\u4e22\u5931\u5b8c\u6574\u6027\\r\\n\\r\\n\u8ba9\u6211\u8be6\u7ec6\u89e3\u91ca\u3002\\r\\n\\r\\n\u9996\u5148\uff0cSeaStreamer \u6587\u4ef6\u662f\u4e00\u4e2a\u5bb9\u5668\u683c\u5f0f\u3002\u5b83\u53ea\u5173\u6ce8\u6d88\u606f\u6d41\u548c\u6846\u67b6\uff0c\u800c\u4e0d\u5173\u6ce8\u6709\u6548\u8d1f\u8f7d\u3002\u5b83\u662f\u4e3a\u4e86\u4e0e\u50cf Protobuf \u6216 BSON \u8fd9\u6837\u7684\u4e8c\u8fdb\u5236\u6d88\u606f\u683c\u5f0f\u914d\u5bf9\u800c\u8bbe\u8ba1\u7684\u3002\\r\\n\\r\\n### \u65e0\u7f16\u7801\\r\\n\\r\\nJSON \u548c CSV \u662f\u5f88\u597d\u7684\u7eaf\u6587\u672c\u6587\u4ef6\u683c\u5f0f\uff0c\u4f46\u5b83\u4eec\u5bf9\u4e8c\u8fdb\u5236\u4e0d\u53cb\u597d\u3002\u901a\u5e38\uff0c\u4e3a\u4e86\u7f16\u7801\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u4eba\u4eec\u4f1a\u4f7f\u7528 `base64`\u3002\u8fd9\u4f1a\u4ea7\u751f\u9ad8\u6602\u7684\u7f16\u7801/\u89e3\u7801\u5f00\u9500\u3002\u5728\u4e8c\u8fdb\u5236\u534f\u8bae\u4e2d\uff0c*\u5206\u9694\u7b26* \u901a\u5e38\u7528\u4e8e\u8868\u793a\u6d88\u606f\u8fb9\u754c\u3002\u56e0\u6b64\uff0c\u9700\u8981\u5b57\u8282\u586b\u5145\u6765\u8f6c\u4e49\u5b57\u8282\u3002\\r\\n\\r\\n\u5728 SeaStreamer \u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u5b8c\u5168\u907f\u514d\u7f16\u7801\u5f00\u9500\u3002\u6709\u6548\u8d1f\u8f7d\u5e94\u8be5\u9010\u5b57\u5199\u5165\u78c1\u76d8\u3002\u56e0\u6b64\uff0c\u6587\u4ef6\u683c\u5f0f\u56f4\u7ed5\u6784\u9020\u6d88\u606f\u5e27\u548c\u653e\u7f6e\u6821\u9a8c\u548c\u6765\u786e\u4fdd\u6570\u636e\u88ab\u6b63\u786e\u89e3\u91ca\u3002\\r\\n\\r\\n### \u9ad8\u6548\u67e5\u627e\\r\\n\\r\\n\u57fa\u4e8e\u5206\u9694\u7b26\u7684\u534f\u8bae\u6709\u4e00\u4e2a\u4f18\u70b9\uff1a\u5b57\u8282\u6d41\u53ef\u4ee5\u968f\u673a\u67e5\u627e\uff0c\u6211\u4eec\u603b\u662f\u53ef\u4ee5\u65e0\u969c\u788d\u5730\u8bfb\u53d6\u4e0b\u4e00\u4e2a\u6d88\u606f\u3002\\r\\n\\r\\n\u7531\u4e8e SeaStreamer \u4e0d\u4f9d\u8d56\u5206\u9694\u7b26\uff0c\u6211\u4eec\u65e0\u6cd5\u8f7b\u6613\u5730\u5728\u968f\u673a\u67e5\u627e\u540e\u5bf9\u9f50\u5230\u6d88\u606f\u5e27\u3002\u6211\u4eec\u901a\u8fc7\u5728\u6574\u4e2a\u6587\u4ef6\u7684\u56fa\u5b9a\u4f4d\u7f6e\u5b9a\u671f\u653e\u7f6e\u4fe1\u6807\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u5047\u8bbe `\u4fe1\u6807\u95f4\u9694` \u4e3a `1024`\uff0c\u90a3\u4e48\u5728\u7b2c 1024 \u4e2a\u5b57\u8282\u3001\u7b2c 2048 \u4e2a\u5b57\u8282\u7b49\u4f4d\u7f6e\u4f1a\u6709\u4e00\u4e2a\u4fe1\u6807\u3002\u7136\u540e\uff0c\u6bcf\u6b21\u6211\u4eec\u60f3\u8981\u67e5\u627e\u4e00\u4e2a\u968f\u673a\u4f4d\u7f6e\u65f6\uff0c\u6211\u4eec\u5c31\u4f1a\u67e5\u627e\u6700\u63a5\u8fd1\u7684 N * 1024 \u5b57\u8282\u5e76\u4ece\u90a3\u91cc\u5f00\u59cb\u8bfb\u53d6\u3002\\r\\n\\r\\n\u8fd9\u4e9b\u4fe1\u6807\u4e5f\u5145\u5f53\u7d22\u5f15\uff1a\u5b83\u4eec\u5305\u542b\u6bcf\u4e2a\u5355\u72ec\u6d41\u7684\u6458\u8981\u3002\u56e0\u6b64\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u7279\u5b9a\u7684\u6d41\u952e\u548c\u5e8f\u5217\u53f7\uff08\u6216\u65f6\u95f4\u6233\uff09\u8fdb\u884c\u641c\u7d22\uff0cSeaStreamer \u53ef\u4ee5\u901a\u8fc7\u8bfb\u53d6\u4fe1\u6807\u5feb\u901f\u5b9a\u4f4d\u6d88\u606f\u3002\u65e0\u8bba\u6d41\u4e2d\u7684\u6d88\u606f\u662f\u7a00\u758f\u7684\u8fd8\u662f\u5bc6\u96c6\u7684\uff0c\u8fd9\u4e00\u70b9\u90fd\u6ca1\u6709\u5173\u7cfb\uff01\\r\\n\\r\\n### \u6d41\u5f0f\u53cb\u597d\u6027\\r\\n\\r\\n\u622a\u65ad\u6587\u4ef6\u5e94\u8be5\u59cb\u7ec8\u662f\u5b89\u5168\u7684\u3002\u5c06\u6587\u4ef6\u5206\u5272\u6210\u5757\u5e94\u8be5\u76f8\u5bf9\u7b80\u5355\u3002\u6211\u4eec\u5e94\u8be5\u80fd\u591f\u5224\u65ad\u6570\u636e\u662f\u5426\u635f\u574f\u3002\\r\\n\\r\\nSeaStreamer \u901a\u8fc7\u4e3a\u6bcf\u4e2a\u6d88\u606f\u8ba1\u7b97\u6821\u9a8c\u548c\uff0c\u4ee5\u53ca\u6bcf\u4e2a\u6d41\u7684\u6821\u9a8c\u548c\u7684\u8fd0\u884c\u6821\u9a8c\u548c\u6765\u5b9e\u73b0\u8fd9\u4e00\u76ee\u6807\u3002\u76ee\u524d\u8fd9\u5e76\u4e0d\u662f\u5f3a\u5236\u8981\u6c42\uff0c\u4f46\u7406\u8bba\u4e0a\u6211\u4eec\u53ef\u4ee5\u68c0\u6d4b\u5230\u6d41\u4e2d\u662f\u5426\u7f3a\u5c11\u4efb\u4f55\u6d88\u606f\u3002\\r\\n\\r\\n#### \u7efc\u8ff0\\r\\n\\r\\n\u8fd9\u4e2a\u6587\u4ef6\u683c\u5f0f\u4e5f\u6613\u4e8e\u5728\u4e0d\u540c\u8bed\u8a00\u4e2d\u5b9e\u73b0\uff0c\u56e0\u4e3a\u6211\u4eec\u521a\u521a\u5728\uff08\u5b9e\u9a8c\u6027\uff09 [TypeScript \u4e2d](https://github.com/SeaQL/sea-streamer/tree/main/sea-streamer-file/sea-streamer-file-reader) \u7f16\u5199\u4e86\u4e00\u4e2a\u8bfb\u53d6\u5668\u3002\\r\\n\\r\\n\u5c31\u8fd9\u4e9b\uff01\u5982\u679c\u4f60\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u770b\u770b [\u683c\u5f0f\u63cf\u8ff0](https://docs.rs/sea-streamer-file/latest/sea_streamer_file/format/index.html)\u3002\\r\\n\\r\\n## Redis \u540e\u7aef\\r\\n\\r\\nRedis Streams \u88ab\u4f4e\u4f30\u4e86\uff01\u5b83\u4eec\u5177\u6709\u9ad8\u541e\u5410\u91cf\u548c\u5e76\u53d1\u6027\uff0c\u6700\u9002\u5408\u5728\u540c\u4e00\u4e3b\u673a\u4e0a\u6216\u9760\u8fd1\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u975e\u6301\u4e45\u6d41\u5904\u7406\u3002\\r\\n\\r\\n\u969c\u788d\u53ef\u80fd\u5728\u4e8e\u5e93\u652f\u6301\u3002Redis Streams \u7684 API \u76f8\u5bf9\u4f4e\u7ea7\uff0c\u5e76\u4e14\u6ca1\u6709\u5f88\u591a\u9ad8\u7ea7\u5e93\u6765\u5e2e\u52a9\u7f16\u7a0b\uff0c\u800c Kafka \u5219\u6709\u591a\u79cd\u5b98\u65b9\u7f16\u7a0b\u5e93\u3002\\r\\n\\r\\n\u9677\u9631\u662f\uff0c\u4f7f\u7528\u539f\u59cb Redis API \u5f88\u96be\u6700\u5927\u5316\u5e76\u53d1\u3002\u9996\u5148\uff0c\u4f60\u9700\u8981\u5bf9 `XADD` \u547d\u4ee4\u8fdb\u884c\u6d41\u6c34\u7ebf\u5904\u7406\u3002\u4f60\u8fd8\u9700\u8981\u5b9a\u65f6\u548c\u6279\u91cf\u5904\u7406 `XACK`\uff0c\u4ee5\u514d\u963b\u585e\u8bfb\u53d6\u548c\u8ba1\u7b97\u3002\u5f53\u7136\uff0c\u4f60\u60f3\u5c06\u8bfb\u53d6\u548c\u5199\u5165\u5206\u5f00\u5230\u4e0d\u540c\u7684\u7ebf\u7a0b\u4e2d\u3002\\r\\n\\r\\nSeaStreamer \u4e3a\u4f60\u6253\u7834\u4e86\u8fd9\u4e9b\u969c\u788d\uff0c\u63d0\u4f9b\u4e86\u7c7b\u4f3c Kafka \u7684 API \u4f53\u9a8c\uff01\\r\\n\\r\\n## \u57fa\u51c6\u6d4b\u8bd5\\r\\n\\r\\n\u5728 `0.3` \u4e2d\uff0c\u6211\u4eec\u8fdb\u884c\u4e86\u4e00\u4e9b\u4f18\u5316\uff0c\u4ee5\u63d0\u9ad8 Redis \u548c\u6587\u4ef6\u540e\u7aef\u7684\u541e\u5410\u91cf\u3002\u6211\u4eec\u5c06\u521d\u59cb\u57fa\u51c6\u8bbe\u7f6e\u4e3a\u6bcf\u79d2 100,000 \u6761\u6d88\u606f\uff0c\u5e0c\u671b\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u80fd\u591f\u8fdb\u4e00\u6b65\u6539\u8fdb\u3002\\r\\n\\r\\n\u6211\u4eec\u7684 [\u5fae\u57fa\u51c6\u6d4b\u8bd5](https://github.com/SeaQL/sea-streamer/tree/main/benchmark) \u6d89\u53ca\u4e00\u4e2a\u7b80\u5355\u7684\u7a0b\u5e8f\uff0c\u751f\u6210\u6216\u6d88\u8d39 100,000 \u6761\u6d88\u606f\uff0c\u5176\u4e2d\u6bcf\u6761\u6d88\u606f\u7684\u6709\u6548\u8f7d\u8377\u4e3a 256 \u5b57\u8282\u3002\\r\\n\\r\\n\u5bf9\u4e8e Redis\uff0c\u5b83\u5728\u540c\u4e00\u53f0\u8ba1\u7b97\u673a\u4e0a\u7684 Docker \u4e2d\u8fd0\u884c\u3002\u5728\u6211\u8fd9\u53f0\u4e0d\u7b97\u51fa\u8272\u7684\u642d\u8f7d\u7b2c\u5341\u4ee3\u82f1\u7279\u5c14 i7 \u7684\u7b14\u8bb0\u672c\u7535\u8111\u4e0a\uff0c\u6570\u5b57\u5927\u6982\u5982\u4e0b\uff1a\\r\\n\\r\\n#### \u751f\u4ea7\u8005\\r\\n\\r\\n```\\r\\nredis    0.5s\\r\\nstdio    0.5s\\r\\nfile     0.5s\\r\\n```\\r\\n\\r\\n#### \u6d88\u8d39\u8005\\r\\n\\r\\n```\\r\\nredis    1.0s\\r\\nstdio    1.0s\\r\\nfile     1.1s\\r\\n```\\r\\n\\r\\n\u8fd9\u5b9e\u9645\u4e0a\u610f\u5473\u7740\u6211\u4eec\u5728 *\u751f\u4ea7* \u6bcf\u79d2 100,000 \u6761\u6d88\u606f\u7684\u9886\u57df\u4e2d\u6e38\u5203\u6709\u4f59\uff0c\u4f46\u4ec5\u80fd\u5728 1 \u79d2\u5185 *\u6d88\u8d39* 100,000 \u6761\u6d88\u606f\u3002\u6b22\u8fce\u63d0\u51fa\u6027\u80fd\u6539\u8fdb\u5efa\u8bae\uff01\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL.org \u662f\u4e00\u4e2a\u7531\u70ed\u60c5\u7684\u5f00\u53d1\u8005\u8fd0\u8425\u7684\u72ec\u7acb\u5f00\u6e90\u7ec4\u7ec7\u3002\u5982\u679c\u4f60\u559c\u6b22\u6211\u4eec\u7684\u9879\u76ee\uff0c\u8bf7 \u2b50 \u5173\u6ce8\u5e76\u5206\u4eab\u6211\u4eec\u7684\u4ee3\u7801\u5e93\u3002\u5982\u679c\u4f60\u611f\u5230\u6177\u6168\uff0c\u53ef\u4ee5\u901a\u8fc7 [GitHub Sponsor](https://github.com/sponsors/SeaQL) \u8fdb\u884c\u5c0f\u989d\u6350\u8d60\uff0c\u8fd9\u5c06\u5f97\u5230\u6781\u5927\u7684\u8d5e\u8d4f\uff0c\u5e76\u5bf9\u652f\u6301\u8be5\u7ec4\u7ec7\u6709\u5f88\u5927\u5e2e\u52a9 \ud83d\udea2\u3002\\r\\n\\r\\nSeaStreamer \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u4f60\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u5efa\u8bbe \ud83e\udd80\u3002"},{"id":"2023-08-12-announcing-seaorm-0.12","metadata":{"permalink":"/blog/2023-08-12-announcing-seaorm-0.12","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-08-12-announcing-seaorm-0.12.md","source":"@site/blog/2023-08-12-announcing-seaorm-0.12.md","title":"\u5ba3\u5e03 SeaORM 0.12","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u5ba3\u5e03 SeaORM 0.12!","date":"2023-08-12T00:00:00.000Z","formattedDate":"August 12, 2023","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":10.015,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png"}],"frontMatter":{"slug":"2023-08-12-announcing-seaorm-0.12","title":"\u5ba3\u5e03 SeaORM 0.12","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"SeaStreamer 0.3 \u4e2d\u7684\u65b0\u529f\u80fd","permalink":"/blog/2023-09-06-whats-new-in-sea-streamer-0.3"},"nextItem":{"title":"\u4ecb\u7ecd SeaStreamer \ud83c\udf0a","permalink":"/blog/2023-04-03-intro-sea-streamer"}},"content":"<img alt=\\"SeaORM 0.12 Banner\\" src=\\"/blog/img/SeaORM%2012%20Banner.png\\"/>\\r\\n\\r\\n\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u5ba3\u5e03 SeaORM [`0.12`](https://github.com/SeaQL/sea-orm/releases/tag/0.12.1)!\\r\\n\\r\\n\u6211\u4eec\u4ecd\u7136\u8bb0\u5f97\u4e24\u5e74\u524d\u9996\u6b21\u5411 Rust \u793e\u533a [\u4ecb\u7ecd SeaORM](https://www.sea-ql.org/blog/2021-09-20-introducing-sea-orm/) \u7684\u65f6\u5019\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u5728 Rust \u4e2d\u6784\u5efa\u5f02\u6b65\u6570\u636e\u5e93\u9a71\u52a8\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\\r\\n\\r\\n\u4eca\u5929\uff0c\u8bb8\u591a\u5f00\u6e90\u9879\u76ee\u3001[\u4e00\u4e9b\u521d\u521b\u516c\u53f8](https://www.sea-ql.org/SeaORM/index.html#our-users) \u548c\u8bb8\u591a\u5176\u4ed6\u95ed\u6e90\u9879\u76ee\u90fd\u5728\u4f7f\u7528 SeaORM\u3002\u611f\u8c22\u6240\u6709\u53c2\u4e0e\u548c\u8d21\u732e\u7684\u4eba\uff01\\r\\n\\r\\n<img alt=\\"SeaORM Star History\\" src=\\"/blog/img/star-history-sea-orm-2023.png\\"/>\\r\\n\\r\\n## \u65b0\u7279\u6027 \ud83c\udf1f\\r\\n\\r\\n### \ud83e\udded [Seaography](https://github.com/SeaQL/seaography): GraphQL \u96c6\u6210\uff08\u9884\u89c8\uff09\\r\\n\\r\\n<img alt=\\"Seaography example\\" src=\\"/blog/img/Seaography%20example.png\\"/>\\r\\n\\r\\nSeaography \u662f\u4e00\u4e2a\u57fa\u4e8e SeaORM \u7684 GraphQL \u6846\u67b6\u3002\u5728 `0.12` \u7248\u672c\u4e2d\uff0cSeaography \u96c6\u6210\u5df2\u5185\u7f6e\u4e8e `sea-orm` \u4e2d\u3002Seaography \u5141\u8bb8\u60a8\u5feb\u901f\u6784\u5efa GraphQL \u89e3\u6790\u5668\u3002\u53ea\u9700\u51e0\u6761\u547d\u4ee4\uff0c\u60a8\u5c31\u53ef\u4ee5\u4ece SeaORM \u5b9e\u4f53\u542f\u52a8 GraphQL \u670d\u52a1\u5668\uff01\\r\\n\\r\\n\u867d\u7136 Seaography \u7684\u5f00\u53d1\u8fd8\u5904\u4e8e\u65e9\u671f\u9636\u6bb5\uff0c\u4f46\u5728\u539f\u578b\u8bbe\u8ba1\u548c\u6784\u5efa\u5185\u90e8\u4f7f\u7528\u7684\u7ba1\u7406\u9762\u677f\u65f6\u975e\u5e38\u6709\u7528\u3002\\r\\n\\r\\n[\u9605\u8bfb\u6587\u6863](https://www.sea-ql.org/SeaORM/docs/seaography/seaography-intro/)\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002\\r\\n\\r\\n### \u65b0\u589e\u5b8f [`DerivePartialModel`](https://docs.rs/sea-orm/0.12.2/sea_orm/derive.DerivePartialModel.html)\\r\\n\\r\\n[#1597](https://github.com/SeaQL/sea-orm/pull/1597) \u73b0\u5728\u60a8\u53ef\u4ee5\u8f7b\u677e\u6267\u884c\u81ea\u5b9a\u4e49\u9009\u62e9\uff0c\u4ec5\u67e5\u8be2\u6240\u9700\u7684\u5217\u3002\\r\\n\\r\\n```rust\\r\\n#[derive(DerivePartialModel, FromQueryResult)]\\r\\n#[sea_orm(entity = \\"Cake\\")]\\r\\nstruct PartialCake {\\r\\n    name: String,\\r\\n    #[sea_orm(\\r\\n        from_expr = r#\\"SimpleExpr::FunctionCall(Func::upper(Expr::col((Cake, cake::Column::Name))))\\"#\\r\\n    )]\\r\\n    name_upper: String,\\r\\n}\\r\\n\\r\\nassert_eq!(\\r\\n    cake::Entity::find()\\r\\n        .into_partial_model::<PartialCake>()\\r\\n        .into_statement(DbBackend::Sqlite)\\r\\n        .to_string(),\\r\\n    r#\\"SELECT \\"cake\\".\\"name\\", UPPER(\\"cake\\".\\"name\\") AS \\"name_upper\\" FROM \\"cake\\"\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n### \u65b0\u589e [`Select::find_with_linked`](https://docs.rs/sea-orm/0.12.2/sea_orm/query/struct.Select.html#method.find_with_linked)\\r\\n\\r\\n[#1728](https://github.com/SeaQL/sea-orm/pull/1728), [#1743](https://github.com/SeaQL/sea-orm/pull/1743) \u4e0e `find_with_related` \u7c7b\u4f3c\uff0c\u60a8\u73b0\u5728\u53ef\u4ee5\u9009\u62e9\u76f8\u5173\u5b9e\u4f53\u5e76\u5408\u5e76\u6a21\u578b\u3002\\r\\n\\r\\n```rust\\r\\n// \u8003\u8651\u4ee5\u4e0b\u94fe\u63a5\\r\\npub struct BakedForCustomer;\\r\\n\\r\\nimpl Linked for BakedForCustomer {\\r\\n    type FromEntity = Entity;\\r\\n\\r\\n    type ToEntity = super::customer::Entity;\\r\\n\\r\\n    fn link(&self) -> Vec<RelationDef> {\\r\\n        vec![\\r\\n            super::cakes_bakers::Relation::Baker.def().rev(),\\r\\n            super::cakes_bakers::Relation::Cake.def(),\\r\\n            super::lineitem::Relation::Cake.def().rev(),\\r\\n            super::lineitem::Relation::Order.def(),\\r\\n            super::order::Relation::Customer.def(),\\r\\n        ]\\r\\n    }\\r\\n}\\r\\n\\r\\nlet res: Vec<(baker::Model, Vec<customer::Model>)> = Baker::find()\\r\\n    .find_with_linked(baker::BakedForCustomer)\\r\\n    .order_by_asc(baker::Column::Id)\\r\\n    .all(db)\\r\\n    .await?;\\r\\n```\\r\\n\\r\\n### \u65b0\u589e [`DeriveValueType`](https://docs.rs/sea-orm/latest/sea_orm/derive.DeriveValueType.html) \u6d3e\u751f\u5b8f\uff0c\u7528\u4e8e [\u81ea\u5b9a\u4e49\u5305\u88c5\u7c7b\u578b](https://www.sea-ql.org/SeaORM/docs/generate-entity/newtype/)\\r\\n\\r\\n[#1720](https://github.com/SeaQL/sea-orm/pull/1720) \u73b0\u5728\u60a8\u53ef\u4ee5\u8f7b\u677e\u4f7f\u7528\u65b0\u7c7b\u578b\u3002\\r\\n\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"custom_value_type\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    pub number: Integer,\\r\\n    // \u4ec5\u652f\u6301 Postgres\\r\\n    pub str_vec: StringVec,\\r\\n}\\r\\n\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveValueType)]\\r\\npub struct Integer(i32);\\r\\n\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveValueType)]\\r\\npub struct StringVec(pub Vec<String>);\\r\\n```\\r\\n\\r\\n\u8fd9\u4e3a\u60a8\u8282\u7701\u4e86\u4ee5\u4e0b\u6837\u677f\u4ee3\u7801\uff1a\\r\\n\\r\\n```rust\\r\\nimpl std::convert::From<StringVec> for Value { .. }\\r\\n\\r\\nimpl TryGetable for StringVec {\\r\\n    fn try_get_by<I: ColIdx>(res: &QueryResult, idx: I)\\r\\n        -> Result<Self, TryGetError> { .. }\\r\\n}\\r\\n\\r\\nimpl ValueType for StringVec {\\r\\n    fn try_from(v: Value) -> Result<Self, ValueTypeErr> { .. }\\r\\n\\r\\n    fn type_name() -> String { \\"StringVec\\".to_owned() }\\r\\n\\r\\n    fn array_type() -> ArrayType { ArrayType::String }\\r\\n\\r\\n    fn column_type() -> ColumnType { ColumnType::String(None) }\\r\\n}\\r\\n```\\r\\n\\r\\n## \u589e\u5f3a\u529f\u80fd \ud83c\udd99\\r\\n\\r\\n#### [#1433](https://github.com/SeaQL/sea-orm/pull/1433) \u94fe\u5f0f AND / OR \u8fde\u63a5\u6761\u4ef6\\r\\n\\r\\n\u4e3a [`DeriveRelation`](https://docs.rs/sea-orm/0.12.2/sea_orm/derive.DeriveRelation.html) \u65b0\u589e\u4e86\u66f4\u591a\u5b8f\u5c5e\u6027\u3002\\r\\n\\r\\n```rust\\r\\n// \u5b9e\u4f53\u6587\u4ef6\\r\\n\\r\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\r\\npub enum Relation {\\r\\n    // \u9ed8\u8ba4\u662f `JOIN `fruit` ON `cake`.`id` = `fruit`.`cake_id` AND `fruit`.`name` LIKE \'%tropical%\'`\\r\\n    #[sea_orm(\\r\\n        has_many = \\"super::fruit::Entity\\",\\r\\n        on_condition = r#\\"super::fruit::Column::Name.like(\\"%tropical%\\")\\"#\\r\\n    )]\\r\\n    TropicalFruit,\\r\\n    // \u6307\u5b9a `condition_type = \\"any\\"` \u6765\u8986\u76d6\u5b83\uff0c\u73b0\u5728\u53d8\u4e3a\\r\\n    // `JOIN `fruit` ON `cake`.`id` = `fruit`.`cake_id` OR `fruit`.`name` LIKE \'%tropical%\'`\\r\\n    #[sea_orm(\\r\\n        has_many = \\"super::fruit::Entity\\",\\r\\n        on_condition = r#\\"super::fruit::Column::Name.like(\\"%tropical%\\")\\"#\\r\\n        condition_type = \\"any\\",\\r\\n    )]\\r\\n    OrTropicalFruit,\\r\\n}\\r\\n```\\r\\n\\r\\n#### [#1508](https://github.com/SeaQL/sea-orm/pull/1508) \u652f\u6301\u5177\u6709 12 \u4e2a\u5143\u7d20\u7684\u590d\u5408\u4e3b\u952e\u7684\u5b9e\u4f53\\r\\n\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"primary_key_of_12\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key, auto_increment = false)]\\r\\n    pub id_1: String,\\r\\n    ...\\r\\n    #[sea_orm(primary_key, auto_increment = false)]\\r\\n    pub id_12: bool,\\r\\n}\\r\\n```\\r\\n\\r\\n#### [#1677](https://github.com/SeaQL/sea-orm/pull/1677) \u65b0\u589e [`UpdateMany::exec_with_returning()`](https://docs.rs/sea-orm/0.12.2/sea_orm/query/struct.UpdateMany.html#method.exec_with_returning)\\r\\n\\r\\n```rust\\r\\nlet models: Vec<Model> = Entity::update_many()\\r\\n    .col_expr(Column::Values, Expr::expr(..))\\r\\n    .exec_with_returning(db)\\r\\n    .await?;\\r\\n```\\r\\n\\r\\n#### [#1511](https://github.com/SeaQL/sea-orm/pull/1511) \u65b0\u589e [`MigratorTrait::migration_table_name()`](https://docs.rs/sea-orm-migration/0.12.2/sea_orm_migration/migrator/trait.MigratorTrait.html#method.migration_table_name) \u65b9\u6cd5\u6765\u914d\u7f6e\u8fc1\u79fb\u8868\u7684\u540d\u79f0\\r\\n\\r\\n```rust\\r\\n#[async_trait::async_trait]\\r\\nimpl MigratorTrait for Migrator {\\r\\n    // \u8986\u76d6\u8fc1\u79fb\u8868\u7684\u540d\u79f0\\r\\n    fn migration_table_name() -> sea_orm::DynIden {\\r\\n        Alias::new(\\"override_migration_table_name\\").into_iden()\\r\\n    }\\r\\n    ...\\r\\n}\\r\\n```\\r\\n\\r\\n#### [#1707](https://github.com/SeaQL/sea-orm/pull/1707) \u65b0\u589e [`DbErr::sql_err()`](https://docs.rs/sea-orm/0.12.2/sea_orm/error/enum.DbErr.html#method.sql_err) \u65b9\u6cd5\u6765\u89e3\u6790\u5e38\u89c1\u6570\u636e\u5e93\u9519\u8bef\\r\\n\\r\\n```rust\\r\\nassert!(matches!(\\r\\n    cake.into_active_model().insert(db).await\\r\\n        .expect_err(\\"\u63d2\u5165\u91cd\u590d\u4e3b\u952e\u7684\u884c\\")\\r\\n        .sql_err(),\\r\\n    Some(SqlErr::UniqueConstraintViolation(_))\\r\\n));\\r\\n\\r\\nassert!(matches!(\\r\\n    fk_cake.insert(db).await\\r\\n        .expect_err(\\"\u63d2\u5165\u65e0\u6548\u5916\u952e\u7684\u884c\\")\\r\\n        .sql_err(),\\r\\n    Some(SqlErr::ForeignKeyConstraintViolation(_))\\r\\n));\\r\\n```\\r\\n\\r\\n#### [#1737](https://github.com/SeaQL/sea-orm/pull/1737) \u4ecb\u7ecd\u65b0\u7684 [`ConnAcquireErr`](https://docs.rs/sea-orm/0.12.2/sea_orm/error/enum.ConnAcquireErr.html)\\r\\n\\r\\n```rust\\r\\nenum DbErr {\\r\\n    ConnectionAcquire(ConnAcquireErr),\\r\\n    ..\\r\\n}\\r\\n\\r\\nenum ConnAcquireErr {\\r\\n    Timeout,\\r\\n    ConnectionClosed,\\r\\n}\\r\\n```\\r\\n\\r\\n#### [#1627](https://github.com/SeaQL/sea-orm/pull/1627) \u65b0\u589e [`DatabaseConnection::ping()`](https://docs.rs/sea-orm/0.12.2/sea_orm/error/enum.ConnAcquireErr.html)\\r\\n\\r\\n```rust\\r\\n|db: DatabaseConnection| {\\r\\n    assert!(db.ping().await.is_ok());\\r\\n    db.clone().close().await;\\r\\n    assert!(matches!(db.ping().await, Err(DbErr::ConnectionAcquire)));\\r\\n}\\r\\n```\\r\\n\\r\\n#### [#1708](https://github.com/SeaQL/sea-orm/pull/1708) \u65b0\u589e [`TryInsert`](https://docs.rs/sea-orm/0.12.2/sea_orm/query/struct.TryInsert.html) \u65b9\u6cd5\uff0c\u5728\u7a7a\u63d2\u5165\u65f6\u4e0d\u4f1a panic\\r\\n\\r\\n```rust\\r\\n// \u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a\\r\\nlet res = Bakery::insert_many(std::iter::empty())\\r\\n    .on_empty_do_nothing()\\r\\n    .exec(db)\\r\\n    .await;\\r\\n\\r\\nassert!(matches!(res, Ok(TryInsertResult::Empty)));\\r\\n```\\r\\n\\r\\n#### [#1712](https://github.com/SeaQL/sea-orm/pull/1712) \u63d2\u5165\u51b2\u7a81\u65f6\u4ec0\u4e48\u90fd\u4e0d\u505a\u4ee5\u8fd4\u56de Ok\\r\\n\\r\\n```rust\\r\\nlet on = OnConflict::column(Column::Id).do_nothing().to_owned();\\r\\n\\r\\n// \u73b0\u6709\u884c\u4e3a\\r\\nlet res = Entity::insert_many([..]).on_conflict(on).exec(db).await;\\r\\nassert!(matches!(res, Err(DbErr::RecordNotInserted)));\\r\\n\\r\\n// \u65b0 API\uff1b\u73b0\u5728\u60a8\u53ef\u4ee5\uff1a\\r\\nlet res =\\r\\nEntity::insert_many([..]).on_conflict(on).do_nothing().exec(db).await;\\r\\nassert!(matches!(res, Ok(TryInsertResult::Conflicted)));\\r\\n```\\r\\n\\r\\n#### [#1740](https://github.com/SeaQL/sea-orm/pull/1740), [#1755](https://github.com/SeaQL/sea-orm/pull/1755) \u7528 [`sea_orm::DeriveIden`](https://docs.rs/sea-orm/0.12.2/sea_orm/derive.DeriveIden.html) \u66ff\u6362 `sea_query::Iden`\\r\\n\\r\\n\u4e3a\u4e86\u63d0\u4f9b\u66f4\u4e00\u81f4\u7684\u63a5\u53e3\uff0c`sea-query/derive` \u4e0d\u518d\u7531 `sea-orm` \u542f\u7528\uff0c\u56e0\u6b64 `Iden` \u4e0d\u518d\u4f5c\u4e3a\u6d3e\u751f\u5b8f\u5de5\u4f5c\uff08\u4ecd\u7136\u662f\u4e00\u4e2a\u7279\u6027\uff09\u3002\\r\\n\\r\\n```rust\\r\\n// \u7136\u540e\uff1a\\r\\n\\r\\n#[derive(Iden)]\\r\\n#[iden = \\"category\\"]\\r\\npub struct CategoryEnum;\\r\\n\\r\\n#[derive(Iden)]\\r\\npub enum Tea {\\r\\n    Table,\\r\\n    #[iden = \\"AfternoonTea\\"]\\r\\n    EverydayTea,\\r\\n}\\r\\n\\r\\n// \u73b0\u5728\uff1a\\r\\n\\r\\n#[derive(DeriveIden)]\\r\\n#[sea_orm(iden = \\"category\\")]\\r\\npub struct CategoryEnum;\\r\\n\\r\\n#[derive(DeriveIden)]\\r\\npub enum Tea {\\r\\n    Table,\\r\\n    #[sea_orm(iden = \\"AfternoonTea\\")]\\r\\n    EverydayTea,\\r\\n}\\r\\n```\\r\\n\\r\\n## \u65b0\u7248\u672c ~~\u5217\u8f66~~ \u6e21\u8239 \ud83d\udea2\\r\\n\\r\\n\u8fd9\u662f SeaORM \u7684\u7b2c **12** \u6b21\u53d1\u5e03\uff01\u6700\u521d\uff0c\u6bcf\u4e2a\u6708\u53d1\u5e03\u4e00\u4e2a\u4e3b\u8981\u7248\u672c\u3002\u9010\u6e10\u53d8\u4e3a\u6bcf 2 \u5230 3 \u4e2a\u6708\u4e00\u6b21\uff0c\u73b0\u5728\u81ea\u4e0a\u6b21\u4e3b\u8981\u53d1\u5e03\u4ee5\u6765\u5df2\u7ecf\u8fc7\u53bb\u4e86 6 \u4e2a\u6708\u3002\u968f\u7740\u6211\u4eec\u7684\u7528\u6237\u7fa4\u589e\u957f\uff0c\u5e76\u4e14\u4e00\u4e9b\u4eba\u5df2\u7ecf\u5728 [\u751f\u4ea7\u4e2d\u4f7f\u7528 SeaORM](https://github.com/SeaQL/sea-orm/blob/master/COMMUNITY.md#startups)\uff0c\u6211\u4eec\u7406\u89e3\u62e5\u6709\u4e00\u4e2a\u7a33\u5b9a\u7684 API \u63a5\u53e3\u548c\u529f\u80fd\u96c6\u7684\u91cd\u8981\u6027\u3002\\r\\n\\r\\n\u56e0\u6b64\uff0c\u6211\u4eec\u627f\u8bfa\uff1a\\r\\n\\r\\n1. \u4e25\u683c\u5ba1\u67e5\u7834\u574f\u6027\u53d8\u66f4\\r\\n2. \u6269\u5c55\u6211\u4eec\u7684\u6d4b\u8bd5\u5957\u4ef6\u4ee5\u8986\u76d6\u6211\u4eec\u5e93\u7684\u6240\u6709\u7279\u6027\\r\\n3. \u6c38\u8fdc\u4e0d\u79fb\u9664\u529f\u80fd\uff0c\u5e76\u4ed4\u7ec6\u8003\u8651\u5f03\u7528\\r\\n\\r\\n\u4eca\u5929\uff0cSeaORM \u7684\u67b6\u6784\u975e\u5e38\u624e\u5b9e\u548c\u7a33\u5b9a\uff0c\u5728 `0.12` \u53d1\u5e03\u65f6\u6211\u4eec\u507f\u8fd8\u4e86\u5f88\u591a\u6280\u672f\u503a\u52a1\uff0c\u8fd9\u5c06\u4f7f\u6211\u4eec\u80fd\u591f\u5728\u4e0d\u7834\u574f\u7684\u60c5\u51b5\u4e0b\u4ea4\u4ed8\u65b0\u529f\u80fd\u548c\u589e\u5f3a\u529f\u80fd\u3002\u7531\u4e8e\u6211\u4eec\u7684\u4e3b\u8981\u4f9d\u8d56 [SQLx](https://github.com/launchbadge/sqlx) \u8fd8\u6ca1\u6709\u8fbe\u5230 `1.0`\uff0c\u56e0\u6b64\u4ece\u6280\u672f\u4e0a\u8bb2\u6211\u4eec\u4e0d\u80fd\u6210\u4e3a `1.0`\u3002\\r\\n\\r\\n\u6211\u4eec\u4ecd\u5728\u5feb\u901f\u63a8\u8fdb\uff0c\u6211\u4eec\u5c06\u59cb\u7ec8\u5728 SQLx \u53d1\u5e03\u65b0\u7248\u672c\u65f6\u5c3d\u5feb\u53d1\u5e03\u65b0\u7248\u672c\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u540c\u65f6\u5347\u7ea7\u6240\u6709\u5185\u5bb9\u3002\u56e0\u6b64\uff0cSeaORM \u7684\u4e0b\u4e00\u4e2a\u4e3b\u8981\u7248\u672c\u5c06\u5728**6 \u4e2a\u6708\u5185\u53d1\u5e03\uff0c\u6216\u5728 SQLx \u53d1\u5e03\u65b0\u7248\u672c\u65f6**\uff0c\u4ee5\u5148\u5230\u8005\u4e3a\u51c6\u3002\\r\\n\\r\\n## [\u793e\u533a\u8c03\u67e5](https://www.sea-ql.org/community-survey) \ud83d\udcdd\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u5f00\u6e90\u7ec4\u7ec7\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u5e2e\u52a9\u5f00\u53d1\u4eba\u5458\u5728 Rust \u4e2d\u6784\u5efa\u6570\u636e\u5bc6\u96c6\u578b\u5e94\u7528\u7a0b\u5e8f\u3002\u5982\u679c\u60a8\u6b63\u5728\u4f7f\u7528 SeaORM\uff0c\u8bf7\u53c2\u4e0e [SeaQL \u793e\u533a\u8c03\u67e5](https://www.sea-ql.org/community-survey)!\\r\\n\\r\\n\u901a\u8fc7\u5b8c\u6210\u6b64\u8c03\u67e5\uff0c\u60a8\u5c06\u5e2e\u52a9\u6211\u4eec\u6536\u96c6\u5173\u4e8e\u60a8\u4f5c\u4e3a\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u6211\u4eec\u5e93\u7684\u89c1\u89e3\uff0c\u5e76\u627e\u51fa\u6539\u8fdb\u60a8\u5f00\u53d1\u4f53\u9a8c\u7684\u65b9\u6cd5\u3002\u6211\u4eec\u8fd8\u5c06\u53d1\u5e03\u5e74\u5ea6\u8c03\u67e5\u62a5\u544a\uff0c\u4ee5\u603b\u7ed3\u6211\u4eec\u7684\u53d1\u73b0\u3002\\r\\n\\r\\n\u5982\u679c\u60a8\u662f SeaORM \u7684\u6ee1\u610f\u7528\u6237\uff0c\u8bf7\u8003\u8651 [\u7ed9\u6211\u4eec\u5199\u4e00\u4efd\u63a8\u8350\u4fe1](https://forms.office.com/r/YbeqfTAgkJ)!\\r\\n\\r\\n## \u8d5e\u52a9\u5546 \ud83e\udd47\\r\\n\\r\\n\u611f\u8c22 [DigitalOcean](https://www.digitalocean.com/) \u8d5e\u52a9\u6211\u4eec\u7684\u670d\u52a1\u5668\u6258\u7ba1\uff0c\u4ee5\u53ca [JetBrains](https://www.jetbrains.com/) \u8d5e\u52a9\u6211\u4eec\u7684 IDE\uff0c\u4ee5\u53ca\u6bcf\u4e00\u4f4d\u5728 [GitHub Sponsor](https://github.com/sponsors/SeaQL) \u4e0a\u7684\u8d5e\u52a9\u5546\uff01\\r\\n\\r\\n\u5982\u679c\u60a8\u611f\u5230\u6177\u6168\uff0c\u4e00\u5c0f\u7b14\u6350\u6b3e\u5c06\u975e\u5e38\u611f\u8c22\uff0c\u5e76\u5c06\u5927\u5927\u5e2e\u52a9\u7ec4\u7ec7\u7684\u53ef\u6301\u7eed\u53d1\u5c55\u3002\\r\\n\\r\\n\u7279\u522b\u611f\u8c22\u6211\u4eec\u7684\u8d5e\u52a9\u5546 \ud83d\ude07\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Afonso Barracha\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/trueb2\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/8592049?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Jacob Trueb\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Natsuki Ikeguchi\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mmuellersoppart\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/16762461?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marlon Mueller-Soppart\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    KallyDev\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Dean Sheather\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Manfred Lee\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/rgoracz\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/6758092?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Roland Gor\xe1cz\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Iceapinan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2698243?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    IceApinan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/reneklacan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1935686?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Ren\xe9 Kla\u010dan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u672a\u547d\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## SeaORM \u7684\u4e0b\u4e00\u6b65\u662f\u4ec0\u4e48\uff1f \u26f5\\r\\n\\r\\n\u5f00\u6e90\u9879\u76ee\u662f\u4e00\u9879\u6c38\u65e0\u6b62\u5883\u7684\u5de5\u4f5c\uff0c\u6211\u4eec\u6b63\u5728\u79ef\u6781\u5bfb\u627e\u53ef\u6301\u7eed\u9879\u76ee\u7684\u65b9\u6cd5\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u4e3a\u6211\u4eec\u7684\u4ee3\u7801\u5e93\u52a0\u661f\u5e76\u5206\u4eab\u4ee5\u53ca\u6210\u4e3a\u8d5e\u52a9\u5546\u6765\u652f\u6301\u6211\u4eec\u7684\u52aa\u529b\u3002\\r\\n\\r\\n\u6211\u4eec\u6b63\u5728\u8003\u8651\u591a\u79cd\u65b9\u5411\u4e3a\u7ec4\u7ec7\u521b\u9020\u6536\u5165\u3002\u5982\u679c\u60a8\u6709\u4efb\u4f55\u5efa\u8bae\uff0c\u6216\u8005\u60f3\u52a0\u5165\u6211\u4eec\u6216\u4e0e\u6211\u4eec\u5408\u4f5c\uff0c\u8bf7\u901a\u8fc7 `hello[at]sea-ql.org` \u8054\u7cfb\u6211\u4eec\u3002\\r\\n\\r\\n\u611f\u8c22\u60a8\u7684\u652f\u6301\uff0c\u6211\u4eec\u5171\u540c\u52aa\u529b\u4f7f\u5f00\u6e90\u9879\u76ee\u5f97\u4ee5\u53ef\u6301\u7eed\u53d1\u5c55\u3002"},{"id":"2023-04-03-intro-sea-streamer","metadata":{"permalink":"/blog/2023-04-03-intro-sea-streamer","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-04-03-intro-sea-streamer.md","source":"@site/blog/2023-04-03-intro-sea-streamer.md","title":"\u4ecb\u7ecd SeaStreamer \ud83c\udf0a","description":"\u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u5411 Rust \u793e\u533a\u4ecb\u7ecd SeaStreamer\u3002SeaStreamer \u662f\u4e00\u4e2a\u6d41\u5904\u7406\u5de5\u5177\u5305\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728 Rust \u4e2d\u6784\u5efa\u6d41\u5904\u7406\u5668\u3002","date":"2023-04-03T00:00:00.000Z","formattedDate":"April 3, 2023","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":7.01,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL \u56e2\u961f","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2023-04-03-intro-sea-streamer","title":"\u4ecb\u7ecd SeaStreamer \ud83c\udf0a","author":"Chris Tsang","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","image":"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png","tags":["news"]},"prevItem":{"title":"\u5ba3\u5e03 SeaORM 0.12","permalink":"/blog/2023-08-12-announcing-seaorm-0.12"},"nextItem":{"title":"SeaORM 0.11.0 \u7684\u65b0\u529f\u80fd","permalink":"/blog/2023-02-08-whats-new-in-seaorm-0.11.0"}},"content":"<a href=\\"https://www.sea-ql.org/SeaStreamer/\\"><img src=\\"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png\\" /></a>\\r\\n\\r\\n\u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u5411 Rust \u793e\u533a\u4ecb\u7ecd [SeaStreamer](https://github.com/SeaQL/sea-streamer/)\u3002SeaStreamer \u662f\u4e00\u4e2a\u6d41\u5904\u7406\u5de5\u5177\u5305\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4f60\u5728 Rust \u4e2d\u6784\u5efa\u6d41\u5904\u7406\u5668\u3002\\r\\n\\r\\n\u5728 SeaQL\uff0c\u6211\u4eec\u5e0c\u671b\u8ba9 Rust \u6210\u4e3a\u6570\u636e\u5de5\u7a0b\u7684\u6700\u4f73\u7f16\u7a0b\u5e73\u53f0\u3002SeaORM \u662f\u5904\u7406 SQL \u6570\u636e\u5e93\u7684\u57fa\u672c\u5de5\u5177\uff0c\u800c SeaStreamer \u5219\u65e8\u5728\u6210\u4e3a\u5904\u7406\u6d41\u7684\u5fc5\u5907\u5de5\u5177\u5305\u3002\\r\\n\\r\\n\u76ee\u524d\uff0cSeaStreamer \u63d0\u4f9b\u4e0e Kafka \u548c Redis \u7684\u96c6\u6210\u3002\\r\\n\\r\\n\u8ba9\u6211\u4eec\u5feb\u901f\u4e86\u89e3\u4e00\u4e0b SeaStreamer\u3002\\r\\n\\r\\n## \u9ad8\u7ea7\u5f02\u6b65 API\\r\\n\\r\\n+ \u9ad8\u7ea7\u5f02\u6b65 API\uff0c\u652f\u6301 `async-std` \u548c `tokio`\\r\\n+ \u65e0\u4e92\u65a5\u9501\u5b9e\u73b0[^1]\uff1a\u901a\u8fc7\u6d88\u606f\u4f20\u9012\u5b9e\u73b0\u5e76\u53d1\\r\\n+ \u8be6\u5c3d\u7684\u7c7b\u578b\u7cfb\u7edf\uff0c\u901a\u8fc7 API \u6307\u5bfc/\u9650\u5236\u4f60\\r\\n\\r\\n[^1]: \u9664\u4e86 `sea-streamer-stdio`\uff0c\u4f46\u53ea\u6d89\u53ca\u6d88\u8d39\u8005\u7684\u6dfb\u52a0/\u79fb\u9664\\r\\n\\r\\n\u4ee5\u4e0b\u662f\u4e00\u4e2a [\u57fa\u672c\u7684 Kafka \u6d88\u8d39\u8005](https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-kafka/src/bin/consumer.rs) \u793a\u4f8b\uff1a\\r\\n\\r\\n```rust\\r\\n#[tokio::main]\\r\\nasync fn main() -> Result<()> {\\r\\n    env_logger::init();\\r\\n\\r\\n    let stream: StreamUrl = \\"kafka://streamer.sea-ql.org:9092/my_stream\\".parse()?;\\r\\n    let streamer = KafkaStreamer::connect(stream.streamer(), Default::default()).await?;\\r\\n    let mut options = KafkaConsumerOptions::new(ConsumerMode::RealTime);\\r\\n    options.set_auto_offset_reset(AutoOffsetReset::Earliest);\\r\\n    let consumer = streamer\\r\\n        .create_consumer(stream.stream_keys(), options)\\r\\n        .await?;\\r\\n\\r\\n    loop {\\r\\n        let mess = consumer.next().await?;\\r\\n        println!(\\"{}\\", mess.message().as_str()?);\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n[`Consumer::stream()`](https://docs.rs/sea-streamer/latest/sea_streamer/trait.Consumer.html#tymethod.stream) \u8fd4\u56de\u4e00\u4e2a\u5b9e\u73b0\u4e86 [`Stream`](https://docs.rs/futures-core/latest/futures_core/stream/trait.Stream.html) \u7279\u5f81\u7684\u5bf9\u8c61\uff0c\u8fd9\u5141\u8bb8\u4f60\u505a\u4e00\u4e9b\u6709\u8da3\u7684\u4e8b\u60c5\uff1a\\r\\n\\r\\n```rust\\r\\nlet items = consumer\\r\\n    .stream()\\r\\n    .take(num)\\r\\n    .map(process_message)\\r\\n    .collect::<Vec<_>>()\\r\\n    .await\\r\\n```\\r\\n\\r\\n## \u57fa\u4e8e\u7279\u5f81\u7684\u62bd\u8c61\u63a5\u53e3\\r\\n\\r\\n\u6240\u6709 SeaStreamer \u540e\u7aef\u5b9e\u73b0\u4e86\u4e00\u4e2a\u901a\u7528\u7684\u62bd\u8c61\u63a5\u53e3\uff0c\u4e3a\u4f60\u63d0\u4f9b\u719f\u6089\u7684 API\u3002\u4e0b\u9762\u662f\u4e00\u4e2a [\u57fa\u672c\u7684 Redis \u6d88\u8d39\u8005](https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-redis/src/bin/consumer.rs)\uff0c\u51e0\u4e4e\u4e0e\u4e4b\u524d\u7684\u793a\u4f8b\u76f8\u540c\uff1a\\r\\n\\r\\n```rust\\r\\n#[tokio::main]\\r\\nasync fn main() -> Result<()> {\\r\\n    env_logger::init();\\r\\n\\r\\n    let stream: StreamUrl = \\"redis://localhost:6379/my_stream\\".parse()?;\\r\\n    let streamer = RedisStreamer::connect(stream.streamer(), Default::default()).await?;\\r\\n    let mut options = RedisConsumerOptions::new(ConsumerMode::RealTime);\\r\\n    options.set_auto_stream_reset(AutoStreamReset::Earliest);\\r\\n    let consumer = streamer\\r\\n        .create_consumer(stream.stream_keys(), options)\\r\\n        .await?;\\r\\n\\r\\n    loop {\\r\\n        let mess = consumer.next().await?;\\r\\n        println!(\\"{}\\", mess.message().as_str()?);\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n## Redis Streams \u652f\u6301\\r\\n\\r\\nSeaStreamer Redis \u63d0\u4f9b\u7c7b\u4f3c Kafka \u7684\u6d41\u8bed\u4e49\uff1a\\r\\n\\r\\n+ \u975e\u7ec4\u6d41\uff0c\u914d\u6709 AutoStreamReset \u9009\u9879\\r\\n+ \u57fa\u4e8e\u6d88\u8d39\u8005\u7ec4\u7684\u6d41\uff0c\u914d\u6709\u81ea\u52a8\u786e\u8ba4\u548c/\u6216\u81ea\u52a8\u63d0\u4ea4\\r\\n+ \u6d88\u8d39\u8005\u4e4b\u95f4\u7684\u8d1f\u8f7d\u5747\u8861\uff0c\u5177\u5907\u81ea\u52a8\u6545\u969c\u8f6c\u79fb\\r\\n+ \u5230\u65f6\u95f4\u70b9\u7684\u968f\u673a\u8bbf\u95ee/\u56de\u6eaf\\r\\n\\r\\n\u4f60\u4e0d\u518d\u9700\u8981\u8c03\u7528 `XADD`\u3001`XREAD`\u3001`XACK` \u7b49\u7b49\uff01\\r\\n\\r\\n## \u57fa\u4e8e\u679a\u4e3e\u7684\u901a\u7528\u63a5\u53e3\\r\\n\\r\\n\u57fa\u4e8e\u7279\u5f81\u7684 API \u9700\u8981\u4f60\u6307\u5b9a\u5177\u4f53\u7684 `Streamer` \u7c7b\u578b\u8fdb\u884c\u5355\u6001\u5316\uff0c\u5426\u5219\u4ee3\u7801\u65e0\u6cd5\u7f16\u8bd1\u3002\\r\\n\\r\\n\u7c7b\u4f3c\u4e8e SeaORM \u5b9e\u73b0\u7684\u8fd0\u884c\u65f6\u591a\u6001\uff0cSeaStreamer \u63d0\u4f9b\u57fa\u4e8e\u679a\u4e3e\u7684\u901a\u7528\u6d41\u5904\u7406\u5668\uff0c\u5728\u6b64\u540e\u7aef\u5c06\u5728 ***\u8fd0\u884c\u65f6*** \u9009\u62e9\u3002\\r\\n\\r\\n\u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b ([\u5b8c\u6574\u793a\u4f8b](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/resumable.rs))\uff1a\\r\\n\\r\\n```rust\\r\\n// sea-streamer-socket\\r\\npub struct SeaConsumer {\\r\\n    backend: SeaConsumerBackend,\\r\\n}\\r\\n\\r\\nenum SeaConsumerBackend {\\r\\n    #[cfg(feature = \\"backend-kafka\\")]\\r\\n    Kafka(KafkaConsumer),\\r\\n    #[cfg(feature = \\"backend-redis\\")]\\r\\n    Redis(RedisConsumer),\\r\\n    #[cfg(feature = \\"backend-stdio\\")]\\r\\n    Stdio(StdioConsumer),\\r\\n}\\r\\n\\r\\n// \u4f60\u7684\u4ee3\u7801\\r\\nlet uri: StreamerUri = \\"kafka://localhost:9092\\".parse()?; // \u6216\\r\\nlet uri: StreamerUri = \\"redis://localhost:6379\\".parse()?; // \u6216\\r\\nlet uri: StreamerUri = \\"stdio://\\".parse()?;\\r\\n\\r\\n// SeaStreamer \u5c06\u6839\u636e URI \u652f\u6301 Kafka\u3001Redis \u6216 Stdio\\r\\nlet streamer = SeaStreamer::connect(uri, Default::default()).await?;\\r\\n\\r\\n// \u8bbe\u7f6e\u540e\u7aef\u7279\u5b9a\u7684\u9009\u9879\\r\\nlet mut options = SeaConsumerOptions::new(ConsumerMode::Resumable);\\r\\noptions.set_kafka_consumer_options(|options: &mut KafkaConsumerOptions| { .. });\\r\\noptions.set_redis_consumer_options(|options: &mut RedisConsumerOptions| { .. });\\r\\nlet mut consumer: SeaConsumer = streamer.create_consumer(stream_keys, options).await?;\\r\\n\\r\\n// \u4f60\u4ecd\u7136\u53ef\u4ee5\u68c0\u7d22\u5177\u4f53\u7c7b\u578b\\r\\nlet kafka: Option<&mut KafkaConsumer> = consumer.get_kafka();\\r\\nlet redis: Option<&mut RedisConsumer> = consumer.get_redis();\\r\\n```\\r\\n\\r\\n\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u201c\u4e00\u6b21\u7f16\u5199\uff0c\u5230\u5904\u6d41\u201d\uff01\\r\\n\\r\\n## \u7ecf\u5178\u7684 Unix \u7ba1\u9053\\r\\n\\r\\n\u5728 SeaStreamer \u4e2d\uff0c`stdin` \u548c `stdout` \u53ef\u4ee5\u4f5c\u4e3a\u6d41\u6e90\u548c\u6d41\u53bb\u3002\\r\\n\\r\\n\u5047\u8bbe\u4f60\u6b63\u5728\u5f00\u53d1\u4e00\u4e9b\u591a\u4e2a\u9636\u6bb5\u7684\u5904\u7406\u5668\u6765\u8f6c\u6362\u4e00\u4e2a\u6d41\uff1a\\r\\n\\r\\n```shell\\r\\n./processor_1 --input kafka://localhost:9092/input --output kafka://localhost:9092/stage_1 &\\r\\n./processor_2 --input kafka://localhost:9092/stage_1 --output kafka://localhost:9092/stage_2 &\\r\\n./processor_3 --input kafka://localhost:9092/stage_2 --output kafka://localhost:9092/output &\\r\\n```\\r\\n\\r\\n\u5982\u679c\u6211\u4eec\u53ef\u4ee5\u7b80\u5355\u5730 ***\u7ba1\u9053*** \u8fde\u63a5\u5904\u7406\u5668\uff0c\u90a3\u5c31\u592a\u597d\u4e86\uff0c\u5bf9\u5427\uff1f\\r\\n\\r\\n\u4f7f\u7528 SeaStreamer\uff0c\u4f60\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a\\r\\n\\r\\n```shell\\r\\n./processor_1 --input kafka://localhost:9092/input --output stdio:///stream |\\r\\n./processor_2 --input stdio:///stream --output stdio:///stream |\\r\\n./processor_3 --input stdio:///stream --output kafka://localhost:9092/output\\r\\n```\\r\\n\\r\\n\u6240\u6709\u8fd9\u4e00\u5207 ***\u65e0\u9700\u91cd\u65b0\u7f16\u8bd1*** \u6d41\u5904\u7406\u5668\uff01\u73b0\u5728\uff0c\u4f60\u53ef\u4ee5\u65b9\u4fbf\u5730\u4f7f\u7528 `|`\u3001`>`\u3001`<` \u548c\u4f60\u559c\u7231\u7684 Unix \u7a0b\u5e8f\u5728 shell \u4e2d\u8fdb\u884c\u672c\u5730\u5f00\u53d1\u3002\\r\\n\\r\\n## \u53ef\u6d4b\u8bd5\\r\\n\\r\\nSeaStreamer \u9f13\u52b1\u4f60\u5728\u5404\u4e2a\u5c42\u9762\u7f16\u5199\u6d4b\u8bd5\uff1a\\r\\n\\r\\n+ \u4f60\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a *\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u7a0b* \u4e2d\u6267\u884c\u6d89\u53ca\u591a\u4e2a *\u6d41\u5904\u7406\u5668* \u7684\u6d4b\u8bd5\\r\\n+ \u4f60\u53ef\u4ee5\u901a\u8fc7\u7ba1\u9053\u8fde\u63a5\u6267\u884c\u6d89\u53ca\u591a\u4e2a *\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u7a0b* \u7684\u6d4b\u8bd5\\r\\n+ \u4f60\u53ef\u4ee5\u6267\u884c\u6d89\u53ca\u591a\u4e2a *\u6d41\u5904\u7406\u5668* \u4e0e Redis / Kafka \u7684\u6d4b\u8bd5\\r\\n\\r\\n\u6240\u6709\u8fd9\u4e9b\u90fd\u662f\u57fa\u4e8e\u540c\u4e00\u6bb5\u4ee3\u7801\uff01\u8ba9 SeaStreamer \u5e2e\u4f60\u6d88\u9664\u4ee3\u7801\u4e2d\u7684\u6837\u677f\u548c\u6a21\u62df\u5de5\u4f5c\u3002\\r\\n\\r\\n\u4ee5\u4e0b\u662f\u4e00\u4e2a [\u8fdb\u7a0b\u5185\u90e8\u6d4b\u8bd5](https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-stdio/tests/loopback.rs) \u7684\u793a\u4f8b\uff0c\u53ef\u4ee5\u901a\u8fc7 `cargo test` \u8fd0\u884c\uff0c\u65e0\u9700\u4efb\u4f55\u4f9d\u8d56\u6216\u526f\u4f5c\u7528\uff1a\\r\\n\\r\\n```rust\\r\\nlet stream = StreamKey::new(\\"test\\")?;\\r\\nlet mut options = StdioConnectOptions::default();\\r\\noptions.set_loopback(true); // \u4ea7\u751f\u7684\u6d88\u606f\u5c06\u53cd\u9988\u7ed9\u6d88\u8d39\u8005\\r\\nlet streamer = StdioStreamer::connect(StreamerUri::zero(), options).await?;\\r\\nlet producer = streamer.create_producer(stream.clone(), Default::default()).await?;\\r\\nlet mut consumer = streamer.create_consumer(&[stream.clone()], Default::default()).await?;\\r\\n\\r\\nfor i in 0..5 {\\r\\n    let mess = format!(\\"{}\\", i);\\r\\n    producer.send(mess)?;\\r\\n}\\r\\n\\r\\nlet seq = collect(&mut consumer, 5).await;\\r\\nassert_eq!(seq, [0, 1, 2, 3, 4]);\\r\\n```\\r\\n\\r\\n## \u5f00\u59cb\u4f7f\u7528\\r\\n\\r\\n\u5982\u679c\u4f60\u8feb\u4e0d\u53ca\u5f85\u60f3\u5f00\u59cb\u4f7f\u7528 SeaStreamer\uff0c\u53ef\u4ee5\u67e5\u770b\u6211\u4eec\u7684 [\u793a\u4f8b\u96c6\u5408](https://github.com/SeaQL/sea-streamer/tree/main/examples)\uff1a\\r\\n\\r\\n+ [`consumer`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/consumer.rs): \u4e00\u4e2a\u57fa\u672c\u7684\u6d88\u8d39\u8005\\r\\n+ [`producer`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/producer.rs): \u4e00\u4e2a\u57fa\u672c\u7684\u751f\u4ea7\u8005\\r\\n+ [`processor`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/processor.rs): \u4e00\u4e2a\u57fa\u672c\u7684\u6d41\u5904\u7406\u5668\\r\\n+ [`resumable`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/resumable.rs): \u4e00\u4e2a\u53ef\u6062\u590d\u7684\u6d41\u5904\u7406\u5668\uff0c\u53ef\u4ee5\u4ece\u4e0a\u6b21\u4e2d\u65ad\u7684\u4f4d\u7f6e\u7ee7\u7eed\\r\\n+ [`buffered`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/buffered.rs): \u4e00\u4e2a\u5177\u5907\u5185\u90e8\u7f13\u51b2\u548c\u6279\u5904\u7406\u7684\u9ad8\u7ea7\u6d41\u5904\u7406\u5668\\r\\n+ [`blocking`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/blocking.rs): \u4e00\u4e2a\u7528\u4e8e\u5904\u7406\u963b\u585e/CPU \u5bc6\u96c6\u578b\u4efb\u52a1\u7684\u9ad8\u7ea7\u6d41\u5904\u7406\u5668\\r\\n\\r\\n\u9605\u8bfb\u5b98\u65b9 [\u6587\u6863](https://www.sea-ql.org/SeaStreamer/docs/index/) \u4ee5\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002\\r\\n\\r\\n## \u8def\u7ebf\u56fe\\r\\n\\r\\n\u6211\u4eec [\u8ba1\u5212\u5f00\u53d1](https://www.sea-ql.org/SeaStreamer/docs/whats-next/roadmap/) \u7684\u4e00\u4e9b\u4e3b\u8981\u7ec4\u4ef6\uff1a\\r\\n\\r\\n+ \u6587\u4ef6\u540e\u7aef\\r\\n+ Redis \u96c6\u7fa4\\r\\n\\r\\n\u5982\u679c\u4f60\u6709\u60f3\u6cd5\u6216\u5efa\u8bae\uff0c\u6b22\u8fce\u52a0\u5165\u6211\u4eec\u7684 [\u8ba8\u8bba](https://github.com/SeaQL/sea-streamer/discussions)\uff01\\r\\n\\r\\n## \u4eba\u5458\\r\\n\\r\\nSeaStreamer \u662f\u7531\u540c\u6837\u4e3a\u4f60\u5e26\u6765 [SeaORM](https://github.com/SeaQL/sea-orm/) \u7684\u5f00\u53d1\u8005\u8bbe\u8ba1\u548c\u5f00\u53d1\u7684\uff1a\\r\\n\\r\\n<div class=\\"container\\">\\r\\n    <div class=\\"row\\">\\r\\n        <div class=\\"col col--12 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Chris Tsang\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL.org \u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u5f00\u6e90\u7ec4\u7ec7\uff0c\u7531\u70ed\u60c5\u7684\u5f00\u53d1\u8005\u7ba1\u7406\u3002\u5982\u679c\u4f60\u559c\u6b22\u6211\u4eec\u7684\u9879\u76ee\uff0c\u8bf7\u7ed9\u6211\u4eec\u7684\u4ed3\u5e93\u52a0\u661f \u2b50 \u5e76\u5206\u4eab\u3002\u5982\u679c\u4f60\u613f\u610f\uff0c\u901a\u8fc7 [GitHub Sponsor](https://github.com/sponsors/SeaQL) \u8fdb\u884c\u5c0f\u989d\u6350\u8d60\u5c06\u4e0d\u80dc\u611f\u6fc0\uff0c\u8fd9\u5c06\u6709\u52a9\u4e8e\u652f\u6301\u7ec4\u7ec7\u7684\u53d1\u5c55 \ud83d\udea2\u3002\\r\\n\\r\\nSeaStreamer \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6b22\u8fce\u4f60\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b \ud83e\udd80\u3002"},{"id":"2023-02-08-whats-new-in-seaorm-0.11.0","metadata":{"permalink":"/blog/2023-02-08-whats-new-in-seaorm-0.11.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-02-08-whats-new-in-seaorm-0.11.0.md","source":"@site/blog/2023-02-08-whats-new-in-seaorm-0.11.0.md","title":"SeaORM 0.11.0 \u7684\u65b0\u529f\u80fd","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u53d1\u5e03 SeaORM 0.11.0!","date":"2023-02-08T00:00:00.000Z","formattedDate":"February 8, 2023","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":11.31,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2023-02-08-whats-new-in-seaorm-0.11.0","title":"SeaORM 0.11.0 \u7684\u65b0\u529f\u80fd","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"\u4ecb\u7ecd SeaStreamer \ud83c\udf0a","permalink":"/blog/2023-04-03-intro-sea-streamer"},"nextItem":{"title":"SeaORM FAQ.02","permalink":"/blog/2023-02-05-faq-02"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u53d1\u5e03 SeaORM [`0.11.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.11.0)!\\r\\n\\r\\n## \u6570\u636e\u52a0\u8f7d\u5668\\r\\n\\r\\n[[#1443](https://github.com/SeaQL/sea-orm/pull/1443), [#1238](https://github.com/SeaQL/sea-orm/pull/1238)] [LoaderTrait](https://docs.rs/sea-orm/*/sea_orm/query/trait.LoaderTrait.html) \u63d0\u4f9b\u4e86\u4e00\u4e2a API\uff0c\u7528\u4e8e\u6279\u91cf\u52a0\u8f7d\u76f8\u5173\u5b9e\u4f53\u3002\\r\\n\\r\\n\u8003\u8651\u8fd9\u79cd\u4e00\u5bf9\u591a\u5173\u7cfb\uff1a\\r\\n\\r\\n```rust\\r\\nlet cake_with_fruits: Vec<(cake::Model, Vec<fruit::Model>)> = Cake::find()\\r\\n    .find_with_related(Fruit)\\r\\n    .all(db)\\r\\n    .await?;\\r\\n```\\r\\n\\r\\n\u751f\u6210\u7684 SQL \u4e3a\uff1a\\r\\n\\r\\n```sql\\r\\nSELECT\\r\\n    \\"cake\\".\\"id\\" AS \\"A_id\\",\\r\\n    \\"cake\\".\\"name\\" AS \\"A_name\\",\\r\\n    \\"fruit\\".\\"id\\" AS \\"B_id\\",\\r\\n    \\"fruit\\".\\"name\\" AS \\"B_name\\",\\r\\n    \\"fruit\\".\\"cake_id\\" AS \\"B_cake_id\\"\\r\\nFROM \\"cake\\"\\r\\nLEFT JOIN \\"fruit\\" ON \\"cake\\".\\"id\\" = \\"fruit\\".\\"cake_id\\"\\r\\nORDER BY \\"cake\\".\\"id\\" ASC\\r\\n```\\r\\n\\r\\n1 \u7aef\uff08\u86cb\u7cd5\uff09\u7684\u6570\u636e\u5c06\u4f1a\u91cd\u590d\u3002\u5982\u679c N \u7684\u503c\u5f88\u5927\uff0c\u8fd9\u5c06\u5bfc\u81f4\u66f4\u591a\u7684\u6570\u636e\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u3002\u4f7f\u7528 Loader \u5c06\u786e\u4fdd\u6bcf\u4e2a\u6a21\u578b\u4ec5\u4f20\u8f93\u4e00\u6b21\u3002\\r\\n\\r\\n\u4ee5\u4e0b\u4ee3\u7801\u52a0\u8f7d\u4e0e\u4e0a\u9762\u76f8\u540c\u7684\u6570\u636e\uff0c\u4f46\u4f7f\u7528\u4e86\u4e24\u4e2a\u67e5\u8be2\uff1a\\r\\n\\r\\n```rust\\r\\nlet cakes: Vec<cake::Model> = Cake::find().all(db).await?;\\r\\nlet fruits: Vec<Vec<fruit::Model>> = cakes.load_many(Fruit, db).await?;\\r\\n\\r\\nfor (cake, fruits) in cakes.into_iter().zip(fruits.into_iter()) { .. }\\r\\n```\\r\\n\\r\\n```sql\\r\\nSELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\"\\r\\nSELECT \\"fruit\\".\\"id\\", \\"fruit\\".\\"name\\", \\"fruit\\".\\"cake_id\\" FROM \\"fruit\\" WHERE \\"fruit\\".\\"cake_id\\" IN (..)\\r\\n```\\r\\n\\r\\n\u60a8\u751a\u81f3\u53ef\u4ee5\u5728\u76f8\u5173\u5b9e\u4f53\u4e0a\u5e94\u7528\u8fc7\u6ee4\u5668\uff1a\\r\\n\\r\\n```rust\\r\\nlet fruits_in_stock: Vec<Vec<fruit::Model>> = cakes.load_many(\\r\\n    fruit::Entity::find().filter(fruit::Column::Stock.gt(0i32)),\\r\\n    db\\r\\n).await?;\\r\\n```\\r\\n\\r\\n```sql\\r\\nSELECT \\"fruit\\".\\"id\\", \\"fruit\\".\\"name\\", \\"fruit\\".\\"cake_id\\" FROM \\"fruit\\"\\r\\nWHERE \\"fruit\\".\\"stock\\" > 0 AND \\"fruit\\".\\"cake_id\\" IN (..)\\r\\n```\\r\\n\\r\\n\u8981\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u9605\u8bfb [\u5173\u7cfb\u6587\u6863](https://www.sea-ql.org/SeaORM/docs/relation/data-loader/)\u3002\\r\\n\\r\\n## \u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u548c\u8bbf\u95ee\u6a21\u5f0f\\r\\n\\r\\n[[#1230](https://github.com/SeaQL/sea-orm/pull/1230)] [`transaction_with_config`](https://docs.rs/sea-orm/*/sea_orm/trait.TransactionTrait.html#tymethod.transaction_with_config) \u548c [`begin_with_config`](https://docs.rs/sea-orm/*/sea_orm/trait.TransactionTrait.html#tymethod.begin_with_config) \u5141\u8bb8\u60a8\u6307\u5b9a [IsolationLevel](https://docs.rs/sea-orm/*/sea_orm/enum.IsolationLevel.html) \u548c [AccessMode](https://docs.rs/sea-orm/*/sea_orm/enum.AccessMode.html)\u3002\\r\\n\\r\\n\u76ee\u524d\uff0c\u5b83\u4eec\u4ec5\u5728 MySQL \u548c Postgres \u4e2d\u5b9e\u73b0\u3002\u4e3a\u4e86\u5bf9\u9f50\u5b83\u4eec\u7684\u8bed\u4e49\u5dee\u5f02\uff0cMySQL \u4f1a\u5728\u5f00\u59cb\u4e8b\u52a1\u4e4b\u524d\u6267\u884c `SET TRANSACTION` \u547d\u4ee4\uff0c\u800c Postgres \u5219\u5728\u5f00\u59cb\u4e8b\u52a1\u4e4b\u540e\u6267\u884c `SET TRANSACTION` \u547d\u4ee4\u3002\\r\\n\\r\\n```rust\\r\\ndb.transaction_with_config::<_, _, DbErr>(\\r\\n    |txn| { ... },\\r\\n    Some(IsolationLevel::ReadCommitted),\\r\\n    Some(AccessMode::ReadOnly),\\r\\n)\\r\\n.await?;\\r\\n\\r\\nlet transaction = db\\r\\n    .begin_with_config(IsolationLevel::ReadCommitted, AccessMode::ReadOnly)\\r\\n    .await?;\\r\\n```\\r\\n\\r\\n\u8981\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u9605\u8bfb [\u4e8b\u52a1\u6587\u6863](https://www.sea-ql.org/SeaORM/docs/advanced-query/transaction/)\u3002\\r\\n\\r\\n## \u5728\u9009\u62e9\u548c\u4fdd\u5b58\u65f6\u8f6c\u6362\u5217\u7c7b\u578b\\r\\n\\r\\n[[#1304](https://github.com/SeaQL/sea-orm/pull/1304)] \u5982\u679c\u60a8\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u5217\u4e3a\u4e00\u79cd\u7c7b\u578b\uff0c\u4f46\u5c06\u5176\u4fdd\u5b58\u4e3a\u53e6\u4e00\u79cd\u7c7b\u578b\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a `select_as` \u548c `save_as` \u5c5e\u6027\u6765\u5b8c\u6210\u8f6c\u6362\u3002\u4e00\u4e2a\u5178\u578b\u7684\u7528\u4f8b\u662f\u9009\u62e9 `citext`\uff08\u533a\u5206\u5927\u5c0f\u5199\u7684\u6587\u672c\uff09\u7c7b\u578b\u7684\u5217\u4f5c\u4e3a Rust \u4e2d\u7684 `String`\uff0c\u5e76\u5c06\u5176\u4fdd\u5b58\u4e3a `citext`\u3002\u60a8\u5e94\u5982\u4e0b\u5b9a\u4e49\u6a21\u578b\u5b57\u6bb5\uff1a\\r\\n\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"ci_table\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    #[sea_orm(select_as = \\"text\\", save_as = \\"citext\\")]\\r\\n    pub case_insensitive_text: String\\r\\n}\\r\\n\\r\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\r\\npub enum Relation {}\\r\\n\\r\\nimpl ActiveModelBehavior for ActiveModel {}\\r\\n```\\r\\n\\r\\n## \u5bf9 `ActiveModelBehavior` \u7684\u66f4\u6539\\r\\n\\r\\n[[#1328](https://github.com/SeaQL/sea-orm/pull/1328), [#1145](https://github.com/SeaQL/sea-orm/pull/1145)] `ActiveModelBehavior` \u7684\u65b9\u6cd5\u73b0\u5728\u6709\u4e00\u4e2a `Connection` \u4f5c\u4e3a\u989d\u5916\u53c2\u6570\u3002\u8fd9\u4f7f\u60a8\u80fd\u591f\u6267\u884c\u6570\u636e\u5e93\u64cd\u4f5c\uff0c\u4f8b\u5982\uff0c\u8bb0\u5f55\u5bf9\u73b0\u6709\u6a21\u578b\u6240\u505a\u7684\u66f4\u6539\u6216\u5728\u63d2\u5165\u4e4b\u524d\u9a8c\u8bc1\u6570\u636e\u3002\\r\\n\\r\\n```rust\\r\\n#[async_trait]\\r\\nimpl ActiveModelBehavior for ActiveModel {\\r\\n    /// \u521b\u5efa\u4e00\u4e2a\u5177\u6709\u9ed8\u8ba4\u503c\u7684\u65b0 ActiveModel\uff0c\u4e5f\u7528\u4e8e `Default::default()`\u3002\\r\\n    fn new() -> Self {\\r\\n        Self {\\r\\n            uuid: Set(Uuid::new_v4()),\\r\\n            ..ActiveModelTrait::default()\\r\\n        }\\r\\n    }\\r\\n\\r\\n    /// \u5c06\u5728\u63d2\u5165/\u66f4\u65b0\u4e4b\u524d\u89e6\u53d1\\r\\n    async fn before_save<C>(self, db: &C, insert: bool) -> Result<Self, DbErr>\\r\\n    where\\r\\n        C: ConnectionTrait,\\r\\n    {\\r\\n        // \u8bb0\u5f55\u53d8\u66f4\\r\\n        edit_log::ActiveModel {\\r\\n            action: Set(\\"before_save\\".into()),\\r\\n            values: Set(serde_json::json!(model)),\\r\\n            ..Default::default()\\r\\n        }\\r\\n        .insert(db)\\r\\n        .await?;\\r\\n\\r\\n        Ok(self)\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u8981\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u9605\u8bfb [\u5b9e\u4f53\u6587\u6863](https://www.sea-ql.org/SeaORM/docs/generate-entity/entity-structure/#active-model-behavior)\u3002\\r\\n\\r\\n## \u6267\u884c\u672a\u51c6\u5907\u7684 SQL \u8bed\u53e5\\r\\n\\r\\n[[#1327](https://github.com/SeaQL/sea-orm/pull/1327)] \u60a8\u53ef\u4ee5\u4f7f\u7528 [`ConnectionTrait::execute_unprepared`](https://docs.rs/sea-orm/*/sea_orm/trait.ConnectionTrait.html#tymethod.execute_unprepared) \u6267\u884c\u672a\u51c6\u5907\u7684 SQL \u8bed\u53e5\u3002\\r\\n\\r\\n```rust\\r\\n// \u5982\u679c SQL \u8bed\u53e5\u6ca1\u6709\u503c\u7ed1\u5b9a\uff0c\u5219\u4f7f\u7528 `execute_unprepared`\\r\\ndb.execute_unprepared(\\r\\n    \\"CREATE TABLE `cake` (\\r\\n        `id` int NOT NULL AUTO_INCREMENT PRIMARY KEY,\\r\\n        `name` varchar(255) NOT NULL\\r\\n    )\\"\\r\\n)\\r\\n.await?;\\r\\n\\r\\n// \u5982\u679c SQL \u5305\u542b\u503c\u7ed1\u5b9a\uff0c\u5219\u6784\u9020 `Statement`\\r\\nlet stmt = Statement::from_sql_and_values(\\r\\n    manager.get_database_backend(),\\r\\n    r#\\"INSERT INTO `cake` (`name`) VALUES (?)\\"#,\\r\\n    [\\"Cheese Cake\\".into()]\\r\\n);\\r\\ndb.execute(stmt).await?;\\r\\n```\\r\\n\\r\\n## \u9009\u62e9\u5230\u5143\u7ec4\\r\\n\\r\\n[[#1311](https://github.com/SeaQL/sea-orm/pull/1311)] \u60a8\u53ef\u4ee5\u4f7f\u7528 [`into_tuple`](https://docs.rs/sea-orm/*/sea_orm/struct.Selector.html#method.into_tuple) \u65b9\u6cd5\u9009\u62e9\u5143\u7ec4\uff08\u6216\u5355\u4e2a\u503c\uff09\u3002\\r\\n\\r\\n```rust\\r\\nlet res: Vec<(String, i64)> = cake::Entity::find()\\r\\n    .select_only()\\r\\n    .column(cake::Column::Name)\\r\\n    .column(cake::Column::Id.count())\\r\\n    .group_by(cake::Column::Name)\\r\\n    .into_tuple()\\r\\n    .all(&db)\\r\\n    .await?;\\r\\n```\\r\\n\\r\\n## \u539f\u5b50\u8fc1\u79fb\\r\\n\\r\\n[[#1379](https://github.com/SeaQL/sea-orm/pull/1379)] \u8fc1\u79fb\u5c06\u5728 Postgres \u4e2d\u539f\u5b50\u6267\u884c\uff0c\u8fd9\u610f\u5473\u7740\u8fc1\u79fb\u811a\u672c\u5c06\u5728\u4e8b\u52a1\u4e2d\u6267\u884c\u3002\u5982\u679c\u8fc1\u79fb\u5931\u8d25\uff0c\u5bf9\u6570\u636e\u5e93\u6240\u505a\u7684\u66f4\u6539\u5c06\u56de\u6eda\u3002\u7136\u800c\uff0cMySQL \u548c SQLite \u4e0d\u652f\u6301\u539f\u5b50\u8fc1\u79fb\u3002\\r\\n\\r\\n\u60a8\u53ef\u4ee5\u5728\u6bcf\u4e2a\u8fc1\u79fb\u5185\u542f\u52a8\u4e00\u4e2a\u4e8b\u52a1\uff0c\u4ee5\u6267\u884c\u8bf8\u5982\u4e3a\u65b0\u521b\u5efa\u7684\u8868 [\u586b\u5145\u793a\u4f8b\u6570\u636e](https://www.sea-ql.org/SeaORM/docs/migration/seeding-data/#seeding-data-transactionally) \u7684\u64cd\u4f5c\u3002\\r\\n\\r\\n## \u7c7b\u578b\u652f\u6301\\r\\n\\r\\n* [[#1325](https://github.com/SeaQL/sea-orm/pull/1325)] \u652f\u6301 `uuid::fmt` \u6a21\u5757\u4e2d\u53ef\u7528\u7684\u5404\u79cd UUID \u683c\u5f0f\\r\\n\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"uuid_fmt\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    pub uuid: Uuid,\\r\\n    pub uuid_braced: uuid::fmt::Braced,\\r\\n    pub uuid_hyphenated: uuid::fmt::Hyphenated,\\r\\n    pub uuid_simple: uuid::fmt::Simple,\\r\\n    pub uuid_urn: uuid::fmt::Urn,\\r\\n}\\r\\n```\\r\\n\\r\\n* [[#1210](https://github.com/SeaQL/sea-orm/pull/1210)] \u5bf9 Postgres \u7684\u679a\u4e3e\u5411\u91cf\u652f\u6301\\r\\n\\r\\n```rust\\r\\n#[derive(Debug, Clone, PartialEq, Eq, EnumIter, DeriveActiveEnum)]\\r\\n#[sea_orm(rs_type = \\"String\\", db_type = \\"Enum\\", enum_name = \\"tea\\")]\\r\\npub enum Tea {\\r\\n    #[sea_orm(string_value = \\"EverydayTea\\")]\\r\\n    EverydayTea,\\r\\n    #[sea_orm(string_value = \\"BreakfastTea\\")]\\r\\n    BreakfastTea,\\r\\n}\\r\\n\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"enum_vec\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    pub teas: Vec<Tea>,\\r\\n    pub teas_opt: Option<Vec<Tea>>,\\r\\n}\\r\\n```\\r\\n\\r\\n* [[#1414](https://github.com/SeaQL/sea-orm/pull/1414)] \u652f\u6301\u5c06 `ActiveEnum` \u5b57\u6bb5\u7528\u4f5c\u4e3b\u952e\\r\\n\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"enum_primary_key\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key, auto_increment = false)]\\r\\n    pub id: Tea,\\r\\n    pub category: Option<Category>,\\r\\n    pub color: Option<Color>,\\r\\n}\\r\\n```\\r\\n\\r\\n## \u53ef\u9009\u62e9\u7684\u4e0d\u7a33\u5b9a\u5185\u90e8 API\\r\\n\\r\\n\u901a\u8fc7\u542f\u7528 `sea-orm-internal` \u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4e0d\u7a33\u5b9a\u7684\u5185\u90e8 API\uff0c\u5305\u62ec\uff1a\\r\\n\\r\\n* \u4f7f\u7528 [`get_*_connection_pool`](https://docs.rs/sea-orm/*/sea_orm/enum.DatabaseConnection.html#impl-DatabaseConnection-2) \u65b9\u6cd5\u8bbf\u95ee SQLx \u7684\u5185\u90e8\u8fde\u63a5\u6c60\\r\\n* \u91cd\u65b0\u5bfc\u51fa [SQLx \u9519\u8bef\u7c7b\u578b](https://docs.rs/sea-orm/*/sea_orm/error/index.html)\uff1a`SqlxError`\u3001`SqlxMySqlError`\u3001`SqlxPostgresError` \u548c `SqlxSqliteError`\\r\\n\\r\\n## \u7834\u574f\u6027\u66f4\u6539\\r\\n\\r\\n* [[#1366](https://github.com/SeaQL/sea-orm/pull/1366)] `sea-query` \u5df2\u5347\u7ea7\u5230 [`0.28.x`](https://github.com/SeaQL/sea-query/releases/tag/0.28.0)\uff0c\u8fd9\u5e26\u6765\u4e86\u4e00\u4e9b\u6539\u8fdb\u548c\u7834\u574f\u6027\u66f4\u6539\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u53d1\u5e03\u8bf4\u660e\\r\\n\\r\\n* [[#1420](https://github.com/SeaQL/sea-orm/pull/1420)] sea-orm-cli\uff1a`generate entity` \u547d\u4ee4\u9ed8\u8ba4\u542f\u7528 `--universal-time` \u6807\u5fd7\\r\\n\\r\\n* [[#1425](https://github.com/SeaQL/sea-orm/pull/1425)] \u5411 `DbErr` \u6dfb\u52a0 `RecordNotInserted` \u548c `RecordNotUpdated`\\r\\n\\r\\n* [[#1327](https://github.com/SeaQL/sea-orm/pull/1327)] \u6dfb\u52a0\u4e86 `ConnectionTrait::execute_unprepared` \u65b9\u6cd5\\r\\n\\r\\n* [[#1311](https://github.com/SeaQL/sea-orm/pull/1311)] `TryGetable` \u7684\u8981\u6c42\u65b9\u6cd5\u5df2\u66f4\u6539\uff1a\\r\\n\\r\\n```rust\\r\\n// \u7136\u540e\\r\\nfn try_get(res: &QueryResult, pre: &str, col: &str) -> Result<Self, TryGetError>;\\r\\n// \u73b0\u5728; ColIdx \u53ef\u4ee5\u662f `&str` \u6216 `usize`\\r\\nfn try_get_by<I: ColIdx>(res: &QueryResult, index: I) -> Result<Self, TryGetError>;\\r\\n```\\r\\n\\r\\n\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u81ea\u5df1\u5b9e\u73b0\u4e86\u5b83\uff1a\\r\\n\\r\\n```diff\\r\\nimpl TryGetable for XXX {\\r\\n-   fn try_get(res: &QueryResult, pre: &str, col: &str) -> Result<Self, TryGetError> {\\r\\n+   fn try_get_by<I: sea_orm::ColIdx>(res: &QueryResult, idx: I) -> Result<Self, TryGetError> {\\r\\n-       let value: YYY = res.try_get(pre, col).map_err(TryGetError::DbErr)?;\\r\\n+       let value: YYY = res.try_get_by(idx).map_err(TryGetError::DbErr)?;\\r\\n        ..\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n* [[#1328](https://github.com/SeaQL/sea-orm/pull/1328)] `ActiveModelBehavior` \u7279\u6027\u53d8\u4e3a\u5f02\u6b65\u7279\u6027\u3002\\r\\n\u5982\u679c\u60a8\u91cd\u5199\u4e86\u9ed8\u8ba4 `ActiveModelBehavior` \u7684\u5b9e\u73b0\uff1a\\r\\n\\r\\n```rust\\r\\n#[async_trait::async_trait]\\r\\nimpl ActiveModelBehavior for ActiveModel {\\r\\n    async fn before_save<C>(self, db: &C, insert: bool) -> Result<Self, DbErr>\\r\\n    where\\r\\n        C: ConnectionTrait,\\r\\n    {\\r\\n        // ...\\r\\n    }\\r\\n\\r\\n    // ...\\r\\n}\\r\\n```\\r\\n\\r\\n* [[#1425](https://github.com/SeaQL/sea-orm/pull/1425)] `DbErr::RecordNotFound(\\"\u6ca1\u6709\u5f71\u54cd\u6570\u636e\u5e93\u884c\\")` \u88ab\u79fb\u81f3\u4e13\u7528\u9519\u8bef\u53d8\u4f53 `DbErr::RecordNotUpdated`\\r\\n\\r\\n```rust\\r\\nlet res = Update::one(cake::ActiveModel {\\r\\n        name: Set(\\"Cheese Cake\\".to_owned()),\\r\\n        ..model.into_active_model()\\r\\n    })\\r\\n    .exec(&db)\\r\\n    .await;\\r\\n\\r\\n// \u7136\u540e\\r\\nassert_eq!(\\r\\n    res,\\r\\n    Err(DbErr::RecordNotFound(\\r\\n        \\"\u6ca1\u6709\u5f71\u54cd\u6570\u636e\u5e93\u884c\\".to_owned()\\r\\n    ))\\r\\n);\\r\\n\\r\\n// \u73b0\u5728\\r\\nassert_eq!(res, Err(DbErr::RecordNotUpdated));\\r\\n```\\r\\n\\r\\n* [[#1395](https://github.com/SeaQL/sea-orm/pull/1395)] `sea_orm::ColumnType` \u88ab\u66ff\u6362\u4e3a `sea_query::ColumnType`\\r\\n    * \u65b9\u6cd5 `ColumnType::def` \u88ab\u79fb\u52a8\u5230 `ColumnTypeTrait`\\r\\n    * `ColumnType::Binary` \u6210\u4e3a\u4e00\u4e2a\u5143\u7ec4\u53d8\u4f53\uff0c\u63a5\u53d7\u989d\u5916\u9009\u9879 `sea_query::BlobSize`\\r\\n    * `ColumnType::Custom` \u4f7f\u7528 `sea_query::DynIden` \u800c\u4e0d\u662f `String`\uff0c\u5e76\u56e0\u6b64\u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u65b9\u6cd5 `custom`\uff08\u6ce8\u610f\u5c0f\u5199\uff09\\r\\n\\r\\n```diff\\r\\n// \u7cbe\u7b80\u5b9e\u4f53\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"fruit\\")]\\r\\npub struct Model {\\r\\n-   #[sea_orm(column_type = r#\\"Custom(\\"citext\\".to_owned())\\"#)]\\r\\n+   #[sea_orm(column_type = r#\\"custom(\\"citext\\")\\"#)]\\r\\n    pub column: String,\\r\\n}\\r\\n```\\r\\n\\r\\n```diff\\r\\n// \u6269\u5c55\u5b9e\u4f53\\r\\nimpl ColumnTrait for Column {\\r\\n    type EntityName = Entity;\\r\\n\\r\\n    fn def(&self) -> ColumnDef {\\r\\n        match self {\\r\\n-           Self::Column => ColumnType::Custom(\\"citext\\".to_owned()).def(),\\r\\n+           Self::Column => ColumnType::custom(\\"citext\\").def(),\\r\\n        }\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n## SeaORM \u589e\u5f3a\\r\\n\\r\\n* [[#1256](https://github.com/SeaQL/sea-orm/pull/1256)] \u91cd\u6784 schema \u6a21\u5757\u4ee5\u516c\u5f00\u6570\u636e\u5e93\u4fee\u6539\u529f\u80fd\\r\\n* [[#1346](https://github.com/SeaQL/sea-orm/pull/1346)] \u4f7f\u7528 `#[sea_orm(column_type = \\"JsonBinary\\")]` \u5b8f\u5c5e\u6027\u751f\u6210\u7d27\u51d1\u5b9e\u4f53\\r\\n* `MockDatabase::append_exec_results()`\u3001`MockDatabase::append_query_results()`\u3001`MockDatabase::append_exec_errors()` \u548c `MockDatabase::append_query_errors()` [[#1367](https://github.com/SeaQL/sea-orm/pull/1367)] \u63a5\u53d7\u4efb\u4f55\u5b9e\u73b0\u4e86 `IntoIterator` \u7279\u6027\u7684\u7c7b\u578b\\r\\n* [[#1362](https://github.com/SeaQL/sea-orm/pull/1362)] `find_by_id` \u548c `delete_by_id` \u63a5\u53d7\u4efb\u4f55 `Into` \u4e3b\u952e\u503c\\r\\n* [[#1410](https://github.com/SeaQL/sea-orm/pull/1410)] `QuerySelect::offset` \u548c `QuerySelect::limit` \u63a5\u53d7 `Into<Option<u64>>`\uff0c\u5176\u4e2d `None` \u5c06\u91cd\u7f6e\u5b83\u4eec\\r\\n* [[#1236](https://github.com/SeaQL/sea-orm/pull/1236)] \u6dfb\u52a0\u4e86 `DatabaseConnection::close`\\r\\n* [[#1381](https://github.com/SeaQL/sea-orm/pull/1381)] \u4e3a `ColumnDef` \u6dfb\u52a0\u4e86 `is_null` getter\\r\\n* [[#1177](https://github.com/SeaQL/sea-orm/pull/1177)] \u6dfb\u52a0\u4e86 `ActiveValue::reset` \u7528\u4e8e\u5c06 `Unchanged` \u8f6c\u6362\u4e3a `Set`\\r\\n* [[#1415](https://github.com/SeaQL/sea-orm/pull/1415)] \u6dfb\u52a0\u4e86 `QueryTrait::apply_if` \u53ef\u9009\u62e9\u5730\u5e94\u7528\u8fc7\u6ee4\u5668\\r\\n* \u6dfb\u52a0\u4e86 `sea-orm-internal` \u529f\u80fd\u6807\u5fd7\u4ee5\u516c\u5f00\u67d0\u4e9b SQLx \u7c7b\u578b\\r\\n    * [[#1297](https://github.com/SeaQL/sea-orm/pull/1297)] \u6dfb\u52a0\u4e86 `DatabaseConnection::get_*_connection_pool()` \u7528\u4e8e\u8bbf\u95ee\u5185\u90e8 SQLx \u8fde\u63a5\u6c60\\r\\n    * [[#1434](https://github.com/SeaQL/sea-orm/pull/1434)] \u91cd\u65b0\u5bfc\u51fa SQLx \u9519\u8bef\\r\\n\\r\\n## CLI \u589e\u5f3a\\r\\n\\r\\n* [[#846](https://github.com/SeaQL/sea-orm/pull/846), [#1186](https://github.com/SeaQL/sea-orm/pull/1186), [#1318](https://github.com/SeaQL/sea-orm/pull/1318)] \u4e3a\u4e3b\u952e\u5217\u751f\u6210 `#[serde(skip_deserializing)]`\\r\\n* [[#1171](https://github.com/SeaQL/sea-orm/pull/1171), [#1320](https://github.com/SeaQL/sea-orm/pull/1320)] \u4e3a\u9690\u85cf\u5217\u751f\u6210 `#[serde(skip)]`\\r\\n* [[#1124](https://github.com/SeaQL/sea-orm/pull/1124), [#1321](https://github.com/SeaQL/sea-orm/pull/1321)] \u4e3a\u6a21\u578b\u7ed3\u6784\u751f\u6210\u989d\u5916\u7684\u6d3e\u751f\u548c\u5c5e\u6027\\r\\n\\r\\n## \u96c6\u6210\u793a\u4f8b\\r\\n\\r\\nSeaORM \u4e0e\u5f02\u6b65\u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u5176\u4ed6 crate \u534f\u8c03\u826f\u597d\u3002\u6211\u4eec\u7ef4\u62a4\u4e86\u4e00\u7cfb\u5217\u793a\u4f8b\u9879\u76ee\uff0c\u7528\u4e8e\u6784\u5efa REST\u3001GraphQL \u548c gRPC \u670d\u52a1\u3002\u66f4\u591a\u793a\u4f8b [\u6b22\u8fce](https://github.com/SeaQL/sea-orm/issues/269)!\\r\\n\\r\\n* [Actix v4 \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example)\\r\\n* [Axum \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example)\\r\\n* [GraphQL \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example)\\r\\n* [jsonrpsee \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example)\\r\\n* [Poem \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example)\\r\\n* [Rocket \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example)\\r\\n* [Salvo \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example)\\r\\n* [Tonic \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example)\\r\\n\\r\\n## \u8d5e\u52a9\u5546\\r\\n\\r\\n\u6211\u4eec\u7684 [GitHub Sponsor](https://github.com/sponsors/SeaQL) \u8d44\u6599\u5df2\u4e0a\u7ebf\uff01SeaQL.org \u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u5f00\u6e90\u7ec4\u7ec7\uff0c\u7531\u70ed\u60c5\u7684\u5f00\u53d1\u8005\u8fd0\u8425\u3002\u5982\u679c\u60a8\u559c\u6b22\u4f7f\u7528 SeaORM\uff0c\u8bf7\u4e3a\u6211\u4eec\u7684\u5e93\u70b9\u8d5e\u5e76\u5206\u4eab\u3002\u5982\u679c\u60a8\u613f\u610f\uff0c\u5c11\u91cf\u6350\u6b3e\u5c06\u4e0d\u80dc\u611f\u6fc0\uff0c\u5e76\u5927\u5927\u6709\u52a9\u4e8e\u652f\u6301\u8be5\u9879\u76ee\u3002\\r\\n\\r\\n\u7279\u522b\u611f\u8c22\u6211\u4eec\u7684\u8d5e\u52a9\u5546 \ud83d\ude07\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Afonso Barracha\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Dean Sheather\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sakti Dwi Cahyono\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/DominoTree\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/5438118?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Nick Price\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/rgoracz\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/6758092?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Roland Gor\xe1cz\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/hgiesel\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/7188844?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Henrik Giesel\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/trueb2\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/8592049?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Jacob Trueb\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Naoki Ikeguchi\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Manfred Lee\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marcusbuffett\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marcus Buffett\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/efrain2007\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/65697999?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    efrain2007\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u4e0b\u4e00\u6b65\uff1f\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\u5e76\u5171\u540c\u5efa\u8bbe Rust \u7684\u672a\u6765\u3002\\r\\n\\r\\n\u8fd9\u662f SeaORM [`0.12.x`](https://github.com/SeaQL/sea-orm/milestone/12) \u7684\u8def\u7ebf\u56fe\u3002"},{"id":"2023-02-05-faq-02","metadata":{"permalink":"/blog/2023-02-05-faq-02","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-02-05-faq-02.md","source":"@site/blog/2023-02-05-faq-02.md","title":"SeaORM FAQ.02","description":"FAQ.02 \u4e3a\u4ec0\u4e48\u5373\u4f7f\u4e00\u4e2a Entity \u6ca1\u6709\u5173\u8054\uff0c\u7a7a\u7684\u679a\u4e3e Relation {} \u4e5f\u662f\u5fc5\u9700\u7684\uff1f","date":"2023-02-05T00:00:00.000Z","formattedDate":"February 5, 2023","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":1.615,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2023-02-05-faq-02","title":"SeaORM FAQ.02","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"prevItem":{"title":"SeaORM 0.11.0 \u7684\u65b0\u529f\u80fd","permalink":"/blog/2023-02-08-whats-new-in-seaorm-0.11.0"},"nextItem":{"title":"\u5b9e\u4e60 @ SeaQL","permalink":"/blog/2023-01-28-internship-at-seaql"}},"content":"## FAQ.02 \u4e3a\u4ec0\u4e48\u5373\u4f7f\u4e00\u4e2a Entity \u6ca1\u6709\u5173\u8054\uff0c\u7a7a\u7684\u679a\u4e3e `Relation {}` \u4e5f\u662f\u5fc5\u9700\u7684\uff1f\\r\\n\\r\\n\u8003\u8651\u4ee5\u4e0b\u793a\u4f8b [Post](https://github.com/SeaQL/sea-orm/blob/master/examples/actix_example/entity/src/post.rs) \u5b9e\u4f53\uff1a\\r\\n\\r\\n```rust\\r\\nuse sea_orm::entity::prelude::*;\\r\\n\\r\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"posts\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    pub title: String,\\r\\n    pub text: String,\\r\\n}\\r\\n\\r\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\r\\npub enum Relation {}\\r\\n\\r\\nimpl ActiveModelBehavior for ActiveModel {}\\r\\n```\\r\\n\\r\\n\u5b9a\u4e49 `Relation` \u7684\u4e24\u884c\u4ee3\u7801\u4f3c\u4e4e\u76f8\u5f53\u591a\u4f59\uff0c\u5bf9\u5427\uff1f\\r\\n\\r\\n\u4e3a\u4e86\u8bf4\u660e\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u7a0d\u5fae\u6df1\u5165\u4e00\u4e0b\u5b8f\u6269\u5c55\u7684\u5b9e\u4f53\uff1a\\r\\n\\r\\n`DeriveRelation` \u5b8f\u7b80\u5355\u5730\u5b9e\u73b0\u4e86 `RelationTrait`\uff1a\\r\\n\\r\\n```rust\\r\\nimpl RelationTrait for Relation {\\r\\n    fn def(&self) -> RelationDef {\\r\\n        match self {\\r\\n            _ => unreachable!()\\r\\n        }\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u8fd9\u53c8\u662f `EntityTrait` \u4f5c\u4e3a\u5173\u8054\u7c7b\u578b\u6240\u9700\u7684\uff1a\\r\\n\\r\\n```rust\\r\\nimpl EntityTrait for Entity {\\r\\n    type Relation = Relation;\\r\\n    ...\\r\\n}\\r\\n```\\r\\n\\r\\n\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u7528\u6237\u6ca1\u6709\u6307\u5b9a\u8fd9\u4e2a\u5173\u8054\u7c7b\u578b\uff0c\u5e93\u4f1a\u81ea\u52a8\u586b\u5145\u4e00\u4e2a\u5360\u4f4d\u7b26\u4ee5\u6ee1\u8db3\u7c7b\u578b\u7cfb\u7edf\uff1f\\r\\n\\r\\n\u4e8b\u5b9e\u8bc1\u660e\uff0cRust \u4e2d\u786e\u5b9e\u6709\u8fd9\u6837\u7684\u529f\u80fd\uff01\u8fd9\u662f\u4e00\u4e2a\u4e0d\u7a33\u5b9a\u7279\u6027\uff0c\u79f0\u4e3a [`associated_type_defaults`](https://rust-lang.github.io/rfcs/2532-associated-type-defaults.html)\u3002\\r\\n\\r\\n\u57fa\u672c\u4e0a\uff0c\u5b83\u5141\u8bb8trait\u5b9a\u4e49\u6307\u5b9a\u9ed8\u8ba4\u5173\u8054\u7c7b\u578b\uff0c\u4ece\u800c\u53ef\u4ee5\u7701\u7565\uff1a\\r\\n\\r\\n```rust\\r\\n// \u4ec5\u5728 nightly \u4e2d\u7f16\u8bd1\\r\\ntrait EntityTrait {\\r\\n    type Relation: Relation = EmptyRelation;\\r\\n}\\r\\n```\\r\\n\\r\\n\u7531\u4e8e\u6211\u4eec\u5bf9\u7a33\u5b9a Rust \u7684\u627f\u8bfa\uff0c\u8fd9\u4e2a\u7279\u6027\u53ef\u80fd\u4e0d\u4f1a\u5f88\u5feb\u5728 SeaORM \u4e2d\u5b9e\u73b0\u3002\u5f53\u5b83\u7a33\u5b9a\u540e\uff0c\u8bf7\u63d0\u9192\u6211\u4eec\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\uff0c\u4ee5\u53bb\u6389\u90a3\u4e24\u884c\u4ee3\u7801\uff01"},{"id":"2023-01-28-internship-at-seaql","metadata":{"permalink":"/blog/2023-01-28-internship-at-seaql","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-01-28-internship-at-seaql.md","source":"@site/blog/2023-01-28-internship-at-seaql.md","title":"\u5b9e\u4e60 @ SeaQL","description":"SeaQL.org \u63d0\u4f9b\u9488\u5bf9\u5927\u5b66\u751f\u7684\u5b9e\u4e60\u673a\u4f1a\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u5c06\u662f 2023 \u5e74\u7684\u7b2c 3 \u5c4a\u5b9e\u4e60\u751f\u3002","date":"2023-01-28T00:00:00.000Z","formattedDate":"January 28, 2023","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":4.865,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2023-01-28-internship-at-seaql","title":"\u5b9e\u4e60 @ SeaQL","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"SeaORM FAQ.02","permalink":"/blog/2023-02-05-faq-02"},"nextItem":{"title":"\u5bfb\u6c42\u8d21\u732e\u8005\u548c\u5ba1\u9605\u8005 \ud83d\udce2","permalink":"/blog/2023-01-01-call-for-contributors-n-reviewers"}},"content":"SeaQL.org \u63d0\u4f9b\u9488\u5bf9\u5927\u5b66\u751f\u7684\u5b9e\u4e60\u673a\u4f1a\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u5c06\u662f 2023 \u5e74\u7684\u7b2c 3 \u5c4a\u5b9e\u4e60\u751f\u3002\\r\\n\\r\\n\u5b9e\u4e60\u901a\u5e38\u5728\u590f\u5b63\u548c\u51ac\u5b63\u5b66\u671f\u7684\u5047\u671f\u8fdb\u884c\u3002\u5728\u5b9e\u4e60\u671f\u95f4\uff0c\u60a8\u5c06\u4e13\u6ce8\u4e8e\u4e00\u4e2a\u9879\u76ee\uff0c\u5e76\u5728\u7ed3\u675f\u65f6\u53d1\u5e03\u8be5\u9879\u76ee\u7684\u6210\u679c\u3002\\r\\n\\r\\n\u6211\u4eec\u8fd0\u8425\u6a21\u5f0f\u7684\u663e\u8457\u7279\u70b9\u662f\u6db5\u76d6\u8f6f\u4ef6\u5f00\u53d1\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\uff0c\u4ece\u8bbe\u8ba1 \u27a1\ufe0f \u5b9e\u73b0 \u27a1\ufe0f \u6d4b\u8bd5 \u27a1\ufe0f \u4ea4\u4ed8\u3002\u60a8\u5c06\u4f1a\u60ca\u8bb6\u4e8e\u5728\u5982\u6b64\u77ed\u7684\u65f6\u95f4\u5185\u80fd\u53d6\u5f97\u591a\u5c11\u6210\u5c31\uff01\\r\\n\\r\\n\u8fc4\u4eca\u4e3a\u6b62\uff0c[StarfishQL \u2734\ufe0f](https://www.sea-ql.org/StarfishQL/) \u548c [Seaography \ud83e\udded](https://www.sea-ql.org/Seaography/) \u662f\u6211\u4eec\u56e2\u961f\u5728\u8fc7\u53bb\u4e00\u5e74\u4e2d\u521b\u5efa\u7684\u6770\u51fa\u9879\u76ee\u3002\u6211\u4eec\u4ee5\u7cbe\u5fc3\u89c4\u5212\u3001\u4e00\u81f4\u6267\u884c\u548c\u52a1\u5b9e\u7684\u65b9\u6cd5\u4e3a\u8363\uff0c\u6211\u6295\u5165\u4e86\u5927\u91cf\u65f6\u95f4\u8fdb\u884c\u60f3\u6cd5\u8bc4\u4f30\uff1a\u5982\u679c\u9879\u76ee\u8303\u56f4\u592a\u5c0f\uff0c\u5c06\u4f1a\u6ca1\u6709\u8da3\u5473\uff0c\u800c\u5982\u679c\u8303\u56f4\u592a\u5927\uff0c\u5219\u5c06\u65e0\u6cd5\u6309\u65f6\u4ea4\u4ed8\u3002\\r\\n\\r\\n\u4eb2\u7231\u7684\u672c\u79d1\u751f\u4eec\uff0c\u8fd9\u91cc\u6709\u51e0\u4e2a\u60a8\u5e94\u8be5\u53c2\u52a0\u50cf SeaQL \u8fd9\u6837\u7684\u5f00\u6e90\u7ec4\u7ec7\u5b9e\u4e60\u7684\u597d\u7406\u7531\uff1a\\r\\n\\r\\n1.  \u660e\u786e\u7684\u7b80\u5386\u5c55\u793a\uff1a\u5f00\u6e90\u9879\u76ee\u662f\u516c\u5f00\u3001\u53ef\u68c0\u67e5\u7684\uff0c\u5e76\u5177\u6709\u73b0\u5b9e\u4e16\u754c\u7684\u5f71\u54cd\u529b\u3002\u6211\u4eec\u8fd8\u786e\u4fdd\u5b83\u5177\u6709\u826f\u597d\u7684\u54c1\u724c\u5f62\u8c61\u3001\u56fe\u5f62\u8bbe\u8ba1\u548c\u53ef\u89c1\u5ea6\u3002\\r\\n2.  \u4e0d\u53d7\u5546\u4e1a\u6d41\u7a0b\u9a71\u52a8\uff0c\u6211\u4eec\u4e0d\u59a5\u534f\u4e8e\u5de5\u4f5c\u8d28\u91cf\u3002\u6211\u4eec\u6ca1\u6709\u4e13\u6709\u7684\u5f00\u53d1\u6d41\u7a0b\uff0c\u56e0\u6b64\u6240\u6709\u4f7f\u7528\u7684\u5de5\u5177\u90fd\u662f\u5f00\u6e90\u7684\uff0c\u5177\u5907\u53ef\u8f6c\u79fb\u7684\u6280\u80fd\u3002\\r\\n3.  \u60a8\u5c06\u4e3a\u793e\u533a\u4f5c\u51fa\u8d21\u732e\uff0c\u5e76\u4e0e\u6765\u81ea\u4e16\u754c\u5404\u5730\u7684\u4eba\u8fdb\u884c\u4e92\u52a8\u3002\u5f00\u6e90\u534f\u4f5c\u662f\u4eba\u7c7b\u6240\u53d1\u660e\u7684\u6700\u4f73\u4e8b\u7269\u3002\u60a8\u53ea\u6709\u4eb2\u8eab\u4f53\u9a8c\u540e\u624d\u4f1a\u76f8\u4fe1\u6211\u7684\u8bdd\u3002\\r\\n4.  \u56e0\u4e3a\u60a8\u662f\u6240\u5de5\u4f5c\u9879\u76ee\u7684\u63a8\u52a8\u8005\uff0c\u8fd9\u8ba9\u60a8\u80fd\u591f\u66f4\u591a\u5730\u53d1\u73b0\u81ea\u5df1\uff0c\u7279\u522b\u662f\u80fd\u529b\u548c\u81ea\u5f8b\uff1a\u5728\u67d0\u4e2a\u65b9\u9762\uff0c\u60a8\u603b\u4f1a\u4f4e\u4f30\u6216\u9ad8\u4f30\u81ea\u5df1\u3002\\r\\n\\r\\n\u4ee5\u4e0b\u662f\u60a8\u5c06\u5b66\u4e60\u7684\u51e0\u4e2a\u5185\u5bb9\uff1a\\r\\n\\r\\n1.  \u201c\u601d\u8003 > \u7f16\u7a0b\u201d\uff1a\u60a8\u82b1\u5728\u524d\u671f\u601d\u8003\u4e0a\u7684\u65f6\u95f4\u8d8a\u591a\uff0c\u5199\u51fa\u7684\u4ee3\u7801\u5c31\u4f1a\u8d8a\u597d\u3002\u60a8\u82b1\u5728\u540e\u671f\u5ba1\u67e5\u4e0a\u7684\u65f6\u95f4\u8d8a\u591a\uff0c\u4ee3\u7801\u4e5f\u4f1a\u8d8a\u597d\u3002\\r\\n2.  \u5982\u4f55\u7ec4\u7ec7\u4ee3\u7801\u5e93\u3002\u5145\u5206\u5229\u7528 Rust \u7684\u7c7b\u578b\u7cfb\u7edf\uff0c\u6784\u5efa\u6a21\u5757\u5316\u3001\u53ef\u6d4b\u8bd5\u7684\u4ee3\u7801\u5e93\u3002\\r\\n3.  \u6d4b\u8bd5\u81ea\u52a8\u5316\u3002\u6bcf\u4e2a SeaQL \u9879\u76ee\u90fd\u7ecf\u8fc7\u6301\u7eed\u6d4b\u8bd5\uff0c\u8fd9\u662f\u6211\u4eec\u5de5\u7a0b\u8fc7\u7a0b\u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\u3002\\r\\n4.  \u6587\u6863\u3002\u5728\u6587\u6863\u7f16\u5199\u4e0a\uff0c\u6211\u4eec\u7684\u8f6f\u4ef6\u65e8\u5728\u63d0\u4f9b\u5168\u9762\u3001\u6613\u4e8e\u7406\u89e3\u4e14\u6709\u8da3\u7684\u6559\u7a0b\u3002\\r\\n5.  \u6027\u80fd\u8c03\u4f18\u3002\u6839\u636e\u9879\u76ee\u7684\u4e0d\u540c\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u8fdb\u884c\u4e00\u4e9b\u57fa\u51c6\u6d4b\u8bd5\u548c\u4f18\u5316\u3002\u4f46\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u4f1a\u8ba9\u60a8\u907f\u514d\u7f16\u5199\u4ea7\u751f\u4e0d\u5fc5\u8981\u5f00\u9500\u7684\u4ee3\u7801\u3002\\r\\n\\r\\n\u6211\u4eec\u5728 [GSoC 2022](https://summerofcode.withgoogle.com/programs/2022/organizations/seaql) \u4e2d\u662f\u4e00\u4e2a\u6307\u5bfc\u7ec4\u7ec7\uff0c\u53ef\u80fd\u4f1a\u5728 2023 \u5e74\u518d\u6b21\u53c2\u4e0e\uff08\u66f4\u65b0\uff1a\u6211\u4eec\u672a\u88ab GSoC 2023 \u63a5\u7eb3\uff09\u3002\u6211\u4eec\u8fd8\u63d0\u4f9b GSoC \u4ee5\u5916\u7684\u5b9e\u4e60\u673a\u4f1a\u3002\u90a3\u4e48\uff0c\u6210\u4e3a\u8d21\u732e\u8005\u7684\u8981\u6c42\u662f\u4ec0\u4e48\uff1f\\r\\n\\r\\n1.  \u4fdd\u6301\u70ed\u60c5\u3002\u60a8\u5fc5\u987b\u8868\u73b0\u51fa\u5bf9\u5f00\u6e90\u548c\u8f6f\u4ef6\u5de5\u7a0b\u7684\u70ed\u60c5\uff0c\u56e0\u6b64\u9700\u8981\u6709\u4e00\u4e2a\u826f\u597d\u7684 GitHub \u4e2a\u4eba\u8d44\u6599\uff0c\u5e76\u6709\u4e00\u4e9b\u53c2\u4e0e\u8bb0\u5f55\u3002\\r\\n2.  \u5168\u529b\u4ee5\u8d74\u3002\u8fd9\u662f\u4e00\u4efd\u5168\u804c\u5de5\u4f5c\u3002\u867d\u7136\u5de5\u4f5c\u5b8c\u5168\u8fdc\u7a0b\u4e14\u65f6\u95f4\u7075\u6d3b\uff0c\u4f46\u60a8\u5728\u89c4\u5b9a\u7684\u5b9e\u4e60\u671f\u95f4\u5185\u4e0d\u5f97\u6709\u5176\u4ed6\u627f\u8bfa\u6216\u5de5\u4f5c\u3002\\r\\n3.  \u4fdd\u6301\u5f00\u653e\u7684\u5fc3\u6001\u3002\u60a8\u5e94\u8be5\u8ba4\u771f\u503e\u542c\u60a8\u7684\u5bfc\u5e08\uff0c\u5e76\u6839\u636e\u4ed6\u4eec\u7684\u5efa\u8bae\u91c7\u53d6\u884c\u52a8\u3002\\r\\n4.  \u591a\u5199\u3002\u4ee5\u6709\u7ec4\u7ec7\u7684\u65b9\u5f0f\u5728\u6240\u6709\u6e20\u9053\u4e0a\u4ea4\u6d41\u60a8\u7684\u60f3\u6cd5\u548c\u8fdb\u5c55\u3002\\r\\n\\r\\n\u4e0d\u8fc7\uff0c\u60a8\u4e0d\u4ec5\u8981\u542c\u6211\u7684\u8bdd\u3002\u4ee5\u4e0b\u662f\u6211\u4eec\u8fc7\u53bb\u5b9e\u4e60\u751f\u7684\u5fc3\u58f0\uff1a\\r\\n\\r\\n+ [Sanford Pun](https://github.com/shpun817) - \u5728\u521b\u5efa StarfishQL \u2734\ufe0f \u7684\u56e2\u961f\u4e2d\uff1a[\u5728 Vision Cortex \u548c SeaQL \u5b9e\u4e60](https://shpun817.github.io/2023/01/21/interning-at-vision-cortex-and-seaql/)\\r\\n+ [Panagiotis Karatakis](https://github.com/karatakis) - \u5728\u521b\u5efa Seaography \ud83e\udded \u7684\u56e2\u961f\u4e2d\uff1a[\u6211\u7684 GSoC \u7ecf\u9a8c](https://karatakis.com/blog/my-gsoc-experience)\\r\\n\\r\\n\u4e3a\u60a8\u5373\u5c06\u5230\u6765\u7684\u6280\u672f\u884c\u4e1a\u804c\u4e1a\u751f\u6daf\u505a\u597d\u5145\u5206\u51c6\u5907\uff01\u73b0\u5728\u5c31\u5173\u6ce8\u6211\u4eec\u7684 [GitHub](https://github.com/SeaQL/) \u548c [Twitter](https://twitter.com/sea_ql)\uff0c\u5e76\u7559\u610f\u672a\u6765\u7684\u516c\u544a\u3002"},{"id":"2023-01-01-call-for-contributors-n-reviewers","metadata":{"permalink":"/blog/2023-01-01-call-for-contributors-n-reviewers","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-01-01-call-for-contributors-n-reviewers.md","source":"@site/blog/2023-01-01-call-for-contributors-n-reviewers.md","title":"\u5bfb\u6c42\u8d21\u732e\u8005\u548c\u5ba1\u9605\u8005 \ud83d\udce2","description":"\u6211\u4eec\u6b63\u5728\u5bfb\u6c42 SeaQL \u9879\u76ee\u7684\u8d21\u732e\u8005\u548c\u5ba1\u9605\u8005 \ud83d\udce2\uff01","date":"2023-01-01T00:00:00.000Z","formattedDate":"January 1, 2023","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":6.125,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL \u521b\u59cb\u4eba","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2023-01-01-call-for-contributors-n-reviewers","title":"\u5bfb\u6c42\u8d21\u732e\u8005\u548c\u5ba1\u9605\u8005 \ud83d\udce2","author":"Chris Tsang","author_title":"SeaQL \u521b\u59cb\u4eba","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"prevItem":{"title":"\u5b9e\u4e60 @ SeaQL","permalink":"/blog/2023-01-28-internship-at-seaql"},"nextItem":{"title":"SeaQuery 0.28.0 \u65b0\u7279\u6027","permalink":"/blog/2022-12-30-whats-new-in-seaquery-0.28.0"}},"content":"\u6211\u4eec\u6b63\u5728\u5bfb\u6c42 SeaQL \u9879\u76ee\u7684\u8d21\u732e\u8005\u548c\u5ba1\u9605\u8005 \ud83d\udce2\uff01\\r\\n\\r\\n\u5728\u8fc7\u53bb\u4e00\u5e74\u4e2d\uff0cSeaQL \u7684\u7528\u6237\u57fa\u7840\u7a33\u6b65\u589e\u957f\uff0c\u6211\u4eec\u5f88\u9ad8\u5174\u80fd\u591f\u5e2e\u52a9\u4e2a\u4eba\u548c\u521d\u521b\u4f01\u4e1a\u5728 Rust \u4e2d\u6784\u5efa\u4ed6\u4eec\u7684\u9879\u76ee\u3002\u7136\u800c\uff0c\u95ee\u9898\u3001\u63d0\u95ee\u548c\u62c9\u53d6\u8bf7\u6c42\u7684\u6570\u91cf\u51e0\u4e4e\u8fbe\u5230\u4e86\u6211\u4eec\u6838\u5fc3\u6210\u5458\u7684\u5904\u7406\u80fd\u529b\u4e0a\u9650\u3002\\r\\n\\r\\n\u518d\u6b21\u611f\u8c22\u5927\u5bb6\u53c2\u4e0e\u793e\u533a\uff01\\r\\n\\r\\n\u5982\u679c\u60a8\u7684\u9879\u76ee\u4f9d\u8d56\u4e8e SeaQL\uff0c\u5e76\u4e14\u60a8\u60f3\u5e2e\u52a9\u6211\u4eec\uff0c\u8fd9\u91cc\u6709\u4e00\u4e9b\u5efa\u8bae\uff08\u5982\u679c\u60a8\u8fd8\u6ca1\u6709\uff0c\u8bf7\u7ed9 [\u6211\u4eec\u6240\u6709\u7684\u4ee3\u7801\u5e93](https://github.com/orgs/SeaQL/repositories?q=&type=all&language=&sort=stargazers) \u661f\u6807\uff0c\u5e76\u5728 [Twitter](https://twitter.com/sea_ql) \u4e0a\u5173\u6ce8\u6211\u4eec\uff09\uff1a\\r\\n1. \u8d22\u52a1\u652f\u6301\u3002\u60a8\u53ef\u4ee5\u5728 [GitHub \u4e0a\u8d5e\u52a9\u6211\u4eec](https://github.com/sponsors/SeaQL)\uff0c\u8fd9\u4e9b\u8d44\u91d1\u5c06\u7528\u4e8e\u8986\u76d6\u6211\u4eec\u7684\u5f00\u9500\u3002\u4f5c\u4e3a\u4e00\u79cd\u793c\u9047\uff0c\u6211\u4eec\u4f1a\u503e\u542c\u8d5e\u52a9\u8005\u7684\u9700\u6c42\u548c\u4f7f\u7528\u6848\u4f8b\uff0c\u5e76\u4e0d\u65f6\u6c9f\u901a\u6211\u4eec\u7684\u7ec4\u7ec7\u53d1\u5c55\u60c5\u51b5\u3002\\r\\n2. \u4ee3\u7801\u8d21\u732e\u3002\u6253\u5f00\u4e00\u4e2a PR \u603b\u662f\u53d7\u5230\u6b22\u8fce\uff01\u8981\u5f00\u59cb\uff0c\u60a8\u53ef\u4ee5\u6d4f\u89c8\u6211\u4eec\u7684 issue \u8ddf\u8e2a\u5668\u5e76\u9009\u62e9\u4e00\u4e2a\u6765\u5904\u7406\u3002\u5982\u679c\u60a8\u8003\u8651\u5f00\u53d1\u4e00\u4e2a\u91cd\u8981\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u5148\u8d77\u8349\u4e00\u4e2a [\u201c\u63d0\u6848\u548c\u5b9e\u65bd\u8ba1\u5212\u201d\uff08PIP\uff09](https://github.com/SeaQL/sea-orm/issues?q=is%3Aissue+%5BPIP%5D)\u3002\\r\\n3. \u77e5\u8bc6\u8d21\u732e\u3002\u77e5\u8bc6\u5171\u4eab\u6709\u591a\u79cd\u5f62\u5f0f\uff1a[\u6559\u7a0b](https://github.com/SeaQL/sea-orm-tutorial)\u3001[\u98df\u8c31](https://github.com/SeaQL/sea-orm-cookbook)\u3001[\u95ee\u7b54](https://github.com/SeaQL/sea-orm/discussions/categories/q-a) \u548c Discord\u3002\u60a8\u53ef\u4ee5\u5411\u6211\u4eec\u7684 [\u6587\u6863](https://github.com/SeaQL/seaql.github.io) \u4ee3\u7801\u5e93\u63d0\u4ea4 PR\uff0c\u6216\u8005\u5728\u81ea\u5df1\u7684\u5e73\u53f0\u4e0a\u53d1\u5e03\u3002\u6211\u4eec\u5c06\u5f88\u9ad8\u5174\u5728\u6211\u4eec\u7684\u5b66\u4e60\u8d44\u6e90\u90e8\u5206\u5217\u51fa\u5b83\u3002\u8bf7\u5173\u6ce8\u6211\u4eec\u7684 GitHub \u8ba8\u8bba\u548c Discord\uff0c\u5e2e\u52a9\u4ed6\u4eba\uff01\\r\\n4. \u4ee3\u7801\u5ba1\u9605\u3002\u8fd9\u662f\u6211\u4eec\u5de5\u7a0b\u4e2d\u7684\u91cd\u8981\u6d41\u7a0b\u3002\u76ee\u524d\uff0c\u53ea\u6709 3 \u540d\u6838\u5fc3\u6210\u5458\u5145\u5f53\u5ba1\u9605\u8005\u3002\u975e\u6838\u5fc3\u6210\u5458\u4e5f\u53ef\u4ee5\u6210\u4e3a\u5ba1\u9605\u8005\uff0c\u6211\u9080\u8bf7\u60a8\u52a0\u5165\u6211\u4eec\uff01\\r\\n\\r\\n\u73b0\u5728\uff0c\u6211\u60f3\u6982\u8ff0\u4e00\u4e0b\u6211\u4eec\u7684\u5ba1\u9605\u653f\u7b56\uff1a\u5bf9\u4e8e\u6210\u719f\u9879\u76ee\uff0c\u6bcf\u4e2a\u5408\u5e76\u7684 PR \u5fc5\u987b\u83b7\u5f97\u81f3\u5c11\u4e24\u4e2a\u5ba1\u9605\u8005\u7684\u6279\u51c6\uff0c\u5176\u4e2d\u4e00\u4e2a\u5fc5\u987b\u662f\u6838\u5fc3\u6210\u5458\uff1b\u5141\u8bb8\u81ea\u6211\u5ba1\u9605\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u793a\u4f8b\uff1a\\r\\n\\r\\n+ \u6838\u5fc3\u6210\u5458\u63d0\u4ea4\u4e86 PR\uff0c\u53e6\u4e00\u540d\u6838\u5fc3\u6210\u5458\u6279\u51c6 \u2705\\r\\n+ \u6838\u5fc3\u6210\u5458\u63d0\u4ea4\u4e86 PR\uff0c\u4e00\u540d\u5ba1\u9605\u8005\u6279\u51c6 \u2705\\r\\n+ \u4e00\u540d\u5ba1\u9605\u8005\u63d0\u4ea4\u4e86 PR\uff0c\u6838\u5fc3\u6210\u5458\u6279\u51c6 \u2705\\r\\n+ \u4e00\u540d\u5ba1\u9605\u8005\u63d0\u4ea4\u4e86 PR\uff0c\u53e6\u4e00\u540d\u5ba1\u9605\u8005\u6279\u51c6 \u26d4\\r\\n+ \u4e00\u540d\u8d21\u732e\u8005\u63d0\u4ea4\u4e86 PR\uff0c2 \u540d\u6838\u5fc3\u6210\u5458\u6279\u51c6 \u2705\\r\\n+ \u4e00\u540d\u8d21\u732e\u8005\u63d0\u4ea4\u4e86 PR\uff0c\u4e00\u540d\u6838\u5fc3\u6210\u5458\u548c\u4e00\u540d\u5ba1\u9605\u8005\u6279\u51c6 \u2705\\r\\n+ \u4e00\u540d\u8d21\u732e\u8005\u63d0\u4ea4\u4e86 PR\uff0c2 \u540d\u5ba1\u9605\u8005\u6279\u51c6 \u26d4\\r\\n\\r\\n\u603b\u800c\u8a00\u4e4b\uff0c\u6bcf\u4e2a PR \u81f3\u5c11\u5e94\u8be5\u7ecf\u8fc7\u4e24\u53cc\u503c\u5f97\u4fe1\u8d56\u7684\u773c\u775b\u5ba1\u67e5\u3002\\r\\n\\r\\n### \u5ba1\u67e5 PR \u65f6\u7684\u6807\u51c6\u662f\u4ec0\u4e48\uff1f\\r\\n\\r\\n\u4ee5\u4e0b\u95ee\u9898\u90fd\u5e94\u8be5\u56de\u7b54\u201c\u662f\u201d\u3002\\r\\n\\r\\n1. \u5b9e\u73b0\u3001\u6587\u6863\u548c\u6d4b\u8bd5\\r\\n    1. \u5b9e\u73b0\u662f\u5426\u6613\u4e8e\u7406\u89e3\uff08\u662f\u5426\u6709\u6709\u610f\u4e49\u7684\u53d8\u91cf\u548c\u51fd\u6570\u540d\u79f0\uff09\uff1f\\r\\n    2. API \u662f\u5426\u6709\u8db3\u591f\u7684\u6587\u6863\uff1f\\r\\n    3. \u662f\u5426\u6709\u8db3\u591f\u7684\u6d4b\u8bd5\u8986\u76d6\u5404\u79cd\u60c5\u51b5\uff1f\\r\\n2. API \u8bbe\u8ba1\\r\\n    1. API \u662f\u5426\u81ea\u6211\u6587\u6863\u5316\uff0c\u4ee5\u4fbf\u7528\u6237\u53ef\u4ee5\u8f7b\u677e\u7406\u89e3\u5176\u4f7f\u7528\uff1f\\r\\n    2. API \u98ce\u683c\u662f\u5426\u4e0e\u6211\u4eec\u73b0\u6709\u7684 API \u4e00\u81f4\uff1f\\r\\n    3. API \u662f\u5426\u5408\u7406\u5229\u7528\u7c7b\u578b\u7cfb\u7edf\u6765\u5f3a\u5236\u6267\u884c\u7ea6\u675f\uff1f\\r\\n    4. \u5931\u8d25\u8def\u5f84\u548c\u9519\u8bef\u6d88\u606f\u662f\u5426\u6e05\u6670\uff1f\\r\\n    5. \u6240\u6709\u7834\u574f\u6027\u66f4\u6539\u662f\u5426\u6709\u6b63\u5f53\u7406\u7531\u5e76\u5df2\u8bb0\u5f55\uff1f\\r\\n3. \u529f\u80fd\\r\\n    1. \u8be5\u529f\u80fd\u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u672f\u8bed\u4e2d\u662f\u5426\u5408\u903b\u8f91\uff1f\\r\\n    2. \u8be5\u529f\u80fd\u662f\u5426\u786e\u5b9e\u80fd\u591f\u4e0e\u6211\u4eec\u652f\u6301\u7684\u6240\u6709\u540e\u7aef\u5de5\u4f5c\uff1f\\r\\n    3. \u6240\u6709\u6ce8\u610f\u4e8b\u9879\u662f\u5426\u5df2\u8ba8\u8bba\u5e76\u6d88\u9664/\u8bb0\u5f55\uff1f\\r\\n4. \u67b6\u6784\\r\\n    1. \u8be5\u529f\u80fd\u662f\u5426\u4e0e\u6211\u4eec\u4ee3\u7801\u5e93\u7684\u73b0\u6709\u67b6\u6784\u76f8\u7b26\u5408\uff1f\\r\\n    2. \u662f\u5426\u4e0d\u4f1a\u9020\u6210\u6280\u672f\u8d1f\u503a/\u7ef4\u62a4\u8d1f\u62c5\uff1f\\r\\n    3. \u662f\u5426\u4e0d\u4f1a\u7834\u574f\u62bd\u8c61\uff1f\\r\\n\\r\\n1\u30012 \u548c 3 \u76f8\u5bf9\u5ba2\u89c2\u4e8b\u5b9e\uff0c\u7136\u800c\u5bf9\u4e8e 4 \u7684\u7b54\u6848\u53ef\u80fd\u9700\u8981\u4e00\u4e9b\u8ba8\u8bba\u548c\u8fa9\u8bba\u3002\u5982\u679c\u65e0\u6cd5\u8fbe\u6210\u5171\u8bc6\uff0c[@tyt2y3](https://github.com/tyt2y3) \u5c06\u505a\u51fa\u6700\u7ec8\u88c1\u51b3\u3002\\r\\n\\r\\n### \u76ee\u524d\u7684\u5ba1\u9605\u8005\u662f\u8c01\uff1f\\r\\n\\r\\n\u622a\u81f3\u76ee\u524d\uff0cSeaQL \u6709 3 \u540d\u6838\u5fc3\u6210\u5458\u517c\u5ba1\u9605\u8005\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Chris Tsang\\r\\n                </div>\\r\\n                \u521b\u59cb\u4eba\u3002\u8d1f\u8d23\u7ef4\u62a4\u6240\u6709\u9879\u76ee\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n              \u521b\u59cb\u6210\u5458\u3002SeaORM \u548c Seaography \u7684\u5171\u540c\u7ef4\u62a4\u8005\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ikrivosheev\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/6786239?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Ivan Krivosheev\\r\\n                </div>\\r\\n                2022 \u5e74\u52a0\u5165\u3002SeaQuery \u7684\u5171\u540c\u7ef4\u62a4\u8005\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n### \u5982\u4f55\u6210\u4e3a\u5ba1\u9605\u8005\uff1f\\r\\n\\r\\n\u6211\u4eec\u5c06\u9080\u8bf7\u4e00\u4e9b\u4e0e\u6211\u4eec\u7d27\u5bc6\u5408\u4f5c\u7684\u8d21\u732e\u8005\uff0c\u4f46\u60a8\u4e5f\u53ef\u4ee5\u81ea\u613f\u52a0\u5165\u2014\u2014\u8981\u6c42\u662f\uff1a\u60a8\u5df2\u5bf9\u6211\u4eec\u7684\u9879\u76ee\u505a\u51fa\u4e86\u5b9e\u8d28\u6027\u4ee3\u7801\u8d21\u732e\uff0c\u5e76\u5c55\u73b0\u4e86\u5bf9\u6211\u4eec [\u5de5\u7a0b\u5b9e\u8df5](https://www.sea-ql.org/blog/2022-07-30-engineering/) \u7684\u719f\u6089\u3002\\r\\n\\r\\n\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u5f53\u60a8\u5bf9\u6211\u4eec\u7684\u7ec4\u7ec7\u505a\u51fa\u4e86\u91cd\u8981\u8d21\u732e\u65f6\uff0c\u60a8\u4e5f\u53ef\u4ee5\u6210\u4e3a\u6838\u5fc3\u6210\u5458\u3002\\r\\n\\r\\n### \u8ba9\u6211\u4eec\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u6784\u5efa \ud83e\udd80"},{"id":"2022-12-30-whats-new-in-seaquery-0.28.0","metadata":{"permalink":"/blog/2022-12-30-whats-new-in-seaquery-0.28.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-12-30-whats-new-in-seaquery-0.28.0.md","source":"@site/blog/2022-12-30-whats-new-in-seaquery-0.28.0.md","title":"SeaQuery 0.28.0 \u65b0\u7279\u6027","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u53d1\u5e03 SeaQuery 0.28.0! \u4e0b\u9762\u662f\u4e00\u4e9b\u7279\u6027\u4eae\u70b9 \ud83c\udf1f:","date":"2022-12-30T00:00:00.000Z","formattedDate":"December 30, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":4.99,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Ivan Krivosheev","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-12-30-whats-new-in-seaquery-0.28.0","title":"SeaQuery 0.28.0 \u65b0\u7279\u6027","author":"SeaQL Team","author_title":"Ivan Krivosheev","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"\u5bfb\u6c42\u8d21\u732e\u8005\u548c\u5ba1\u9605\u8005 \ud83d\udce2","permalink":"/blog/2023-01-01-call-for-contributors-n-reviewers"},"nextItem":{"title":"Seaography 0.3.0 \u7684\u65b0\u7279\u6027","permalink":"/blog/2022-12-02-whats-new-in-seaography-0.3.0"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u53d1\u5e03 SeaQuery [`0.28.0`](https://github.com/SeaQL/sea-query/releases/tag/0.28.0)! \u4e0b\u9762\u662f\u4e00\u4e9b\u7279\u6027\u4eae\u70b9 \ud83c\udf1f:\\r\\n\\r\\n## \u65b0\u7684 `IdenStatic` \u7279\u6027\u7528\u4e8e\u9759\u6001\u6807\u8bc6\u7b26\\r\\n\\r\\n[[#508](https://github.com/SeaQL/sea-query/pull/508)] \u8868\u793a\u4e00\u4e2a\u5e26\u6709 `&\'static str` \u7684\u6807\u8bc6\u7b26\u3002`IdenStatic` \u7279\u6027\u770b\u8d77\u6765\u50cf\u8fd9\u6837:\\r\\n\\r\\n```rust\\r\\npub trait IdenStatic: Iden + Copy + \'static {\\r\\n    fn as_str(&self) -> &\'static str;\\r\\n}\\r\\n```\\r\\n\\r\\n\u4f60\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u4e3a\u73b0\u6709\u7684 `Iden` \u6d3e\u751f\u5b83\u3002\u53ea\u9700\u5c06 `#[derive(Iden)]` \u66f4\u6539\u4e3a `#[derive(IdenStatic)]`\u3002\\r\\n\\r\\n```rust\\r\\n#[derive(IdenStatic)]\\r\\nenum User {\\r\\n    Table,\\r\\n    Id,\\r\\n    FirstName,\\r\\n    LastName,\\r\\n    #[iden = \\"_email\\"]\\r\\n    Email,\\r\\n}\\r\\n\\r\\nassert_eq!(User::Email.as_str(), \\"_email\\");\\r\\n```\\r\\n\\r\\n## \u65b0\u7684 `PgExpr` \u548c `SqliteExpr` \u7279\u6027\u7528\u4e8e\u540e\u7aef\u7279\u5b9a\u8868\u8fbe\u5f0f\\r\\n\\r\\n[[#519](https://github.com/SeaQL/sea-query/pull/519)] Postgres \u7279\u5b9a\u548c SQLite \u7279\u5b9a\u7684\u8868\u8fbe\u5f0f\u88ab\u79fb\u52a8\u5230\u76f8\u5e94\u7684\u7279\u6027\u4e2d\u3002\u5728\u4f7f\u7528\u8fd9\u4e9b\u540e\u7aef\u7279\u5b9a\u65b9\u6cd5\u6784\u5efa\u8868\u8fbe\u5f0f\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u5c06\u7279\u6027\u5bfc\u5165\u4f5c\u7528\u57df\u3002\\r\\n\\r\\n```rust\\r\\n// \u5728\u6784\u5efa Postgres \u8868\u8fbe\u5f0f\u4e4b\u524d\u5bfc\u5165 `PgExpr` \u7279\u6027\\r\\nuse sea_query::{extension::postgres::PgExpr, tests_cfg::*, *};\\r\\n\\r\\nlet query = Query::select()\\r\\n    .columns([Font::Name, Font::Variant, Font::Language])\\r\\n    .from(Font::Table)\\r\\n    .and_where(Expr::val(\\"a\\").concatenate(\\"b\\").concat(\\"c\\").concat(\\"d\\"))\\r\\n    .to_owned();\\r\\n\\r\\nassert_eq!(\\r\\n    query.to_string(PostgresQueryBuilder),\\r\\n    r#\\"SELECT \\"name\\", \\"variant\\", \\"language\\" FROM \\"font\\" WHERE \'a\' || \'b\' || \'c\' || \'d\'\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n```rust\\r\\n// \u5728\u6784\u5efa SQLite \u8868\u8fbe\u5f0f\u4e4b\u524d\u5bfc\u5165 `SqliteExpr` \u7279\u6027\\r\\n use sea_query::{extension::sqlite::SqliteExpr, tests_cfg::*, * };\\r\\n\\r\\n let query = Query::select()\\r\\n    .column(Font::Name)\\r\\n    .from(Font::Table)\\r\\n    .and_where(Expr::col(Font::Name).matches(\\"a\\"))\\r\\n    .to_owned();\\r\\n\\r\\n assert_eq!(\\r\\n    query.to_string(SqliteQueryBuilder),\\r\\n    r#\\"SELECT \\"name\\" FROM \\"font\\" WHERE \\"name\\" MATCH \'a\'\\"#\\r\\n );\\r\\n```\\r\\n\\r\\n## \u9519\u8bef\u4fee\u590d\\r\\n\\r\\n* \u5c06\u8054\u5408\u62ec\u5165\u62ec\u53f7 https://github.com/SeaQL/sea-query/pull/498\\r\\n* \u7a7a\u6761\u4ef6\u7684\u8bed\u6cd5\u9519\u8bef https://github.com/SeaQL/sea-query/pull/505\\r\\n```rust\\r\\n// \u7ed9\u5b9a\\r\\nlet (statement, values) = sea_query::Query::select()\\r\\n    .column(Glyph::Id)\\r\\n    .from(Glyph::Table)\\r\\n    .cond_where(Cond::any()\\r\\n        .add(Cond::all()) // \u7a7a\u7684 all() => TRUE\\r\\n        .add(Cond::any()) // \u7a7a\u7684 any() => FALSE\\r\\n    )\\r\\n    .build(sea_query::MysqlQueryBuilder);\\r\\n\\r\\n// \u65e7\u884c\u4e3a\\r\\nassert_eq!(statement, r#\\"SELECT `id` FROM `glyph`\\"#);\\r\\n\\r\\n// \u65b0\u884c\u4e3a\\r\\nassert_eq!(\\r\\n    statement,\\r\\n    r#\\"SELECT `id` FROM `glyph` WHERE (TRUE) OR (FALSE)\\"#\\r\\n);\\r\\n\\r\\n// \u4e00\u4e2a\u590d\u6742\u7684\u793a\u4f8b\\r\\nlet (statement, values) = Query::select()\\r\\n    .column(Glyph::Id)\\r\\n    .from(Glyph::Table)\\r\\n    .cond_where(\\r\\n        Cond::all()\\r\\n            .add(Cond::all().not())\\r\\n            .add(Cond::any().not())\\r\\n            .not(),\\r\\n    )\\r\\n    .build(MysqlQueryBuilder);\\r\\n\\r\\nassert_eq!(\\r\\n    statement,\\r\\n    r#\\"SELECT `id` FROM `glyph` WHERE NOT ((NOT TRUE) AND (NOT FALSE))\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n## \u91cd\u5927\u53d8\u66f4\\r\\n\\r\\n* [[#535](https://github.com/SeaQL/sea-query/pull/535)] MSRV \u5347\u7ea7\u81f3 1.62\\r\\n```shell\\r\\n# \u786e\u4fdd\u4f60\u6b63\u5728\u4f7f\u7528 Rust 1.62+ \u8fd0\u884c SeaQuery \ud83e\udd80\\r\\n$ rustup update\\r\\n```\\r\\n\\r\\n* [[#492](https://github.com/SeaQL/sea-query/pull/492)] `ColumnType::Array` \u7684\u5b9a\u4e49\u4ece `Array(SeaRc<Box<ColumnType>>)` \u66f4\u6539\u4e3a `Array(SeaRc<ColumnType>)`\\r\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] `Func::*` \u73b0\u5728\u8fd4\u56de `FunctionCall` \u800c\u4e0d\u662f `SimpleExpr`\\r\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] `Func::coalesce` \u73b0\u5728\u63a5\u53d7 `IntoIterator<Item = SimpleExpr>` \u800c\u4e0d\u662f `IntoIterator<Item = Into<SimpleExpr>`\\r\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] \u5220\u9664\u4e86 `Expr::arg` \u548c `Expr::args` - \u8fd9\u4e9b\u51fd\u6570\u4e0d\u518d\u9700\u8981\\r\\n* [[#507](https://github.com/SeaQL/sea-query/pull/507)] \u6240\u6709 Postgres \u7279\u5b9a\u7684\u64cd\u4f5c\u7b26\u79fb\u52a8\u81f3 `PgBinOper`\\r\\n* [[#476](https://github.com/SeaQL/sea-query/pull/476)] `Expr` \u65b9\u6cd5\u539f\u5148\u63a5\u53d7 `Into<Value>` \u73b0\u5728\u63a5\u53d7 `Into<SimpleExpr>`\\r\\n* [[#476](https://github.com/SeaQL/sea-query/pull/476)] `Expr::is_in`, `Expr::is_not_in` \u73b0\u5728\u63a5\u53d7 `Into<SimpleExpr>` \u800c\u4e0d\u662f `Into<Value>` \u5e76\u5c06\u5176\u8f6c\u6362\u4e3a `SimpleExpr::Tuple` \u800c\u4e0d\u662f `SimpleExpr::Values`\\r\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] `Expr::expr` \u73b0\u5728\u63a5\u53d7 `Into<SimpleExpr>` \u800c\u4e0d\u662f `SimpleExpr`\\r\\n* [[#519](https://github.com/SeaQL/sea-query/pull/519)] \u5c06 Postgres \u7279\u5b9a\u7684 `Expr` \u65b9\u6cd5\u79fb\u52a8\u81f3\u65b0\u7684\u7279\u6027 `PgExpr`\\r\\n* [[#528](https://github.com/SeaQL/sea-query/pull/528)] `Expr::equals` \u73b0\u5728\u63a5\u53d7 `C: IntoColumnRef` \u800c\u4e0d\u662f `T: IntoIden, C: IntoIden`\\r\\n```diff\\r\\nuse sea_query::{*, tests_cfg::*};\\r\\n\\r\\nlet query = Query::select()\\r\\n    .columns([Char::Character, Char::SizeW, Char::SizeH])\\r\\n    .from(Char::Table)\\r\\n    .and_where(\\r\\n        Expr::col((Char::Table, Char::FontId))\\r\\n-           .equals(Font::Table, Font::Id)\\r\\n+           .equals((Font::Table, Font::Id))\\r\\n    )\\r\\n    .to_owned();\\r\\n\\r\\nassert_eq!(\\r\\n    query.to_string(MysqlQueryBuilder),\\r\\n    r#\\"SELECT `character`, `size_w`, `size_h` FROM `character` WHERE `character`.`font_id` = `font`.`id`\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n* [[#525](https://github.com/SeaQL/sea-query/pull/525)] \u5220\u9664\u6574\u578b\u548c\u65e5\u671f\u65f6\u95f4\u5217\u7c7b\u578b\u7684\u663e\u793a\u957f\u5ea6/\u7cbe\u5ea6\u9009\u9879\\r\\n\\r\\n## API \u6dfb\u52a0\\r\\n\\r\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] \u6dfb\u52a0 `SelectStatement::from_function`\\r\\n```rust\\r\\nuse sea_query::{tests_cfg::*, *};\\r\\n\\r\\nlet query = Query::select()\\r\\n    .column(ColumnRef::Asterisk)\\r\\n    .from_function(Func::random(), Alias::new(\\"func\\"))\\r\\n    .to_owned();\\r\\n\\r\\nassert_eq!(\\r\\n    query.to_string(MysqlQueryBuilder),\\r\\n    r#\\"SELECT * FROM RAND() AS `func`\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n* [[#486](https://github.com/SeaQL/sea-query/pull/486)] \u6dfb\u52a0 Postgres `pg_trgm` \u6269\u5c55\u4e2d\u7684\u4e8c\u5143\u64cd\u4f5c\u7b26\\r\\n```rust\\r\\nuse sea_query::extension::postgres::PgBinOper;\\r\\n\\r\\nassert_eq!(\\r\\n    Query::select()\\r\\n        .expr(Expr::col(Font::Name).binary(PgBinOper::WordSimilarity, Expr::value(\\"serif\\")))\\r\\n        .from(Font::Table)\\r\\n        .to_string(PostgresQueryBuilder),\\r\\n    r#\\"SELECT \\"name\\" <% \'serif\' FROM \\"font\\"\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n* [[#473](https://github.com/SeaQL/sea-query/pull/473)] \u6dfb\u52a0 `ILIKE` \u548c `NOT ILIKE` \u64cd\u4f5c\u7b26\\r\\n* [[#510](https://github.com/SeaQL/sea-query/pull/510)] \u4e3a `SimpleExpr` \u6dfb\u52a0 `mul` \u548c `div` \u65b9\u6cd5\\r\\n* [[#513](https://github.com/SeaQL/sea-query/pull/513)] \u4e3a SQLite \u6dfb\u52a0 `MATCH`, `->` \u548c `->>` \u64cd\u4f5c\u7b26\\r\\n```rust\\r\\nuse sea_query::extension::sqlite::SqliteBinOper;\\r\\n\\r\\nassert_eq!(\\r\\n    Query::select()\\r\\n        .column(Char::Character)\\r\\n        .from(Char::Table)\\r\\n        .and_where(Expr::col(Char::Character).binary(SqliteBinOper::Match, Expr::val(\\"test\\")))\\r\\n        .build(SqliteQueryBuilder),\\r\\n    (\\r\\n        r#\\"SELECT \\"character\\" FROM \\"character\\" WHERE \\"character\\" MATCH ?\\"#.to_owned(),\\r\\n        Values(vec![\\"test\\".into()])\\r\\n    )\\r\\n);\\r\\n```\\r\\n\\r\\n* [[#497](https://github.com/SeaQL/sea-query/pull/497)] \u6dfb\u52a0 `FULL OUTER JOIN`\\r\\n* [[#530](https://github.com/SeaQL/sea-query/pull/530)] \u6dfb\u52a0 `PgFunc::get_random_uuid`\\r\\n* [[#528](https://github.com/SeaQL/sea-query/pull/528)] \u6dfb\u52a0 `SimpleExpr::eq`, `SimpleExpr::ne`, `Expr::not_equals`\\r\\n* [[#529](https://github.com/SeaQL/sea-query/pull/529)] \u6dfb\u52a0 `PgFunc::starts_with`\\r\\n* [[#535](https://github.com/SeaQL/sea-query/pull/535)] \u6dfb\u52a0 `Expr::custom_keyword` \u548c `SimpleExpr::not`\\r\\n```rust\\r\\nuse sea_query::*;\\r\\n\\r\\nlet query = Query::select()\\r\\n    .expr(Expr::custom_keyword(Alias::new(\\"test\\")))\\r\\n    .to_owned();\\r\\n\\r\\nassert_eq!(query.to_string(MysqlQueryBuilder), r#\\"SELECT test\\"#);\\r\\nassert_eq!(query.to_string(PostgresQueryBuilder), r#\\"SELECT test\\"#);\\r\\nassert_eq!(query.to_string(SqliteQueryBuilder), r#\\"SELECT test\\"#);\\r\\n```\\r\\n\\r\\n* [[#539](https://github.com/SeaQL/sea-query/pull/539)] \u6dfb\u52a0 `SimpleExpr::like`, `SimpleExpr::not_like` \u548c `Expr::cast_as`\\r\\n* [[#532](https://github.com/SeaQL/sea-query/pull/532)] \u4e3a Postgres \u6dfb\u52a0\u5bf9 `NULLS NOT DISTINCT` \u5b50\u53e5\u7684\u652f\u6301\\r\\n* [[#531](https://github.com/SeaQL/sea-query/pull/531)] \u6dfb\u52a0 `Expr::cust_with_expr` \u548c `Expr::cust_with_exprs`\\r\\n```rust\\r\\nuse sea_query::{tests_cfg::*, *};\\r\\n\\r\\nlet query = Query::select()\\r\\n    .expr(Expr::cust_with_expr(\\"data @? ($1::JSONPATH)\\", \\"hello\\"))\\r\\n    .to_owned();\\r\\n\\r\\nassert_eq!(\\r\\n    query.to_string(PostgresQueryBuilder),\\r\\n    r#\\"SELECT data @? (\'hello\'::JSONPATH)\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n* [[#538](https://github.com/SeaQL/sea-query/pull/538)] \u6dfb\u52a0\u5bf9\u5c06 `&String` \u8f6c\u6362\u4e3a Value \u7684\u652f\u6301\\r\\n\\r\\n## \u5176\u4ed6\u589e\u5f3a\\r\\n\\r\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] \u65b0\u7ed3\u6784 `FunctionCall` \u7528\u4e8e\u4fdd\u5b58\u51fd\u6570\u548c\u53c2\u6570\\r\\n* [[#503](https://github.com/SeaQL/sea-query/pull/503)] \u4e3a `sea-query-postgres` \u652f\u6301 `BigDecimal`, `IpNetwork` \u548c `MacAddress`\\r\\n* [[#511](https://github.com/SeaQL/sea-query/pull/511)] \u4f7f `value::with_array` \u6a21\u5757\u516c\u5f00\uff0c\u4ece\u800c\u4f7f `NotU8` \u7279\u6027\u516c\u5f00\\r\\n* [[#524](https://github.com/SeaQL/sea-query/pull/524)] \u79fb\u9664 `SchemaBuilders` \u5b9e\u73b0\u8005\u7684 `Sized` \u8981\u6c42\\r\\n\\r\\n## \u96c6\u6210\u793a\u4f8b\\r\\n\\r\\nSeaQuery \u4e0e Rust \u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u5176\u4ed6 crate \u914d\u5408\u826f\u597d\u3002\\r\\n\\r\\n- [Postgres \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/postgres)\\r\\n- [Rusqlite \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/rusqlite)\\r\\n- [SQLx Any \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_any)\\r\\n- [SQLx Postgres \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_postgres)\\r\\n- [SQLx MySql \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_mysql)\\r\\n- [SQLx Sqlite \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_sqlite)\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u4f60\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002"},{"id":"2022-12-02-whats-new-in-seaography-0.3.0","metadata":{"permalink":"/blog/2022-12-02-whats-new-in-seaography-0.3.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-12-02-whats-new-in-seaography-0.3.0.md","source":"@site/blog/2022-12-02-whats-new-in-seaography-0.3.0.md","title":"Seaography 0.3.0 \u7684\u65b0\u7279\u6027","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u53d1\u5e03 Seaography 0.3.0! \u8fd9\u91cc\u6709\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f:","date":"2022-12-02T00:00:00.000Z","formattedDate":"December 2, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":3.975,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Panagiotis Karatakis","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-12-02-whats-new-in-seaography-0.3.0","title":"Seaography 0.3.0 \u7684\u65b0\u7279\u6027","author":"SeaQL Team","author_title":"Panagiotis Karatakis","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"SeaQuery 0.28.0 \u65b0\u7279\u6027","permalink":"/blog/2022-12-30-whats-new-in-seaquery-0.28.0"},"nextItem":{"title":"SeaORM 0.10.x \u7684\u65b0\u7279\u6027","permalink":"/blog/2022-11-10-whats-new-in-0.10.x"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u53d1\u5e03 Seaography [`0.3.0`](https://github.com/SeaQL/seaography/releases/tag/0.3.0)! \u8fd9\u91cc\u6709\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f:\\r\\n\\r\\n## \u4f9d\u8d56\u5347\u7ea7\\r\\n\\r\\n[[#93](https://github.com/SeaQL/seaography/pull/93)] \u6211\u4eec\u5347\u7ea7\u4e86\u4e00\u4e2a\u4e3b\u8981\u7684\u4f9d\u8d56:\\r\\n- \u5c06 [`sea-orm`](https://github.com/SeaQL/sea-orm) \u5347\u7ea7\u5230 0.10\\r\\n\\r\\n\u60a8\u53ef\u80fd\u4e5f\u9700\u8981\u5728\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5347\u7ea7\u76f8\u5e94\u7684\u4f9d\u8d56\u3002\\r\\n\\r\\n## \u652f\u6301\u81ea\u5f15\u7528\u5173\u7cfb\\r\\n\\r\\n[[#99](https://github.com/SeaQL/seaography/pull/99)] \u73b0\u5728\u60a8\u53ef\u4ee5\u67e5\u8be2\u81ea\u5f15\u7528\u6a21\u578b\u53ca\u5176\u9006\u5411\u5173\u7cfb\u3002\\r\\n\\r\\n\u81ea\u5f15\u7528\u5173\u7cfb\u5e94\u6dfb\u52a0\u5230 `Relation` \u679a\u4e3e\u4e2d\uff0c\u6ce8\u610f `belongs_to` \u5c5e\u6027\u5fc5\u987b\u662f `belongs_to = \\"Entity\\"`\u3002\\r\\n\\r\\n```rust\\r\\nuse sea_orm::entity::prelude::*;\\r\\n\\r\\n#[derive(\\r\\n    Clone, Debug, PartialEq, DeriveEntityModel,\\r\\n    async_graphql::SimpleObject, seaography::macros::Filter,\\r\\n)]\\r\\n#[sea_orm(table_name = \\"staff\\")]\\r\\n#[graphql(complex)]\\r\\n#[graphql(name = \\"Staff\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub staff_id: i32,\\r\\n    pub first_name: String,\\r\\n    pub last_name: String,\\r\\n    pub reports_to_id: Option<i32>,\\r\\n}\\r\\n\\r\\n#[derive(\\r\\n    Copy, Clone, Debug, EnumIter, DeriveRelation,\\r\\n    seaography::macros::RelationsCompact\\r\\n)]\\r\\npub enum Relation {\\r\\n    #[sea_orm(\\r\\n        belongs_to = \\"Entity\\",\\r\\n        from = \\"Column::ReportsToId\\",\\r\\n        to = \\"Column::StaffId\\",\\r\\n    )]\\r\\n    SelfRef,\\r\\n}\\r\\n\\r\\nimpl ActiveModelBehavior for ActiveModel {}\\r\\n```\\r\\n\\r\\n\u7136\u540e\uff0c\u60a8\u53ef\u4ee5\u5728 GraphQL \u4e2d\u67e5\u8be2\u76f8\u5173\u6a21\u578b\u3002\\r\\n\\r\\n```graphql\\r\\n{\\r\\n    staff {\\r\\n        nodes {\\r\\n            firstName\\r\\n            reportsToId\\r\\n            selfRefReverse {\\r\\n                staffId\\r\\n                firstName\\r\\n            }\\r\\n            selfRef {\\r\\n                staffId\\r\\n                firstName\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u8fd4\u56de\u7684 JSON\\r\\n\\r\\n```json\\r\\n{\\r\\n    \\"staff\\": {\\r\\n        \\"nodes\\": [\\r\\n            {\\r\\n                \\"firstName\\": \\"Mike\\",\\r\\n                \\"reportsToId\\": null,\\r\\n                \\"selfRefReverse\\": [\\r\\n                    {\\r\\n                        \\"staffId\\": 2,\\r\\n                        \\"firstName\\": \\"Jon\\"\\r\\n                    }\\r\\n                ],\\r\\n                \\"selfRef\\": null\\r\\n            },\\r\\n            {\\r\\n                \\"firstName\\": \\"Jon\\",\\r\\n                \\"reportsToId\\": 1,\\r\\n                \\"selfRefReverse\\": null,\\r\\n                \\"selfRef\\": {\\r\\n                    \\"staffId\\": 1,\\r\\n                    \\"firstName\\": \\"Mike\\"\\r\\n                }\\r\\n            }\\r\\n        ]\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n## Web \u6846\u67b6\u751f\u6210\u5668\\r\\n\\r\\n[[#74](https://github.com/SeaQL/seaography/pull/74)] \u73b0\u5728\u60a8\u53ef\u4ee5\u4f7f\u7528 Actix \u6216 Poem \u4f5c\u4e3a Web \u670d\u52a1\u5668\u6765\u751f\u6210 `seaography` \u9879\u76ee\u3002\\r\\n\\r\\n### CLI \u751f\u6210\u5668\u9009\u9879\\r\\n\\r\\n\u8fd0\u884c `seaography-cli` \u4ee5\u4f7f\u7528 Actix \u6216 Poem \u4f5c\u4e3a Web \u6846\u67b6\u751f\u6210 `seaography` \u4ee3\u7801\u3002\\r\\n\\r\\n```shell\\r\\n# \u8be5\u547d\u4ee4\u9700\u8981\u4e09\u4e2a\u53c2\u6570\uff0c\u9ed8\u8ba4\u751f\u6210\u9879\u76ee\u65f6\u4f7f\u7528 Poem web \u6846\u67b6\\r\\nseaography-cli <DATABASE_URL> <CRATE_NAME> <DESTINATION>\\r\\n\\r\\n# \u4f7f\u7528 Actix web \u6846\u67b6\u751f\u6210\u9879\u76ee\\r\\nseaography-cli -f actix <DATABASE_URL> <CRATE_NAME> <DESTINATION>\\r\\n\\r\\n# MySQL\\r\\nseaography-cli mysql://root:root@localhost/sakila seaography-mysql-example examples/mysql\\r\\n# PostgreSQL\\r\\nseaography-cli postgres://root:root@localhost/sakila seaography-postgres-example examples/postgres\\r\\n# SQLite\\r\\nseaography-cli sqlite://examples/sqlite/sakila.db seaography-sqlite-example examples/sqliteql\\r\\n```\\r\\n\\r\\n### Actix\\r\\n\\r\\n```rust\\r\\nuse async_graphql::{\\r\\n    dataloader::DataLoader,\\r\\n    http::{playground_source, GraphQLPlaygroundConfig},\\r\\n    EmptyMutation, EmptySubscription, Schema,\\r\\n};\\r\\nuse async_graphql_actix_web::{GraphQLRequest, GraphQLResponse};\\r\\nuse sea_orm::Database;\\r\\nuse seaography_example_project::*;\\r\\n// ...\\r\\n\\r\\nasync fn graphql_playground() -> Result<HttpResponse> {\\r\\n    Ok(HttpResponse::Ok()\\r\\n        .content_type(\\"text/html; charset=utf-8\\")\\r\\n        .body(\\r\\n            playground_source(GraphQLPlaygroundConfig::new(\\"http://localhost:8000\\"))\\r\\n        ))\\r\\n}\\r\\n\\r\\n#[actix_web::main]\\r\\nasync fn main() -> std::io::Result<()> {\\r\\n    // ...\\r\\n\\r\\n    let database = Database::connect(db_url).await.unwrap();\\r\\n    let orm_dataloader: DataLoader<OrmDataloader> = DataLoader::new(\\r\\n        OrmDataloader {\\r\\n            db: database.clone(),\\r\\n        },\\r\\n        tokio::spawn,\\r\\n    );\\r\\n\\r\\n    let schema = Schema::build(QueryRoot, EmptyMutation, EmptySubscription)\\r\\n        .data(database)\\r\\n        .data(orm_dataloader)\\r\\n        .finish();\\r\\n\\r\\n    let app = App::new()\\r\\n        .app_data(Data::new(schema.clone()))\\r\\n        .service(web::resource(\\"/\\").guard(guard::Post()).to(index))\\r\\n        .service(web::resource(\\"/\\").guard(guard::Get()).to(graphql_playground));\\r\\n\\r\\n    HttpServer::new(app)\\r\\n        .bind(\\"127.0.0.1:8000\\")?\\r\\n        .run()\\r\\n        .await\\r\\n}\\r\\n```\\r\\n\\r\\n### Poem\\r\\n\\r\\n```rust\\r\\nuse async_graphql::{\\r\\n    dataloader::DataLoader,\\r\\n    http::{playground_source, GraphQLPlaygroundConfig},\\r\\n    EmptyMutation, EmptySubscription, Schema,\\r\\n};\\r\\nuse async_graphql_poem::GraphQL;\\r\\nuse poem::{handler, listener::TcpListener, web::Html, IntoResponse, Route, Server};\\r\\nuse sea_orm::Database;\\r\\nuse seaography_example_project::*;\\r\\n// ...\\r\\n\\r\\n#[handler]\\r\\nasync fn graphql_playground() -> impl IntoResponse {\\r\\n    Html(playground_source(GraphQLPlaygroundConfig::new(\\"/\\")))\\r\\n}\\r\\n\\r\\n#[tokio::main]\\r\\nasync fn main() {\\r\\n    // ...\\r\\n\\r\\n    let database = Database::connect(db_url).await.unwrap();\\r\\n    let orm_dataloader: DataLoader<OrmDataloader> = DataLoader::new(\\r\\n        OrmDataloader { db: database.clone() },\\r\\n        tokio::spawn,\\r\\n    );\\r\\n\\r\\n    let schema = Schema::build(QueryRoot, EmptyMutation, EmptySubscription)\\r\\n        .data(database)\\r\\n        .data(orm_dataloader)\\r\\n        .finish();\\r\\n\\r\\n    let app = Route::new()\\r\\n        .at(\\"/\\", get(graphql_playground)\\r\\n        .post(GraphQL::new(schema)));\\r\\n\\r\\n    Server::new(TcpListener::bind(\\"0.0.0.0:8000\\"))\\r\\n        .run(app)\\r\\n        .await\\r\\n        .unwrap();\\r\\n}\\r\\n```\\r\\n\\r\\n## \u76f8\u5173\u67e5\u8be2\u589e\u5f3a\\r\\n\\r\\n[[#84](https://github.com/SeaQL/seaography/pull/84)] \u5bf9\u76f8\u5173\u7684 1 \u5bf9\u591a \u67e5\u8be2\u8fdb\u884c\u4e86\u8fc7\u6ee4\u3001\u6392\u5e8f\u548c\u5206\u9875\u3002\u8bf7\u6ce8\u610f\uff0c\u5206\u9875\u6b63\u5728\u8fdb\u884c\u4e2d\uff0c\u76ee\u524d\u4e3a\u5185\u5b58\u5206\u9875\u3002\\r\\n\\r\\n\u4f8b\u5982\uff0c\u67e5\u627e\u6240\u6709\u975e\u6d3b\u8dc3\u7684\u5ba2\u6237\uff0c\u5305\u542b\u4ed6\u4eec\u7684\u5730\u5740\u4ee5\u53ca\u91d1\u989d\u5927\u4e8e 7 \u7684\u4ed8\u6b3e\uff0c\u5e76\u6309\u91d1\u989d\u5bf9\u7b2c\u4e8c\u4e2a\u7ed3\u679c\u6392\u5e8f\u3002\u60a8\u53ef\u4ee5\u5728\u6211\u4eec\u7684 [GraphQL playground](https://playground.sea-ql.org/seaography) \u4e2d\u6267\u884c\u4ee5\u4e0b\u67e5\u8be2\u3002\\r\\n\\r\\n```graphql\\r\\n{\\r\\n  customer(\\r\\n    filters: { active: { eq: 0 } }\\r\\n    pagination: { cursor: { limit: 3, cursor: \\"Int[3]:271\\" } }\\r\\n  ) {\\r\\n    nodes {\\r\\n      customerId\\r\\n      lastName\\r\\n      email\\r\\n      address {\\r\\n        address\\r\\n      }\\r\\n      payment(\\r\\n        filters: { amount: { gt: \\"7\\" } }\\r\\n        orderBy: { amount: ASC }\\r\\n        pagination: { pages: { limit: 1, page: 1 } }\\r\\n      ) {\\r\\n        nodes {\\r\\n          paymentId\\r\\n          amount\\r\\n        }\\r\\n        pages\\r\\n        current\\r\\n        pageInfo {\\r\\n          hasPreviousPage\\r\\n          hasNextPage\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n    pageInfo {\\r\\n      hasPreviousPage\\r\\n      hasNextPage\\r\\n      endCursor\\r\\n    }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n## \u96c6\u6210\u793a\u4f8b\\r\\n\\r\\n\u6211\u4eec\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u793a\u4f8b\uff0c\u5e76\u9644\u6709\u521d\u59cb\u5316\u6570\u636e\u5e93\u7684 SQL \u811a\u672c\u3002\\r\\n\\r\\n* [MySQL](https://github.com/SeaQL/seaography/tree/main/examples/mysql)\\r\\n* [PostgreSQL](https://github.com/SeaQL/seaography/tree/main/examples/postgres)\\r\\n* [SQLite](https://github.com/SeaQL/seaography/tree/main/examples/sqlite)\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002"},{"id":"2022-11-10-whats-new-in-0.10.x","metadata":{"permalink":"/blog/2022-11-10-whats-new-in-0.10.x","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-11-10-whats-new-in-0.10.x.md","source":"@site/blog/2022-11-10-whats-new-in-0.10.x.md","title":"SeaORM 0.10.x \u7684\u65b0\u7279\u6027","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u53d1\u5e03 SeaORM 0.10.0!","date":"2022-11-10T00:00:00.000Z","formattedDate":"November 10, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":8.485,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-11-10-whats-new-in-0.10.x","title":"SeaORM 0.10.x \u7684\u65b0\u7279\u6027","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"Seaography 0.3.0 \u7684\u65b0\u7279\u6027","permalink":"/blog/2022-12-02-whats-new-in-seaography-0.3.0"},"nextItem":{"title":"\u5728 crates.io \u4e2d\u5207\u6362\u5806\u53e0\u4e0b\u8f7d\u56fe","permalink":"/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u53d1\u5e03 SeaORM [`0.10.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.10.0)!\\r\\n\\r\\n## Rust 1.65\\r\\n\\r\\n\u671f\u5f85\u5df2\u4e45\u7684 Rust [1.65](https://blog.rust-lang.org/2022/11/03/Rust-1.65.0.html) \u5df2\u7ecf\u53d1\u5e03\uff01\u6cdb\u578b\u5173\u8054\u7c7b\u578b (GATs) \u5fc5\u5b9a\u662f\u6700\u65b0\u7a33\u5065\u5316\u7684\u70ed\u70b9\u529f\u80fd\u3002\\r\\n\\r\\nGAT \u5bf9 SeaORM \u6709\u4ec0\u4e48\u7528\u5462\uff1f\u8ba9\u6211\u4eec\u770b\u770b\u4ee5\u4e0b\u5185\u5bb9\uff1a\\r\\n\\r\\n```rust\\r\\ntrait StreamTrait<\'a>: Send + Sync {\\r\\n    type Stream: Stream<Item = Result<QueryResult, DbErr>> + Send;\\r\\n\\r\\n    fn stream(\\r\\n        &\'a self,\\r\\n        stmt: Statement,\\r\\n    ) -> Pin<Box<dyn Future<Output = Result<Self::Stream, DbErr>> + \'a + Send>>;\\r\\n}\\r\\n```\\r\\n\\r\\n\u4f60\u53ef\u4ee5\u770b\u5230 `Future` \u6709\u4e00\u4e2a\u751f\u547d\u5468\u671f `\'a`\uff0c\u4f46\u4f5c\u4e3a\u526f\u4f5c\u7528\uff0c\u8fd9\u4e2a\u751f\u547d\u5468\u671f\u548c `StreamTrait` \u7ed1\u5b9a\u5728\u4e86\u4e00\u8d77\u3002\\r\\n\\r\\n\u6709\u4e86 GAT\uff0c\u751f\u547d\u5468\u671f\u53ef\u4ee5\u88ab\u7701\u7565\uff1a\\r\\n\\r\\n```rust\\r\\ntrait StreamTrait: Send + Sync {\\r\\n    type Stream<\'a>: Stream<Item = Result<QueryResult, DbErr>> + Send\\r\\n    where\\r\\n        Self: \'a;\\r\\n\\r\\n    fn stream<\'a>(\\r\\n        &\'a self,\\r\\n        stmt: Statement,\\r\\n    ) -> Pin<Box<dyn Future<Output = Result<Self::Stream<\'a>, DbErr>> + \'a + Send>>;\\r\\n}\\r\\n```\\r\\n\\r\\n\u5728\u5b9e\u8df5\u4e2d\u5b83\u5e26\u6765\u4e86\u4ec0\u4e48\u597d\u5904\uff1f\u8003\u8651\u4f60\u6709\u4e00\u4e2a\u63a5\u53d7\u6cdb\u578b `ConnectionTrait` \u5e76\u8c03\u7528 `stream()` \u7684\u51fd\u6570\uff1a\\r\\n\\r\\n```rust\\r\\nasync fn processor<\'a, C>(conn: &\'a C) -> Result<...>\\r\\nwhere C: ConnectionTrait + StreamTrait<\'a> {...}\\r\\n```\\r\\n\\r\\n\u8fde\u63a5\u7684\u751f\u547d\u5468\u671f\u548c\u6d41\u7ed1\u5b9a\u5728\u4e00\u8d77\u53ef\u80fd\u4f1a\u8ba9\u7f16\u8bd1\u5668\u611f\u5230\u56f0\u60d1\uff0c\u7279\u522b\u662f\u5728\u4f60\u8fdb\u884c\u4e8b\u52a1\u65f6\uff1a\\r\\n\\r\\n```rust\\r\\nasync fn do_transaction<C>(conn: &C) -> Result<...>\\r\\nwhere C: ConnectionTrait + TransactionTrait\\r\\n{\\r\\n    let txn = conn.begin().await?;\\r\\n    processor(&txn).await?;\\r\\n    txn.commit().await?;\\r\\n}\\r\\n```\\r\\n\\r\\n\u4e0d\u8fc7\u73b0\u5728\uff0c\u968f\u7740\u6d41\u7684\u751f\u547d\u5468\u671f\u88ab\u7701\u7565\uff0c\u5728\u4e8b\u52a1\u5185\u90e8\u5904\u7406\u6d41\u8981\u5bb9\u6613\u5f97\u591a\u56e0\u4e3a\u4e24\u4e2a\u751f\u547d\u5468\u671f\u73b0\u5728\u662f\u72ec\u7acb\u7684\uff0c\u6d41\u7684\u751f\u547d\u5468\u671f\u662f\u9690\u5f0f\u7684\uff1a\\r\\n\\r\\n```rust\\r\\nasync fn processor<C>(conn: &C) -> Result<...>\\r\\nwhere C: ConnectionTrait + StreamTrait {...}\\r\\n```\\r\\n\\r\\n\u975e\u5e38\u611f\u8c22 [@nappa85](https://github.com/nappa85) \u7684 [\u8d21\u732e](https://github.com/SeaQL/sea-orm/pull/1161)\u3002\\r\\n\\r\\n---\\r\\n\\r\\n\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a\\r\\n\\r\\n## \u5728 Postgres \u4e2d\u652f\u6301\u6570\u7ec4\u6570\u636e\u7c7b\u578b\\r\\n\\r\\n[[#1132](https://github.com/SeaQL/sea-orm/pull/1132)] \u652f\u6301 `Vec<T>` \u7c7b\u578b\u7684\u6a21\u578b\u5b57\u6bb5\u3002 (by [@hf29h8sh321](https://github.com/hf29h8sh321), [@ikrivosheev](https://github.com/ikrivosheev), [@tyt2y3](https://github.com/tyt2y3), [@billy1624](https://github.com/billy1624))\\r\\n\\r\\n\u4f60\u53ef\u4ee5\u5728\u6a21\u578b\u4e2d\u5b9a\u4e49\u4e00\u4e2a SeaORM \u5df2\u652f\u6301\u7684\u7c7b\u578b\u5411\u91cf\u3002\\r\\n\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"collection\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    pub integers: Vec<i32>,\\r\\n    pub integers_opt: Option<Vec<i32>>,\\r\\n    pub floats: Vec<f32>,\\r\\n    pub doubles: Vec<f64>,\\r\\n    pub strings: Vec<String>,\\r\\n}\\r\\n```\\r\\n\\r\\n\u8bf7\u8bb0\u4f4f\uff0c\u4f60\u9700\u8981\u542f\u7528 `postgres-array` \u529f\u80fd\uff0c\u5e76\u4e14\u8fd9\u662f\u53ea\u5728 Postgres \u4e2d\u7684\u529f\u80fd\u3002\\r\\n\\r\\n```toml\\r\\nsea-orm = { version = \\"0.10\\", features = [\\"postgres-array\\", ...] }\\r\\n```\\r\\n\\r\\n## \u66f4\u597d\u7684\u9519\u8bef\u7c7b\u578b\\r\\n\\r\\n[[#750](https://github.com/SeaQL/sea-orm/pull/750), [#1002](https://github.com/SeaQL/sea-orm/pull/1002)] \u5e26\u6709\u53ef\u89e3\u6790\u7684\u6570\u636e\u5e93\u7279\u5b9a\u9519\u8bef\u7684\u9519\u8bef\u7c7b\u578b\u3002 (by [@mohs8421](https://github.com/mohs8421), [@tyt2y3](https://github.com/tyt2y3))\\r\\n\\r\\n```rust\\r\\nlet mud_cake = cake::ActiveModel {\\r\\n    id: Set(1),\\r\\n    name: Set(\\"\u53d1\u9709\u7684\u86cb\u7cd5\\".to_owned()),\\r\\n    price: Set(dec!(10.25)),\\r\\n    gluten_free: Set(false),\\r\\n    serial: Set(Uuid::new_v4()),\\r\\n    bakery_id: Set(None),\\r\\n};\\r\\n\\r\\n// \u63d2\u5165\u4e00\u4e2a\u4e3b\u952e\uff08`id` \u5217\uff09\u8bbe\u7f6e\u4e3a 1 \u7684\u65b0\u86cb\u7cd5\u3002\\r\\nlet cake = mud_cake.save(db).await.expect(\\"\u63d2\u5165\u86cb\u7cd5\u5931\u8d25\\");\\r\\n\\r\\n// \u518d\u6b21\u63d2\u5165\u76f8\u540c\u7684\u884c\u5e76\u5931\u8d25\\r\\n// \u56e0\u4e3a\u6bcf\u884c\u7684\u4e3b\u952e\u5e94\u8be5\u662f\u552f\u4e00\u7684\u3002\\r\\nlet error: DbErr = cake\\r\\n    .into_active_model()\\r\\n    .insert(db)\\r\\n    .await\\r\\n    .expect_err(\\"\u63d2\u5165\u5e94\u8be5\u56e0\u4e3b\u952e\u91cd\u590d\u800c\u5931\u8d25\\");\\r\\n\\r\\nmatch error {\\r\\n    DbErr::Exec(RuntimeErr::SqlxError(error)) => match error {\\r\\n        Error::Database(e) => {\\r\\n            // \u6211\u4eec\u68c0\u67e5\u6570\u636e\u5e93\u629b\u51fa\u7684\u9519\u8bef\u4ee3\u7801\uff08\u6b64\u60c5\u51b5\u4e3a MySQL\uff09\uff0c\\r\\n            // `23000` \u610f\u5473\u7740 `ER_DUP_KEY`\uff1a\u8868\u4e2d\u6709\u91cd\u590d\u952e\u3002\\r\\n            assert_eq!(e.code().unwrap(), \\"23000\\");\\r\\n        }\\r\\n        _ => panic!(\\"\u610f\u5916\u7684 sqlx \u9519\u8bef\u79cd\u7c7b\\"),\\r\\n    },\\r\\n    _ => panic!(\\"\u610f\u5916\u7684\u9519\u8bef\u79cd\u7c7b\\"),\\r\\n}\\r\\n```\\r\\n\\r\\n## \u5728\u4efb\u4f55 Postgres \u6a21\u5f0f\u4e0a\u8fd0\u884c\u8fc1\u79fb\\r\\n\\r\\n[[#1056](https://github.com/SeaQL/sea-orm/pull/1056)] \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fc1\u79fb\u5c06\u5728 `public` \u6a21\u5f0f\u4e0a\u8fd0\u884c\uff0c\u73b0\u5728\u4f60\u53ef\u4ee5\u5728 CLI \u6216\u7a0b\u5e8f\u4e2d\u8986\u76d6\u5b83\u3002 (by [@MattGson](https://github.com/MattGson), [@nahuakang](https://github.com/nahuakang), [@billy1624](https://github.com/billy1624))\\r\\n\\r\\n\u5bf9\u4e8e CLI\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 `-s` / `--database_schema` \u9009\u9879\u6307\u5b9a\u76ee\u6807\u6a21\u5f0f\uff1a\\r\\n* \u901a\u8fc7 sea-orm-cli: `sea-orm-cli migrate -u postgres://root:root@localhost/database -s my_schema`\\r\\n* \u901a\u8fc7 SeaORM \u8fc1\u79fb\u5668: `cargo run -- -u postgres://root:root@localhost/database -s my_schema`\\r\\n\\r\\n\u4f60\u4e5f\u53ef\u4ee5\u5728\u7a0b\u5e8f\u4e2d\u5728\u76ee\u6807\u6a21\u5f0f\u4e0a\u8fd0\u884c\u8fc1\u79fb\uff1a\\r\\n\\r\\n```rust\\r\\nlet connect_options = ConnectOptions::new(\\"postgres://root:root@localhost/database\\".into())\\r\\n    .set_schema_search_path(\\"my_schema\\".into()) // \u8986\u76d6\u9ed8\u8ba4\u6a21\u5f0f\\r\\n    .to_owned();\\r\\n\\r\\nlet db = Database::connect(connect_options).await?;\\r\\n\\r\\nmigration::Migrator::up(&db, None).await?;\\r\\n```\\r\\n\\r\\n## \u7834\u574f\u6027\u66f4\u6539\\r\\n\\r\\n* [[#789](https://github.com/SeaQL/sea-orm/pull/789)] \u5728 `PaginatorTrait` \u4e2d\u7528 `u64` \u66ff\u6362 `usize` (by [@liberwang1013](https://github.com/liberwang1013))\\r\\n* [[#1002](https://github.com/SeaQL/sea-orm/pull/1002)] `DbErr` \u7684\u7c7b\u578b\u7b7e\u540d\u56e0\u8be5 PR \u800c\u66f4\u6539 (by [@mohs8421](https://github.com/mohs8421), [@tyt2y3](https://github.com/tyt2y3))\\r\\n\\r\\n* `ColumnType::Enum` \u7ed3\u6784\u66f4\u6539\uff1a\\r\\n```rust\\r\\nenum ColumnType {\\r\\n    // \u4e4b\u524d\\r\\n    Enum(String, Vec<String>)\\r\\n\\r\\n    // \u73b0\u5728\\r\\n    Enum {\\r\\n        /// \u679a\u4e3e\u7684\u540d\u79f0\\r\\n        name: DynIden,\\r\\n        /// \u679a\u4e3e\u7684\u53d8\u4f53\\r\\n        variants: Vec<DynIden>,\\r\\n    }\\r\\n    ...\\r\\n}\\r\\n```\\r\\n\\r\\n* \u5411 `ValueType` \u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u65b9\u6cd5 `array_type`\uff1a\\r\\n```rust\\r\\nimpl sea_orm::sea_query::ValueType for MyType {\\r\\n    fn array_type() -> sea_orm::sea_query::ArrayType {\\r\\n        sea_orm::sea_query::ArrayType::TypeName\\r\\n    }\\r\\n    ...\\r\\n}\\r\\n```\\r\\n\\r\\n* `ActiveEnum::name()` \u8fd4\u56de\u7c7b\u578b\u66f4\u6539\u4e3a `DynIden`\uff1a\\r\\n```rust\\r\\n#[derive(Debug, Iden)]\\r\\n#[iden = \\"category\\"]\\r\\npub struct CategoryEnum;\\r\\n\\r\\nimpl ActiveEnum for Category {\\r\\n    // \u4e4b\u524d\\r\\n    fn name() -> String {\\r\\n        \\"category\\".to_owned()\\r\\n    }\\r\\n\\r\\n    // \u73b0\u5728\\r\\n    fn name() -> DynIden {\\r\\n        SeaRc::new(CategoryEnum)\\r\\n    }\\r\\n    ...\\r\\n}\\r\\n```\\r\\n\\r\\n## SeaORM \u589e\u5f3a\u529f\u80fd\\r\\n\\r\\n* [[#995](https://github.com/SeaQL/sea-orm/pull/995)] \u4e3a SQLite \u652f\u6301 `time` crate (by [@billy1624](https://github.com/billy1624))\\r\\n* [[#902](https://github.com/SeaQL/sea-orm/pull/902)] \u652f\u6301 `distinct` \u548c `distinct_on` \u8868\u8fbe\u5f0f (by [@edg](https://github.com/edg)-l, [@kyoto7250](https://github.com/kyoto7250))\\r\\n* [[#973](https://github.com/SeaQL/sea-orm/pull/973)] `fn column()` \u4e5f\u5904\u7406\u679a\u4e3e\u7c7b\u578b (by [@tyt2y3](https://github.com/tyt2y3), [@billy1624](https://github.com/billy1624))\\r\\n* [[#897](https://github.com/SeaQL/sea-orm/pull/897)] \u5728 `ConnectOptions` \u4e0a\u6dfb\u52a0 `acquire_timeout` (by [@001wwang](https://github.com/001wwang), [@billy1624](https://github.com/billy1624))\\r\\n* [[#1020](https://github.com/SeaQL/sea-orm/pull/1020)] \u5bf9\u6ca1\u6709\u4e3b\u952e\u7684\u5b9e\u4f53\u63d0\u4f9b\u66f4\u597d\u7684\u7f16\u8bd1\u9519\u8bef (by [@Sytten](https://github.com/Sytten), [@billy1624](https://github.com/billy1624))\\r\\n* [[#833](https://github.com/SeaQL/sea-orm/pull/833)] \u4e3a `Option` \u503c\u6dfb\u52a0 `IntoActiveValue` \u7684\u901a\u7528\u5b9e\u73b0 (by [@wdcocq](https://github.com/wdcocq))\\r\\n* [[#1112](https://github.com/SeaQL/sea-orm/pull/1112)] \u5728 `Cursor` \u4e2d\u6dfb\u52a0 `into_model` \u548c `into_json` (by [@jukanntenn](https://github.com/jukanntenn), [@billy1624](https://github.com/billy1624))\\r\\n* [[#1056](https://github.com/SeaQL/sea-orm/pull/1056)] \u4e3a PostgreSQL \u8fde\u63a5\u8bbe\u7f6e\u6a21\u5f0f\u641c\u7d22\u8def\u5f84\u7684\u65b9\u6cd5 `set_schema_search_path` (by [@MattGson](https://github.com/MattGson), [@billy1624](https://github.com/billy1624))\\r\\n* [[#1042](https://github.com/SeaQL/sea-orm/pull/1042)] \u5c06 `time` \u7c7b\u578b\u5e8f\u5217\u5316\u4e3a `serde_json::Value` (by [@jimmycuadra](https://github.com/jimmycuadra), [@billy1624](https://github.com/billy1624))\\r\\n* [[#986](https://github.com/SeaQL/sea-orm/pull/986)] \u5b9e\u73b0 `fmt::Display` \u7528\u4e8e `ActiveEnum` (by [@jesseduffield](https://github.com/jesseduffield), [@billy264](https://github.com/billy264))\\r\\n* [[#990](https://github.com/SeaQL/sea-orm/pull/990)] \u4e3a `Model` \u5b9e\u73b0 `TryFrom<ActiveModel>` (by [@MattGson](https://github.com/MattGson), [@greenhandatsjtu](https://github.com/greenhandatsjtu))\\r\\n\\r\\n## CLI \u589e\u5f3a\u529f\u80fd\\r\\n\\r\\n* [[#1052](https://github.com/SeaQL/sea-orm/pull/1052)] \u8f6c\u4e49\u4f7f\u7528 Rust \u5173\u952e\u5b57\u5b9a\u4e49\u7684\u6a21\u5757\u540d (by [@andy128k](https://github.com/andy128k))\\r\\n* [[#879](https://github.com/SeaQL/sea-orm/pull/879), [#1155](https://github.com/SeaQL/sea-orm/pull/1155)] \u786e\u4fdd\u8fc1\u79fb\u540d\u79f0\u4e2d\u4e0d\u5305\u542b\u8fde\u5b57\u7b26 `-` (by [@AngelOnFira](https://github.com/AngelOnFira))\\r\\n* [[#953](https://github.com/SeaQL/sea-orm/pull/953)] \u4ee5\u5e93\u6216\u6a21\u5757\u7684\u5f62\u5f0f\u751f\u6210\u5b9e\u4f53\u6587\u4ef6 (by [@viktorbahr](https://github.com/viktorbahr), [@HigherOrderLogic](https://github.com/HigherOrderLogic))\\r\\n* [[#947](https://github.com/SeaQL/sea-orm/pull/947)] \u751f\u6210\u4ee5 Unix \u65f6\u95f4\u6233\u4e3a\u524d\u7f00\u7684\u65b0\u8fc1\u79fb\u6a21\u677f (by [@Animeshz](https://github.com/Animeshz))\\r\\n* [[#933](https://github.com/SeaQL/sea-orm/pull/933)] \u5728\u6a21\u5757\u4e2d\u751f\u6210\u8fc1\u79fb (by [@remlse](https://github.com/remlse))\\r\\n* [[#1019](https://github.com/SeaQL/sea-orm/pull/1019)] \u5728\u7a7a\u7684 `Relation` \u679a\u4e3e\u4e0a\u751f\u6210 `DeriveRelation` (by [@alper](https://github.com/alper), [@billy1624](https://github.com/billy1624))\\r\\n* [[#988](https://github.com/SeaQL/sea-orm/pull/988)] \u5982\u679c\u53ef\u80fd\uff0c\u751f\u6210\u5b9e\u4f53\u6d3e\u751f `Eq` (by [@billy1624](https://github.com/billy1624), [@w93163red](https://github.com/w93163red))\\r\\n* [[#1056](https://github.com/SeaQL/sea-orm/pull/1056)] \u5728\u4efb\u4f55 PostgreSQL \u6a21\u5f0f\u4e0a\u8fd0\u884c\u8fc1\u79fb (by [@MattGson](https://github.com/MattGson), [@billy1624](https://github.com/billy1624))\\r\\n* [[#864](https://github.com/SeaQL/sea-orm/pull/864), [#991](https://github.com/SeaQL/sea-orm/pull/991)] `migrate fresh` \u547d\u4ee4\u5c06\u5220\u9664\u6240\u6709 PostgreSQL \u7c7b\u578b (by [@MaderNoob](https://github.com/MaderNoob), [@karpa4o4](https://github.com/karpa4o4))\\r\\n\\r\\n\u8bf7\u67e5\u770b [\u8fd9\u91cc](https://github.com/SeaQL/sea-orm/blob/master/CHANGELOG.md#0101---2022-10-27) \u83b7\u53d6\u5b8c\u6574\u7684\u66f4\u65b0\u65e5\u5fd7\u3002\\r\\n\\r\\n## \u96c6\u6210\u793a\u4f8b\\r\\n\\r\\nSeaORM \u4e0e\u5f02\u6b65\u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u5176\u4ed6 crate \u914d\u5408\u826f\u597d\u3002\u6211\u4eec\u7ef4\u62a4\u4e00\u7cfb\u5217\u7528\u4e8e\u6784\u5efa REST\u3001GraphQL \u548c gRPC \u670d\u52a1\u7684\u793a\u4f8b\u9879\u76ee\u3002\u66f4\u591a\u793a\u4f8b [\u6b22\u8fce\u8d21\u732e](https://github.com/SeaQL/sea-orm/issues/269)!\\r\\n\\r\\n- [Actix v4 \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example)\\r\\n- [Axum \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example)\\r\\n- [GraphQL \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example)\\r\\n- [jsonrpsee \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example)\\r\\n- [Poem \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example)\\r\\n- [Rocket \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example)\\r\\n- [Salvo \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example)\\r\\n- [Tonic \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example)\\r\\n\\r\\n## \u8d5e\u52a9\\r\\n\\r\\n\u6211\u4eec\u7684 [GitHub Sponsor](https://github.com/sponsors/SeaQL) \u8d44\u6599\u5df2\u7ecf\u5f00\u542f\uff01\u5982\u679c\u60a8\u89c9\u5f97\u6177\u6168\uff0c\u4efb\u4f55\u5c0f\u989d\u6350\u6b3e\u90fd\u5c06\u4e0d\u80dc\u611f\u6fc0\u3002\\r\\n\\r\\n\u7279\u522b\u611f\u8c22\u6211\u4eec\u7684\u8d5e\u52a9\u5546 \ud83d\ude07\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Dean Sheather\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sakti Dwi Cahyono\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/hgiesel\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/7188844?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Henrik Giesel\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/trueb2\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/8592049?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Jacob Trueb\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marcusbuffett\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marcus Buffett\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u672a\u547d\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u672a\u547d\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002\\r\\n\\r\\n\u4ee5\u4e0b\u662f SeaORM [`0.11.x`](https://github.com/SeaQL/sea-orm/milestone/11) \u7684\u8def\u7ebf\u56fe\u3002"},{"id":"2022-11-09-toggle-stacked-download-graph-in-crates-io","metadata":{"permalink":"/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io.md","source":"@site/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io.md","title":"\u5728 crates.io \u4e2d\u5207\u6362\u5806\u53e0\u4e0b\u8f7d\u56fe","description":"\u4e0d\u4e45\u524d\uff0c\u6211\u4eec\u63d0\u4ea4\u4e86\u4e00\u4e2a PR \\"Toggle stacked download graph #5010\\"\uff0c\u4ee5\u89e3\u51b3 Convert download chart from stacked chart to regular chart #3876 \u7684\u95ee\u9898\uff0c\u9002\u7528\u4e8e crates.io\u3002","date":"2022-11-09T00:00:00.000Z","formattedDate":"November 9, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":1.8,"hasTruncateMarker":false,"authors":[{"name":"Billy Chan","title":"SeaQL \u56e2\u961f","url":"https://github.com/billy1624","imageURL":"https://avatars.githubusercontent.com/u/30400950?v=4"}],"frontMatter":{"slug":"2022-11-09-toggle-stacked-download-graph-in-crates-io","title":"\u5728 crates.io \u4e2d\u5207\u6362\u5806\u53e0\u4e0b\u8f7d\u56fe","author":"Billy Chan","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/billy1624","author_image_url":"https://avatars.githubusercontent.com/u/30400950?v=4","tags":["news"]},"prevItem":{"title":"SeaORM 0.10.x \u7684\u65b0\u7279\u6027","permalink":"/blog/2022-11-10-whats-new-in-0.10.x"},"nextItem":{"title":"SeaQuery 0.27.0 \u7684\u65b0\u7279\u6027","permalink":"/blog/2022-10-31-whats-new-in-seaquery-0.27.0"}},"content":"\u4e0d\u4e45\u524d\uff0c\u6211\u4eec\u63d0\u4ea4\u4e86\u4e00\u4e2a PR \\"[Toggle stacked download graph #5010](https://github.com/rust-lang/crates.io/pull/5010)\\"\uff0c\u4ee5\u89e3\u51b3 [Convert download chart from stacked chart to regular chart #3876](https://github.com/rust-lang/crates.io/issues/3876) \u7684\u95ee\u9898\uff0c\u9002\u7528\u4e8e [crates.io](https://github.com/rust-lang/crates.io)\u3002\\r\\n\\r\\n\u8fd9\u5230\u5e95\u662f\u600e\u4e48\u56de\u4e8b\uff1f\\r\\n\\r\\n## \u95ee\u9898\\r\\n\\r\\ncrates.io \u4e0a\u7684\u4e0b\u8f7d\u56fe\u66fe\u7ecf\u662f\u5806\u53e0\u56fe\u3002\u8f83\u65e7\u7248\u672c\u7684\u4e0b\u8f7d\u6570\u91cf\u5806\u53e0\u5728\u8f83\u65b0\u7248\u672c\u7684\u4e0a\u65b9\u3002\u4f60\u53ef\u80fd\u4f1a\u8bef\u89e3\u8fd9\u4e9b\u6570\u5b57\u3002\u60f3\u60f3\u8fd9\u4e00\u70b9\uff0c\u4e4d\u4e00\u770b\uff0c\u4f3c\u4e4e\u7248\u672c 0.9.2 \u5728 11 \u6708 7 \u65e5\u6709 1,500 \u591a\u6b21\u4e0b\u8f7d\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e00\u5929\u53ea\u6709 237 \u6b21\u4e0b\u8f7d\uff0c\u56e0\u4e3a\u56fe\u8868\u663e\u793a\u7684\u662f\u7d2f\u79ef\u4e0b\u8f7d\u91cf\u3002\\r\\n\\r\\n![crates.io \u5806\u53e0\u4e0b\u8f7d\u56fe](https://user-images.githubusercontent.com/30400950/200738670-4266e178-7952-4e05-bff0-c2445ba345bf.png)\\r\\n\\r\\n\u8fd9\u4f7f\u5f97\u6bd4\u8f83\u4e0d\u540c\u7248\u672c\u968f\u65f6\u95f4\u7684\u4e0b\u8f7d\u8d8b\u52bf\u53d8\u5f97\u56f0\u96be\u3002\u4f60\u53ef\u80fd\u4f1a\u95ee\uff0c\u8fd9\u4e3a\u4ec0\u4e48\u91cd\u8981\uff1f\u89c2\u5bdf\u65b0\u7248\u672c\u53d1\u5e03\u540e\u7684\u91c7\u7528\u7387\u975e\u5e38\u91cd\u8981\u3002\u8fd9\u53ef\u4ee5\u5927\u81f4\u63cf\u7ed8\u51fa\u73b0\u6709\u7528\u6237\u662f\u5426\u6b63\u5728\u5347\u7ea7\u5230\u65b0\u7248\u672c\u3002\\r\\n\\r\\n## \u89e3\u51b3\u65b9\u6848\\r\\n\\r\\n\u8fd9\u4e2a\u60f3\u6cd5\u7b80\u5355\u4f46\u6709\u6548\uff1a\u8bbe\u7f6e\u4e00\u4e2a\u4e0b\u62c9\u83dc\u5355\u53ef\u4ee5\u5728\u5806\u53e0\u4e0b\u8f7d\u56fe\u548c\u975e\u5806\u53e0\u4e0b\u8f7d\u56fe\u4e4b\u95f4\u5207\u6362\u3002\u8fd9\u6837\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u4e24\u79cd\u663e\u793a\u6a21\u5f0f\u4e4b\u95f4\u5207\u6362\uff0c\u6bd4\u8f83\u4e0d\u540c\u7248\u672c\u7684\u4e0b\u8f7d\u8d8b\u52bf\uff0c\u5e76\u76f4\u89c2\u5730\u89c2\u5bdf\u8fc7\u53bb 90 \u5929\u5185\u4e0b\u8f7d\u91cf\u6700\u591a\u7684\u7248\u672c\u3002\\r\\n\\r\\n![crates.io \u975e\u5806\u53e0\u4e0b\u8f7d\u56fe](https://user-images.githubusercontent.com/30400950/200741006-6a5e1922-de38-456b-b33d-dfc4ce2f8a93.png)\\r\\n\\r\\n## \u7ed3\u8bba\\r\\n\\r\\n\u8fd9\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u5de5\u5177\uff0c\u5e2e\u52a9\u6211\u4eec\u8bc4\u4f30\u65b0\u7248\u672c\u7684\u91c7\u7528\u7387\uff0c\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u7528\u6237\u5347\u7ea7\u5230\u5305\u542b\u529f\u80fd\u66f4\u65b0\u548c\u9519\u8bef\u4fee\u590d\u7684\u65b0\u7248\u672c\u3002"},{"id":"2022-10-31-whats-new-in-seaquery-0.27.0","metadata":{"permalink":"/blog/2022-10-31-whats-new-in-seaquery-0.27.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-10-31-whats-new-in-seaquery-0.27.0.md","source":"@site/blog/2022-10-31-whats-new-in-seaquery-0.27.0.md","title":"SeaQuery 0.27.0 \u7684\u65b0\u7279\u6027","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u53d1\u5e03 SeaQuery 0.27.0\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a","date":"2022-10-31T00:00:00.000Z","formattedDate":"October 31, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":5.285,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Ivan Krivosheev","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-10-31-whats-new-in-seaquery-0.27.0","title":"SeaQuery 0.27.0 \u7684\u65b0\u7279\u6027","author":"SeaQL Team","author_title":"Ivan Krivosheev","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"\u5728 crates.io \u4e2d\u5207\u6362\u5806\u53e0\u4e0b\u8f7d\u56fe","permalink":"/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io"},"nextItem":{"title":"\u5f00\u59cb\u4f7f\u7528 Seaography","permalink":"/blog/2022-09-27-getting-started-with-seaography"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u53d1\u5e03 SeaQuery [`0.27.0`](https://github.com/SeaQL/sea-query/releases/tag/0.27.0)\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a\\r\\n\\r\\n## \u4f9d\u8d56\u5347\u7ea7\\r\\n\\r\\n[[#356](https://github.com/SeaQL/sea-query/issues/356)] \u6211\u4eec\u5347\u7ea7\u4e86\u4e00\u4e2a\u4e3b\u8981\u4f9d\u8d56\uff1a\\r\\n- \u5347\u7ea7 [`sqlx`](https://github.com/launchbadge/sqlx) \u5230 0.6.1\\r\\n\\r\\n\u60a8\u53ef\u80fd\u8fd8\u9700\u8981\u5728\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5347\u7ea7\u76f8\u5e94\u7684\u4f9d\u8d56\u3002\\r\\n\\r\\n## \u9a71\u52a8\u652f\u6301\\r\\n\\r\\n\u6211\u4eec\u91cd\u65b0\u8bbe\u8ba1\u4e86 SeaQuery \u4e2d\u9a71\u52a8\u7684\u5de5\u4f5c\u65b9\u5f0f\uff1a\u5728 `0.27.0` \u4e4b\u524d\uff0c\u7528\u6237\u5fc5\u987b\u8c03\u7528 `sea_query_driver_*` \u5b8f\u3002\u73b0\u5728\u6bcf\u4e2a\u9a71\u52a8 `sqlx`\u3001`postgres` \u548c `rusqlite` \u6709\u81ea\u5df1\u7684\u652f\u6301\u5e93\uff0c\u4e0e\u76f8\u5e94\u7684\u5e93\u7d27\u5bc6\u96c6\u6210\u3002\u6709\u5173\u66f4\u591a\u7ec6\u8282\uff0c\u8bf7\u67e5\u770b\u6211\u4eec\u4e0b\u9762\u7684\u96c6\u6210\u793a\u4f8b\u3002\\r\\n\\r\\n[[#383](https://github.com/SeaQL/sea-query/issues/383)] \u63a8\u5f03 `sea-query-driver`\uff0c\u6539\u7528 `sea-query-binder`\\r\\n\\r\\n[[#422](https://github.com/SeaQL/sea-query/pull/422)] Rusqlite \u652f\u6301\u5df2\u8fc1\u79fb\u81f3 `sea-query-rusqlite`\\r\\n\\r\\n[[#433](https://github.com/SeaQL/sea-query/pull/433)] Postgres \u652f\u6301\u5df2\u8fc1\u79fb\u81f3 `sea-query-postgres`\\r\\n\\r\\n```rust\\r\\n// \u4e4b\u524d\\r\\nsea_query::sea_query_driver_postgres!();\\r\\nuse sea_query_driver_postgres::{bind_query, bind_query_as};\\r\\n\\r\\nlet (sql, values) = Query::select()\\r\\n    .from(Character::Table)\\r\\n    .expr(Func::count(Expr::col(Character::Id)))\\r\\n    .build(PostgresQueryBuilder);\\r\\n\\r\\nlet row = bind_query(sqlx::query(&sql), &values)\\r\\n    .fetch_one(&mut pool)\\r\\n    .await\\r\\n    .unwrap();\\r\\n\\r\\n// \u73b0\u5728\\r\\nuse sea_query_binder::SqlxBinder;\\r\\n\\r\\nlet (sql, values) = Query::select()\\r\\n    .from(Character::Table)\\r\\n    .expr(Func::count(Expr::col(Character::Id)))\\r\\n    .build_sqlx(PostgresQueryBuilder);\\r\\n\\r\\nlet row = sqlx::query_with(&sql, values)\\r\\n    .fetch_one(&mut pool)\\r\\n    .await\\r\\n    .unwrap();\\r\\n\\r\\n// \u73b0\u5728\u53ef\u4ee5\u5f88\u597d\u5730\u4f7f\u7528 SQLx \u7684 `query_as_with`\uff1a\\r\\nlet rows = sqlx::query_as_with::<_, StructWithFromRow, _>(&sql, values)\\r\\n    .fetch_all(&mut pool)\\r\\n    .await\\r\\n    .unwrap();\\r\\n```\\r\\n\\r\\n## \u652f\u6301\u5b50\u67e5\u8be2\u8fd0\u7b97\u7b26\uff1a`EXISTS`\u3001`ALL`\u3001`ANY`\u3001`SOME`\\r\\n\\r\\n[[#118](https://github.com/SeaQL/sea-query/issues/118)] \u65b0\u589e\u5b50\u67e5\u8be2\u8fd0\u7b97\u7b26\uff1a`EXISTS`\u3001`ALL`\u3001`ANY`\u3001`SOME`\\r\\n\\r\\n```rust\\r\\nlet query = Query::select()\\r\\n    .column(Char::Id)\\r\\n    .from(Char::Table)\\r\\n    .and_where(\\r\\n        Expr::col(Char::Id)\\r\\n            .eq(\\r\\n                Expr::any(\\r\\n                    Query::select().column(Char::Id).from(Char::Table).take()\\r\\n                )\\r\\n            )\\r\\n    )\\r\\n    .to_owned();\\r\\n\\r\\nassert_eq!(\\r\\n    query.to_string(MysqlQueryBuilder),\\r\\n    r#\\"SELECT `id` FROM `character` WHERE `id` = ANY(SELECT `id` FROM `character`)\\"#\\r\\n);\\r\\nassert_eq!(\\r\\n    query.to_string(PostgresQueryBuilder),\\r\\n    r#\\"SELECT \\"id\\" FROM \\"character\\" WHERE \\"id\\" = ANY(SELECT \\"id\\" FROM \\"character\\")\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n## \u652f\u6301 `ON CONFLICT WHERE`\\r\\n\\r\\n[[#366](https://github.com/SeaQL/sea-query/issues/366)] \u6dfb\u52a0\u5bf9 `ON CONFLICT WHERE` \u7684\u652f\u6301\\r\\n\\r\\n```rust\\r\\nlet query = Query::insert()\\r\\n    .into_table(Glyph::Table)\\r\\n    .columns([Glyph::Aspect, Glyph::Image])\\r\\n    .values_panic(vec![\\r\\n        2.into(),\\r\\n        3.into(),\\r\\n    ])\\r\\n    .on_conflict(\\r\\n        OnConflict::column(Glyph::Id)\\r\\n            .update_expr((Glyph::Image, Expr::val(1).add(2)))\\r\\n            .target_and_where(Expr::tbl(Glyph::Table, Glyph::Aspect).is_null())\\r\\n            .to_owned()\\r\\n    )\\r\\n    .to_owned();\\r\\n\\r\\nassert_eq!(\\r\\n    query.to_string(MysqlQueryBuilder),\\r\\n    r#\\"INSERT INTO `glyph` (`aspect`, `image`) VALUES (2, 3) ON DUPLICATE KEY UPDATE `image` = 1 + 2\\"#\\r\\n);\\r\\nassert_eq!(\\r\\n    query.to_string(PostgresQueryBuilder),\\r\\n    r#\\"INSERT INTO \\"glyph\\" (\\"aspect\\", \\"image\\") VALUES (2, 3) ON CONFLICT (\\"id\\") WHERE \\"glyph\\".\\"aspect\\" IS NULL DO UPDATE SET \\"image\\" = 1 + 2\\"#\\r\\n);\\r\\nassert_eq!(\\r\\n    query.to_string(SqliteQueryBuilder),\\r\\n    r#\\"INSERT INTO \\"glyph\\" (\\"aspect\\", \\"image\\") VALUES (2, 3) ON CONFLICT (\\"id\\") WHERE \\"glyph\\".\\"aspect\\" IS NULL DO UPDATE SET \\"image\\" = 1 + 2\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n## \u66f4\u6539\u4e86 `cond_where` \u94fe\u5f0f\u8bed\u4e49\\r\\n\\r\\n[[#414](https://github.com/SeaQL/sea-query/issues/414)] \u66f4\u6539\u4e86 `cond_where` \u94fe\u5f0f\u8bed\u4e49\\r\\n\\r\\n```rust\\r\\n// \u4e4b\u524d\uff1a\u5c06\u6269\u5c55\u5f53\u524d\u6761\u4ef6\\r\\nassert_eq!(\\r\\n    Query::select()\\r\\n        .cond_where(any![Expr::col(Glyph::Id).eq(1), Expr::col(Glyph::Id).eq(2)])\\r\\n        .cond_where(Expr::col(Glyph::Id).eq(3))\\r\\n        .to_owned()\\r\\n        .to_string(PostgresQueryBuilder),\\r\\n    r#\\"SELECT WHERE \\"id\\" = 1 OR \\"id\\" = 2 OR \\"id\\" = 3\\"#\\r\\n);\\r\\n// \u4e4b\u524d\uff1a\u4ee4\u4eba\u56f0\u60d1\uff0c\u56e0\u4e3a\u5b83\u4f9d\u8d56\u4e8e\u8c03\u7528\u987a\u5e8f\uff1a\\r\\nassert_eq!(\\r\\n    Query::select()\\r\\n        .cond_where(Expr::col(Glyph::Id).eq(3))\\r\\n        .cond_where(any![Expr::col(Glyph::Id).eq(1), Expr::col(Glyph::Id).eq(2)])\\r\\n        .to_owned()\\r\\n        .to_string(PostgresQueryBuilder),\\r\\n    r#\\"SELECT WHERE \\"id\\" = 3 AND (\\"id\\" = 1 OR \\"id\\" = 2)\\"#\\r\\n);\\r\\n// \u73b0\u5728\uff1a\u5c06\u59cb\u7ec8\u4e0e `AND` \u8fde\u63a5\\r\\nassert_eq!(\\r\\n    Query::select()\\r\\n        .cond_where(Expr::col(Glyph::Id).eq(1))\\r\\n        .cond_where(any![Expr::col(Glyph::Id).eq(2), Expr::col(Glyph::Id).eq(3)])\\r\\n        .to_owned()\\r\\n        .to_string(PostgresQueryBuilder),\\r\\n    r#\\"SELECT WHERE \\"id\\" = 1 AND (\\"id\\" = 2 OR \\"id\\" = 3)\\"#\\r\\n);\\r\\n// \u73b0\u5728\uff1a\u5b83\u4eec\u73b0\u5728\u662f\u7b49\u6548\u7684\\r\\nassert_eq!(\\r\\n    Query::select()\\r\\n        .cond_where(any![Expr::col(Glyph::Id).eq(2), Expr::col(Glyph::Id).eq(3)])\\r\\n        .cond_where(Expr::col(Glyph::Id).eq(1))\\r\\n        .to_owned()\\r\\n        .to_string(PostgresQueryBuilder),\\r\\n    r#\\"SELECT WHERE (\\"id\\" = 2 OR \\"id\\" = 3) AND \\"id\\" = 1\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n## \u6dfb\u52a0 `OnConflict::value` \u548c `OnConflict::values`\\r\\n\\r\\n[[#451](https://github.com/SeaQL/sea-query/issues/451)] \u4e3a\u4efb\u4f55 `Into<Value>` \u5b9e\u73b0 `From<T>` \u5230 `SimpleExpr`\\r\\n\\r\\n```rust\\r\\n// \u4e4b\u524d\uff1a\u6ce8\u610f\u5143\u7ec4\\r\\nOnConflict::column(Glyph::Id).update_expr((Glyph::Image, Expr::val(1).add(2)))\\r\\n// \u73b0\u5728\uff1a\u5b83\u63a5\u53d7 `Value` \u4ee5\u53ca `SimpleExpr`\\r\\nOnConflict::column(Glyph::Id).value(Glyph::Image, Expr::val(1).add(2))\\r\\n```\\r\\n\\r\\n## \u6539\u8fdb `ColumnDef::default`\\r\\n\\r\\n[[#347](https://github.com/SeaQL/sea-query/issues/347)] `ColumnDef::default` \u73b0\u5728\u63a5\u53d7 `Into<SimpleExpr>` \u800c\u4e0d\u662f `Into<Value>`\\r\\n\\r\\n```rust\\r\\n// \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u5199\uff1a\\r\\nColumnDef::new(Char::FontId)\\r\\n    .timestamp()\\r\\n    .default(Expr::current_timestamp())\\r\\n```\\r\\n\\r\\n## \u7834\u574f\u6027\u66f4\u6539\\r\\n\\r\\n- [[#386](https://github.com/SeaQL/sea-query/pull/386)] \u66f4\u6539 `in_tuples` \u63a5\u53e3\u4ee5\u63a5\u53d7 `IntoValueTuple`\\r\\n- [[#320](https://github.com/SeaQL/sea-query/issues/320)] \u79fb\u9664\u4e86\u5df2\u5f03\u7528\u7684\u65b9\u6cd5\\r\\n- [[#440](https://github.com/SeaQL/sea-query/issues/440)] `CURRENT_TIMESTAMP` \u4ece\u51fd\u6570\u66f4\u6539\u4e3a\u5173\u952e\u5b57\\r\\n- [[#375](https://github.com/SeaQL/sea-query/issues/375)] \u5c06 SQLite \u7684 `boolean` \u7c7b\u578b\u4ece `integer` \u66f4\u6539\u4e3a `boolean`\\r\\n- [[#451](https://github.com/SeaQL/sea-query/issues/451)] \u5f03\u7528\u4e86 `OnConflict::update_value`\u3001`OnConflict::update_values`\u3001`OnConflict::update_expr`\u3001`OnConflict::update_exprs`\\r\\n- [[#451](https://github.com/SeaQL/sea-query/issues/451)] \u5f03\u7528\u4e86 `InsertStatement::exprs`\u3001`InsertStatement::exprs_panic`\\r\\n- [[#451](https://github.com/SeaQL/sea-query/issues/451)] \u5f03\u7528\u4e86 `UpdateStatement::col_expr`\u3001`UpdateStatement::value_expr`\u3001`UpdateStatement::exprs`\\r\\n- [[#451](https://github.com/SeaQL/sea-query/issues/451)] `UpdateStatement::value` \u73b0\u5728\u63a5\u53d7 `Into<SimpleExpr>` \u800c\u4e0d\u662f `Into<Value>`\\r\\n- [[#451](https://github.com/SeaQL/sea-query/issues/451)] `Expr::case`\u3001`CaseStatement::case` \u548c `CaseStatement::finally` \u73b0\u5728\u63a5\u53d7 `Into<SimpleExpr>` \u800c\u4e0d\u662f `Into<Expr>`\\r\\n- [[#460](https://github.com/SeaQL/sea-query/pull/460)] `InsertStatement::values`\u3001`UpdateStatement::values` \u73b0\u5728\u63a5\u53d7 `IntoIterator<Item = SimpleExpr>` \u800c\u4e0d\u662f `IntoIterator<Item = Value>`\\r\\n- [[#409](https://github.com/SeaQL/sea-query/issues/409)] \u5bf9\u4e8e SQLite \u4f7f\u7528 SQLx \u7684\u539f\u751f API \u6765\u5904\u7406\u65f6\u95f4\\r\\n- [[#435](https://github.com/SeaQL/sea-query/pull/435)] \u5c06 `ColumnType::Enum` \u7684\u7c7b\u578b\u4ece `(String, Vec<String>)` \u66f4\u6539\u4e3a `Enum { name: DynIden, variants: Vec<DynIden>}`\\r\\n\\r\\n## \u5176\u4ed6\u589e\u5f3a\u529f\u80fd\\r\\n\\r\\n- [[#336](https://github.com/SeaQL/sea-query/issues/336)] \u4e3a SQLx \u6dfb\u52a0\u4e00\u7ef4 Postgres \u6570\u7ec4\u652f\u6301\\r\\n- [[#373](https://github.com/SeaQL/sea-query/issues/373)] \u652f\u6301 CROSS JOIN\\r\\n- [[#457](https://github.com/SeaQL/sea-query/issues/457)] \u4e3a SQLite \u6dfb\u52a0 `DROP COLUMN` \u652f\u6301\\r\\n- [[#466](https://github.com/SeaQL/sea-query/pull/466)] \u6dfb\u52a0 `YEAR`\u3001`BIT` \u548c `VARBIT` \u7c7b\u578b\\r\\n- [[#338](https://github.com/SeaQL/sea-query/issues/338)] \u5904\u7406 Postgres \u7684\u6a21\u5f0f\u540d\u79f0\u7528\u4e8e\u6a21\u5f0f\u8bed\u53e5\\r\\n- [[#418](https://github.com/SeaQL/sea-query/issues/418)] \u6dfb\u52a0 `%`\u3001`<<` \u548c `>>` \u4e8c\u8fdb\u5236\u8fd0\u7b97\u7b26\\r\\n- [[#329](https://github.com/SeaQL/sea-query/pull/430)] \u6dfb\u52a0 RAND \u51fd\u6570\\r\\n- [[#425](https://github.com/SeaQL/sea-query/pull/425)] \u4e3a `Value` \u5b9e\u73b0 `Display`\\r\\n- [[#427](https://github.com/SeaQL/sea-query/issues/427)] \u5411 UnionType \u6dfb\u52a0 `INTERSECT` \u548c `EXCEPT`\\r\\n- [[#448](https://github.com/SeaQL/sea-query/pull/448)] `OrderedStatement::order_by_customs`\u3001`OrderedStatement::order_by_columns`\u3001`OverStatement::partition_by_customs`\u3001`OverStatement::partition_by_columns` \u73b0\u5728\u63a5\u53d7 `IntoIterator<Item = T>` \u800c\u4e0d\u662f `Vec<T>`\\r\\n- [[#452](https://github.com/SeaQL/sea-query/pull/452)] `TableAlterStatement::rename_column`\u3001`TableAlterStatement::drop_column`\u3001`ColumnDef::new`\u3001`ColumnDef::new_with_type` \u73b0\u5728\u63a5\u53d7 `IntoIden` \u800c\u4e0d\u662f `Iden`\\r\\n- [[#426](https://github.com/SeaQL/sea-query/pull/426)] \u6e05\u7406 `IndexBuilder` \u7279\u6027\u65b9\u6cd5\\r\\n- [[#436](https://github.com/SeaQL/sea-query/pull/436)] \u5f15\u5165 `SqlWriter` \u7279\u6027\\r\\n- [[#448](https://github.com/SeaQL/sea-query/pull/448)] \u4ece\u793a\u4f8b\u4e2d\u79fb\u9664\u4e0d\u9700\u8981\u7684 `vec!`\\r\\n\\r\\n## \u9519\u8bef\u4fee\u590d\\r\\n\\r\\n- [[#449](https://github.com/SeaQL/sea-query/issues/449)] `distinct_on` \u6b63\u786e\u5904\u7406 `ColumnRef`\\r\\n- [[#461](https://github.com/SeaQL/sea-query/issues/461)] \u4e3a SQLite \u79fb\u9664\u4e86 `DROP INDEX` \u7684 `ON`\\r\\n- [[#468](https://github.com/SeaQL/sea-query/pull/468)] \u66f4\u6539\u65e5\u671f\u65f6\u95f4\u5b57\u7b26\u4e32\u683c\u5f0f\u4ee5\u5305\u542b\u5fae\u79d2\\r\\n- [[#452](https://github.com/SeaQL/sea-query/issues/452)] \u5bf9 PostgreSQL \u8fdb\u884c\u7684 `ALTER TABLE` \u6709 `UNIQUE` \u7ea6\u675f\\r\\n\\r\\n## \u96c6\u6210\u793a\u4f8b\\r\\n\\r\\nSeaQuery \u4e0e Rust \u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u5176\u4ed6 crate \u826f\u597d\u517c\u5bb9\u3002\\r\\n\\r\\n- [Postgres \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/postgres)\\r\\n- [Rusqlite \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/rusqlite)\\r\\n- [SQLx \u4efb\u610f\u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_any)\\r\\n- [SQLx Postgres \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_postgres)\\r\\n- [SQLx MySql \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_mysql)\\r\\n- [SQLx Sqlite \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_sqlite)\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\u5e76\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002"},{"id":"2022-09-27-getting-started-with-seaography","metadata":{"permalink":"/blog/2022-09-27-getting-started-with-seaography","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-09-27-getting-started-with-seaography.md","source":"@site/blog/2022-09-27-getting-started-with-seaography.md","title":"\u5f00\u59cb\u4f7f\u7528 Seaography","description":"Seaography \u662f\u4e00\u4e2a\u57fa\u4e8e SeaORM \u6784\u5efa GraphQL \u89e3\u6790\u5668\u7684\u6846\u67b6\u3002\u5b83\u9644\u5e26\u4e00\u4e2a CLI \u5de5\u5177\uff0c\u53ef\u4ee5\u4ece\u73b0\u6709\u7684 MySQL\u3001Postgres \u548c SQLite \u6570\u636e\u5e93\u751f\u6210\u53ef\u7f16\u8bd1\u7684 Rust \u9879\u76ee\u3002","date":"2022-09-27T00:00:00.000Z","formattedDate":"September 27, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":6.475,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-09-27-getting-started-with-seaography","title":"\u5f00\u59cb\u4f7f\u7528 Seaography","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"SeaQuery 0.27.0 \u7684\u65b0\u7279\u6027","permalink":"/blog/2022-10-31-whats-new-in-seaquery-0.27.0"},"nextItem":{"title":"\u4ecb\u7ecd Seaography \ud83e\udded","permalink":"/blog/2022-09-17-introducing-seaography"}},"content":"[Seaography](https://github.com/SeaQL/seaography) \u662f\u4e00\u4e2a\u57fa\u4e8e [SeaORM](https://github.com/SeaQL/sea-orm) \u6784\u5efa GraphQL \u89e3\u6790\u5668\u7684\u6846\u67b6\u3002\u5b83\u9644\u5e26\u4e00\u4e2a CLI \u5de5\u5177\uff0c\u53ef\u4ee5\u4ece\u73b0\u6709\u7684 MySQL\u3001Postgres \u548c SQLite \u6570\u636e\u5e93\u751f\u6210\u53ef\u7f16\u8bd1\u7684 Rust \u9879\u76ee\u3002\\r\\n\\r\\n\u5173\u4e8e Seaography \u7684\u8bbe\u8ba1\u548c\u5b9e\u73b0\uff0c\u53ef\u53c2\u8003\u6211\u4eec\u7684 [\u53d1\u5e03\u535a\u5ba2\u6587\u7ae0](https://www.sea-ql.org/blog/2022-09-17-introducing-seaography/) \u548c [\u6587\u6863](https://www.sea-ql.org/Seaography/) \u3002\\r\\n\\r\\n## \u6269\u5c55 SeaORM \u9879\u76ee\\r\\n\\r\\n\u7531\u4e8e Seaography \u6784\u5efa\u5728 SeaORM \u4e4b\u4e0a\uff0c\u60a8\u53ef\u4ee5\u8f7b\u677e\u5730\u4ece SeaORM \u9879\u76ee\u6784\u5efa\u4e00\u4e2a GraphQL \u670d\u52a1\u5668\u3002\\r\\n\\r\\n\u9996\u5148\uff0c\u5c06 Seaography \u548c GraphQL \u4f9d\u8d56\u9879\u6dfb\u52a0\u5230\u60a8\u7684 `Cargo.toml` \u4e2d\u3002\\r\\n\\r\\n```diff title=Cargo.toml\\r\\n[dependencies]\\r\\nsea-orm = { version = \\"^0.9\\", features = [ ... ] }\\r\\n+ seaography = { version = \\"^0.1\\", features = [ \\"with-decimal\\", \\"with-chrono\\" ] }\\r\\n+ async-graphql = { version = \\"4.0.10\\", features = [\\"decimal\\", \\"chrono\\", \\"dataloader\\"] }\\r\\n+ async-graphql-poem = { version = \\"4.0.10\\" }\\r\\n```\\r\\n\\r\\n\u7136\u540e\uff0c\u5728 SeaORM \u5b9e\u4f53\u4e0a\u6d3e\u751f\u51e0\u4e2a\u5b8f\u3002\\r\\n\\r\\n```diff title=src/entities/film_actor.rs\\r\\nuse sea_orm::entity::prelude::*;\\r\\n\\r\\n#[derive(\\r\\n    Clone,\\r\\n    Debug,\\r\\n    PartialEq,\\r\\n    DeriveEntityModel,\\r\\n+   async_graphql::SimpleObject,\\r\\n+   seaography::macros::Filter,\\r\\n)]\\r\\n+ #[graphql(complex)]\\r\\n+ #[graphql(name = \\"FilmActor\\")]\\r\\n#[sea_orm(table_name = \\"film_actor\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key, auto_increment = false)]\\r\\n    pub actor_id: i32,\\r\\n    #[sea_orm(primary_key, auto_increment = false)]\\r\\n    pub film_id: i32,\\r\\n    pub last_update: DateTimeUtc,\\r\\n}\\r\\n\\r\\n#[derive(\\r\\n    Copy,\\r\\n    Clone,\\r\\n    Debug,\\r\\n    EnumIter,\\r\\n    DeriveRelation,\\r\\n+   seaography::macros::RelationsCompact,\\r\\n)]\\r\\npub enum Relation {\\r\\n    #[sea_orm(\\r\\n        belongs_to = \\"super::film::Entity\\",\\r\\n        from = \\"Column::FilmId\\",\\r\\n        to = \\"super::film::Column::FilmId\\",\\r\\n        on_update = \\"Cascade\\",\\r\\n        on_delete = \\"NoAction\\"\\r\\n    )]\\r\\n    Film,\\r\\n    #[sea_orm(\\r\\n        belongs_to = \\"super::actor::Entity\\",\\r\\n        from = \\"Column::ActorId\\",\\r\\n        to = \\"super::actor::Column::ActorId\\",\\r\\n        on_update = \\"Cascade\\",\\r\\n        on_delete = \\"NoAction\\"\\r\\n    )]\\r\\n    Actor,\\r\\n}\\r\\n```\\r\\n\\r\\n\u6211\u4eec\u8fd8\u9700\u8981\u4e3a GraphQL \u670d\u52a1\u5668\u5b9a\u4e49 `QueryRoot`\u3002\u8fd9\u5b9a\u4e49\u4e86 GraphQL \u67b6\u6784\u3002\\r\\n\\r\\n```rust title=src/query_root.rs\\r\\n#[derive(Debug, seaography::macros::QueryRoot)]\\r\\n#[seaography(entity = \\"crate::entities::actor\\")]\\r\\n#[seaography(entity = \\"crate::entities::film\\")]\\r\\n#[seaography(entity = \\"crate::entities::film_actor\\")]\\r\\npub struct QueryRoot;\\r\\n```\\r\\n\\r\\n```rust title=src/lib.rs\\r\\nuse sea_orm::prelude::*;\\r\\n\\r\\npub mod entities;\\r\\npub mod query_root;\\r\\n\\r\\npub use query_root::QueryRoot;\\r\\n\\r\\npub struct OrmDataloader {\\r\\n    pub db: DatabaseConnection,\\r\\n}\\r\\n```\\r\\n\\r\\n\u6700\u540e\uff0c\u521b\u5efa\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u6765\u9a71\u52a8 GraphQL \u670d\u52a1\u5668\u3002\\r\\n\\r\\n``` rust title=src/main.rs\\r\\nuse async_graphql::{\\r\\n    dataloader::DataLoader,\\r\\n    http::{playground_source, GraphQLPlaygroundConfig},\\r\\n    EmptyMutation, EmptySubscription, Schema,\\r\\n};\\r\\nuse async_graphql_poem::GraphQL;\\r\\nuse poem::{handler, listener::TcpListener, web::Html, IntoResponse, Route, Server};\\r\\nuse sea_orm::Database;\\r\\nuse seaography_example_project::*;\\r\\n// ...\\r\\n\\r\\n#[handler]\\r\\nasync fn graphql_playground() -> impl IntoResponse {\\r\\n    Html(playground_source(GraphQLPlaygroundConfig::new(\\"/\\")))\\r\\n}\\r\\n\\r\\n#[tokio::main]\\r\\nasync fn main() {\\r\\n    // ...\\r\\n\\r\\n    let database = Database::connect(db_url).await.unwrap();\\r\\n    let orm_dataloader: DataLoader<OrmDataloader> = DataLoader::new(\\r\\n        OrmDataloader { db: database.clone() },\\r\\n        tokio::spawn,\\r\\n    );\\r\\n\\r\\n    let schema = Schema::build(QueryRoot, EmptyMutation, EmptySubscription)\\r\\n        .data(database)\\r\\n        .data(orm_dataloader)\\r\\n        .finish();\\r\\n\\r\\n    let app = Route::new()\\r\\n        .at(\\"/\\", get(graphql_playground)\\r\\n        .post(GraphQL::new(schema)));\\r\\n\\r\\n    Server::new(TcpListener::bind(\\"0.0.0.0:8000\\"))\\r\\n        .run(app)\\r\\n        .await\\r\\n        .unwrap();\\r\\n}\\r\\n```\\r\\n\\r\\n## \u4ece\u6570\u636e\u5e93\u751f\u6210\u9879\u76ee\\r\\n\\r\\n\u5982\u679c\u60a8\u53ea\u6709\u4e00\u4e2a\u6570\u636e\u5e93\u67b6\u6784\uff0c\u606d\u559c\u60a8\uff01\u60a8\u53ef\u4ee5\u5728\u4e0d\u7f16\u5199\u4efb\u4f55\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u8bbe\u7f6e GraphQL \u670d\u52a1\u5668\u3002\\r\\n\\r\\n\u5b89\u88c5 `seaography-cli`\uff0c\u5b83\u5e2e\u52a9\u60a8\u751f\u6210 SeaORM \u5b9e\u4f53\u4ee5\u53ca\u57fa\u4e8e\u6570\u636e\u5e93\u67b6\u6784\u7684\u5b8c\u6574 Rust \u9879\u76ee\u3002\\r\\n\\r\\n```shell\\r\\ncargo install seaography-cli\\r\\n```\\r\\n\\r\\n\u8fd0\u884c `seaography-cli` \u6765\u4e3a GraphQL \u670d\u52a1\u5668\u751f\u6210\u4ee3\u7801\u3002\\r\\n\\r\\n```shell\\r\\n# \u8be5\u547d\u4ee4\u9700\u8981\u4e09\u4e2a\u53c2\u6570\\r\\nseaography-cli <DATABASE_URL> <CRATE_NAME> <DESTINATION>\\r\\n\\r\\n# MySQL\\r\\nseaography-cli mysql://root:root@localhost/sakila seaography-mysql-example examples/mysql\\r\\n# PostgreSQL\\r\\nseaography-cli postgres://root:root@localhost/sakila seaography-postgres-example examples/postgres\\r\\n# SQLite\\r\\nseaography-cli sqlite://examples/sqlite/sakila.db seaography-sqlite-example examples/sqliteql\\r\\n```\\r\\n\\r\\n## \u67e5\u770b\u793a\u4f8b\u9879\u76ee\\r\\n\\r\\n\u6211\u4eec\u4e3a\u60a8\u51c6\u5907\u4e86\u4ee5\u4e0b\u793a\u4f8b\uff0c\u5e76\u9644\u6709\u521d\u59cb\u5316\u6570\u636e\u5e93\u7684 SQL \u811a\u672c\u3002\\r\\n\\r\\n* [MySQL](https://github.com/SeaQL/seaography/tree/main/examples/mysql)\\r\\n* [PostgreSQL](https://github.com/SeaQL/seaography/tree/main/examples/postgres)\\r\\n* [SQLite](https://github.com/SeaQL/seaography/tree/main/examples/sqlite)\\r\\n\\r\\n\u6240\u6709\u793a\u4f8b\u5728\u8fd0\u884c\u65f6\u90fd\u63d0\u4f9b\u57fa\u4e8e Web \u7684 GraphQL playground\uff0c\u60a8\u53ef\u4ee5\u67e5\u770b GraphQL \u67b6\u6784\u5e76\u8fdb\u884c\u67e5\u8be2\u3002\u5982\u679c\u60a8\u7b49\u4e0d\u53ca\u60f3\u73a9\uff0c\u53ef\u4ee5\u8bbf\u95ee\u6211\u4eec\u6258\u7ba1\u7684 [demo GraphQL playground](https://playground.sea-ql.org/seaography) \u3002\\r\\n\\r\\n## \u542f\u52a8 GraphQL \u670d\u52a1\u5668\\r\\n\\r\\n\u60a8\u7684 GraphQL \u670d\u52a1\u5668\u5df2\u51c6\u5907\u597d\u542f\u52a8\uff01\u8fdb\u5165 Rust \u9879\u76ee\u6839\u76ee\u5f55\uff0c\u7136\u540e\u6267\u884c `cargo run` \u542f\u52a8\u5b83\u3002\\r\\n\\r\\n```shell\\r\\n$ cargo run\\r\\n\\r\\nPlayground: http://localhost:8000\\r\\n```\\r\\n\\r\\n\u8bbf\u95ee GraphQL playground [http://localhost:8000](http://localhost:8000)\\r\\n\\r\\n![GraphQL Playground](https://www.sea-ql.org/Seaography/img/playground_example_database.png)\\r\\n\\r\\n## \u901a\u8fc7 GraphQL \u67e5\u8be2\u6570\u636e\\r\\n\\r\\n\u5047\u8bbe\u6211\u4eec\u60f3\u83b7\u53d6\u5728 2006 \u5e74\u6216\u4e4b\u540e\u4e0a\u6620\u7684\u524d 3 \u90e8\u5f71\u7247\uff0c\u5e76\u6309\u6807\u9898\u5347\u5e8f\u6392\u5217\u3002\\r\\n\\r\\n```graphql\\r\\n{\\r\\n  film(\\r\\n    pagination: { limit: 3, page: 0 }\\r\\n    filters: { releaseYear: { gte: \\"2006\\" } }\\r\\n    orderBy: { title: ASC }\\r\\n  ) {\\r\\n    data {\\r\\n      filmId\\r\\n      title\\r\\n      description\\r\\n      releaseYear\\r\\n      filmActor {\\r\\n        actor {\\r\\n          actorId\\r\\n          firstName\\r\\n          lastName\\r\\n        }\\r\\n      }\\r\\n    }\\r\\n    pages\\r\\n    current\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n\u5728\u6267\u884c GraphQL \u67e5\u8be2\u540e\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4ee5\u4e0b JSON \u7ed3\u679c\u3002\\r\\n\\r\\n```json\\r\\n{\\r\\n  \\"data\\": {\\r\\n    \\"film\\": {\\r\\n      \\"data\\": [\\r\\n        {\\r\\n          \\"filmId\\": 1,\\r\\n          \\"title\\": \\"ACADEMY DINOSAUR\\",\\r\\n          \\"description\\": \\"\u4e00\u4f4d\u5973\u6743\u4e3b\u4e49\u8005\u548c\u4e00\u4f4d\u75af\u72c2\u79d1\u5b66\u5bb6\u5728\u52a0\u62ff\u5927\u843d\u57fa\u5c71\u8109\u4e0e\u8001\u5e08\u6218\u6597\u7684\u53f2\u8bd7\u5267\\",\\r\\n          \\"releaseYear\\": \\"2006\\",\\r\\n          \\"filmActor\\": [\\r\\n            {\\r\\n              \\"actor\\": {\\r\\n                \\"actorId\\": 1,\\r\\n                \\"firstName\\": \\"PENELOPE\\",\\r\\n                \\"lastName\\": \\"GUINESS\\"\\r\\n              }\\r\\n            },\\r\\n            {\\r\\n              \\"actor\\": {\\r\\n                \\"actorId\\": 10,\\r\\n                \\"firstName\\": \\"CHRISTIAN\\",\\r\\n                \\"lastName\\": \\"GABLE\\"\\r\\n              }\\r\\n            },\\r\\n            // ...\\r\\n          ]\\r\\n        },\\r\\n        {\\r\\n          \\"filmId\\": 2,\\r\\n          \\"title\\": \\"ACE GOLDFINGER\\",\\r\\n          \\"description\\": \\"\u4e00\u4f4d\u6570\u636e\u5e93\u7ba1\u7406\u5458\u548c\u4e00\u4f4d\u63a2\u9669\u5bb6\u5728\u53e4\u4e2d\u56fd\u5bfb\u627e\u4e00\u8f86\u8f66\u7684\u60ca\u4eba\u4fe1\u4ef6\\",\\r\\n          \\"releaseYear\\": \\"2006\\",\\r\\n          \\"filmActor\\": [\\r\\n            // ...\\r\\n          ]\\r\\n        },\\r\\n        // ...\\r\\n      ],\\r\\n      \\"pages\\": 334,\\r\\n      \\"current\\": 0\\r\\n    }\\r\\n  }\\r\\n}\\r\\n```\\r\\n\\r\\n\u5728\u540e\u53f0\uff0c\u67e5\u8be2\u4e86\u4ee5\u4e0b SQL\uff1a\\r\\n\\r\\n```sql\\r\\nSELECT \\"film\\".\\"film_id\\",\\r\\n       \\"film\\".\\"title\\",\\r\\n       \\"film\\".\\"description\\",\\r\\n       \\"film\\".\\"release_year\\",\\r\\n       \\"film\\".\\"language_id\\",\\r\\n       \\"film\\".\\"original_language_id\\",\\r\\n       \\"film\\".\\"rental_duration\\",\\r\\n       \\"film\\".\\"rental_rate\\",\\r\\n       \\"film\\".\\"length\\",\\r\\n       \\"film\\".\\"replacement_cost\\",\\r\\n       \\"film\\".\\"rating\\",\\r\\n       \\"film\\".\\"special_features\\",\\r\\n       \\"film\\".\\"last_update\\"\\r\\nFROM \\"film\\"\\r\\nWHERE \\"film\\".\\"release_year\\" >= \'2006\'\\r\\nORDER BY \\"film\\".\\"title\\" ASC\\r\\nLIMIT 3 OFFSET 0\\r\\n\\r\\nSELECT \\"film_actor\\".\\"actor_id\\", \\"film_actor\\".\\"film_id\\", \\"film_actor\\".\\"last_update\\"\\r\\nFROM \\"film_actor\\"\\r\\nWHERE \\"film_actor\\".\\"film_id\\" IN (1, 3, 2)\\r\\n\\r\\nSELECT \\"actor\\".\\"actor_id\\", \\"actor\\".\\"first_name\\", \\"actor\\".\\"last_name\\", \\"actor\\".\\"last_update\\"\\r\\nFROM \\"actor\\"\\r\\nWHERE \\"actor\\".\\"actor_id\\" IN (24, 162, 20, 160, 1, 188, 123, 30, 53, 40, 2, 64, 85, 198, 10, 19, 108, 90)\\r\\n```\\r\\n\\r\\n\u5728\u80cc\u540e\uff0cSeaography \u4f7f\u7528 [async_graphql::dataloader](https://docs.rs/async-graphql/latest/async_graphql/dataloader/index.html) \u5728\u67e5\u8be2\u5d4c\u5957\u5bf9\u8c61\u65f6\u89e3\u51b3 N+1 \u95ee\u9898\u3002\\r\\n\\r\\n\u60f3\u8981\u4e86\u89e3\u66f4\u591a\uff0c\u67e5\u770b [Seaography \u6587\u6863](https://www.sea-ql.org/Seaography/docs/data-loader/) \u3002\\r\\n\\r\\n## \u7ed3\u8bba\\r\\n\\r\\nSeaography \u662f\u4e00\u4e2a\u4eba\u6027\u5316\u7684\u5e93\uff0c\u5c06 SeaORM \u5b9e\u4f53\u8f6c\u6362\u4e3a GraphQL \u8282\u70b9\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u7ec4\u5b9e\u7528\u5de5\u5177\uff0c\u5e76\u7ed3\u5408\u4ee3\u7801\u751f\u6210\u5668\uff0c\u4f7f GraphQL API \u7684\u6784\u5efa\u53d8\u5f97\u8f7b\u800c\u6613\u4e3e\u3002\\r\\n\\r\\n\u7136\u800c\uff0cSeaography \u4ecd\u7136\u662f\u4e00\u4e2a\u65b0\u751f\u4e8b\u7269\u3002\u548c\u5176\u4ed6\u7531\u70ed\u60c5\u7684 Rust \u5f00\u53d1\u8005\u5f00\u53d1\u7684\u5f00\u6e90\u9879\u76ee\u4e00\u6837\uff0c\u5982\u679c\u60a8\u89c9\u5f97\u8fd9\u4e2a\u6982\u5ff5\u6709\u8da3\uff0c\u60a8\u53ef\u4ee5\u4e3a\u6b64\u505a\u51fa\u8d21\u732e\u3002\u968f\u7740\u5b83\u7684\u52a0\u5165\uff0c\u6211\u4eec\u79bb Rust \u6210\u4e3a\u6570\u636e\u5de5\u7a0b\u6700\u4f73\u5de5\u5177\u7684\u613f\u666f\u53c8\u8fd1\u4e86\u4e00\u6b65\u3002\\r\\n\\r\\n## \u4eba\u5458\\r\\n\\r\\nSeaography \u7531\u4ee5\u4e0b\u4eba\u5458\u521b\u5efa\uff1a\\r\\n\\r\\n<div className=\\"container\\">\\r\\n    <div className=\\"row\\">\\r\\n        <div className=\\"col col--12 margin-bottom--md\\">\\r\\n            <div className=\\"avatar\\">\\r\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/karatakis\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/7329022?v=4\\" />\\r\\n                </a>\\r\\n                <div className=\\"avatar__intro\\">\\r\\n                    <div className=\\"avatar__name\\">\\r\\n                        Panagiotis Karatakis\\r\\n                    </div>\\r\\n                    \u5b9e\u4e60\u751f\uff1bSeaography \u7684\u5f00\u53d1\u8005\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div className=\\"col col--12 margin-bottom--md\\">\\r\\n            <div className=\\"avatar\\">\\r\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n                </a>\\r\\n                <div className=\\"avatar__intro\\">\\r\\n                    <div className=\\"avatar__name\\">\\r\\n                        Chris Tsang\\r\\n                    </div>\\r\\n                    \u5b9e\u4e60\u5bfc\u5e08\uff1bSeaQL \u7684\u9996\u5e2d\u5f00\u53d1\u8005\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div className=\\"col col--12 margin-bottom--md\\">\\r\\n            <div className=\\"avatar\\">\\r\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n                </a>\\r\\n                <div className=\\"avatar__intro\\">\\r\\n                    <div className=\\"avatar__name\\">\\r\\n                        Billy Chan\\r\\n                    </div>\\r\\n                    \u5b9e\u4e60\u5bfc\u5e08\uff1bSeaQL \u6838\u5fc3\u6210\u5458\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>"},{"id":"2022-09-17-introducing-seaography","metadata":{"permalink":"/blog/2022-09-17-introducing-seaography","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-09-17-introducing-seaography.md","source":"@site/blog/2022-09-17-introducing-seaography.md","title":"\u4ecb\u7ecd Seaography \ud83e\udded","description":"\u591a\u4e48\u4e30\u7855\u7684\u7f16\u7a0b\u590f\u5b63\uff01\u4eca\u5929\uff0c\u6211\u4eec\u5f88\u9ad8\u5174\u5411 SeaQL \u793e\u533a\u4ecb\u7ecd Seaography\u3002Seaography \u662f\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa GraphQL \u89e3\u6790\u5668\u7684 GraphQL \u6846\u67b6\uff0c\u4f7f\u7528 SeaORM\u3002\u5b83\u914d\u5907\u4e86\u4e00\u79cd CLI \u5de5\u5177\uff0c\u53ef\u4ee5\u6839\u636e\u73b0\u6709\u7684 MySQL\u3001Postgres \u548c SQLite \u6570\u636e\u5e93\u751f\u6210\u5373\u523b\u53ef\u7f16\u8bd1\u7684 Rust \u9879\u76ee\u3002","date":"2022-09-17T00:00:00.000Z","formattedDate":"September 17, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":5.175,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-09-17-introducing-seaography","title":"\u4ecb\u7ecd Seaography \ud83e\udded","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"\u5f00\u59cb\u4f7f\u7528 Seaography","permalink":"/blog/2022-09-27-getting-started-with-seaography"},"nextItem":{"title":"\u5e86\u795d\u8d85\u8fc7 3,000 \u4e2a GitHub Stars \ud83c\udf89","permalink":"/blog/2022-08-12-3k-github-stars"}},"content":"\u591a\u4e48\u4e30\u7855\u7684\u7f16\u7a0b\u590f\u5b63\uff01\u4eca\u5929\uff0c\u6211\u4eec\u5f88\u9ad8\u5174\u5411 SeaQL \u793e\u533a\u4ecb\u7ecd [Seaography](https://github.com/SeaQL/seaography)\u3002Seaography \u662f\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa GraphQL \u89e3\u6790\u5668\u7684 GraphQL \u6846\u67b6\uff0c\u4f7f\u7528 [SeaORM](https://github.com/SeaQL/sea-orm)\u3002\u5b83\u914d\u5907\u4e86\u4e00\u79cd CLI \u5de5\u5177\uff0c\u53ef\u4ee5\u6839\u636e\u73b0\u6709\u7684 MySQL\u3001Postgres \u548c SQLite \u6570\u636e\u5e93\u751f\u6210\u5373\u523b\u53ef\u7f16\u8bd1\u7684 Rust \u9879\u76ee\u3002\\r\\n\\r\\n## \u52a8\u673a\\r\\n\\r\\n\u6211\u4eec\u89c2\u5bdf\u5230\u5176\u4ed6\u751f\u6001\u7cfb\u7edf\u6709\u7c7b\u4f3c\u7684\u5de5\u5177\uff0c\u5982 PostGraphile \u548c Hasura\uff0c\u5141\u8bb8\u7528\u6237\u901a\u8fc7 GraphQL \u8f7b\u677e\u67e5\u8be2\u6570\u636e\u5e93\u3002\u6211\u4eec\u51b3\u5b9a\u5c06\u8fd9\u79cd\u65e0\u7f1d\u4f53\u9a8c\u5e26\u5165 Rust \u751f\u6001\u7cfb\u7edf\u3002\\r\\n\\r\\n\u5bf9\u4e8e\u73b0\u6709\u7684 SeaORM \u7528\u6237\u800c\u8a00\uff0c\u6dfb\u52a0 GraphQL API \u662f\u975e\u5e38\u7b80\u5355\u7684\u3002\u9996\u5148\uff0c\u5728\u60a8\u7684 crate \u4e2d\u6dfb\u52a0 `seaography` \u548c `async-graphql` \u4f9d\u8d56\u9879\u3002\u7136\u540e\uff0c\u5c06\u4e00\u4e9b\u989d\u5916\u7684\u884d\u751f\u5b8f\u6dfb\u52a0\u5230 SeaORM \u5b9e\u4f53\u4e2d\u3002\u6700\u540e\uff0c\u542f\u52a8\u4e00\u4e2a GraphQL \u670d\u52a1\u5668\u6765\u5904\u7406\u67e5\u8be2\uff01\\r\\n\\r\\n\u5982\u679c\u60a8\u662f SeaORM \u7684\u65b0\u624b\uff0c\u6ca1\u95ee\u9898\uff0c\u6211\u4eec\u4f1a\u652f\u6301\u60a8\u3002\u60a8\u53ea\u9700\u63d0\u4f9b\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u7136\u540e `seaography-cli` \u5c06\u6839\u636e\u63d0\u4f9b\u7684\u6570\u636e\u5e93\u751f\u6210 SeaORM \u5b9e\u4f53\u4ee5\u53ca\u5b8c\u6574\u7684 Rust \u9879\u76ee\uff01\\r\\n\\r\\n## \u8bbe\u8ba1\\r\\n\\r\\n\u5728\u6211\u4eec\u7684 [\u521d\u6b65\u8ba8\u8bba](https://github.com/SeaQL/summer-of-code/discussions/12)\u4e2d\uff0c\u6211\u4eec\u8003\u8651\u4e86\u4e24\u79cd\u65b9\u6cd5\uff1a1\uff09\u9ed1\u7bb1\u67e5\u8be2\u5f15\u64ce 2\uff09\u4ee3\u7801\u751f\u6210\u5668\u3002\u9ed1\u7bb1\u67e5\u8be2\u5f15\u64ce\u7684\u7f3a\u70b9\u662f\u5f88\u96be\u81ea\u5b9a\u4e49\u6216\u6269\u5c55\u5176\u884c\u4e3a\uff0c\u4ece\u800c\u4f7f\u957f\u671f\u5f00\u53d1\u548c\u64cd\u4f5c\u53d8\u5f97\u56f0\u96be\u3002\u6211\u4eec\u9009\u62e9\u4e86\u4ee3\u7801\u751f\u6210\u5668\u7684\u65b9\u6cd5\uff0c\u8ba9\u7528\u6237\u5b8c\u5168\u63a7\u5236\uff0c\u5e76\u4e0e\u591a\u6837\u5316\u7684\u5f02\u6b65 Rust \u751f\u6001\u7cfb\u7edf\u521b\u9020\u65e0\u5c3d\u7684\u53ef\u80fd\u6027\u3002\\r\\n\\r\\n\u8be5\u9879\u76ee\u5206\u4e3a\u4ee5\u4e0b crates\uff1a\\r\\n\\r\\n* [`seaography`](https://github.com/SeaQL/seaography)\uff1a\u5916\u89c2 crate\uff1b\u5bfc\u51fa\u5b8f\u3001\u7ed3\u6784\u548c\u8f85\u52a9\u51fd\u6570\uff0c\u5c06 SeaORM \u5b9e\u4f53\u8f6c\u6362\u4e3a GraphQL \u8282\u70b9\u3002\\r\\n\\r\\n* [`seaography-cli`](https://github.com/SeaQL/seaography/tree/main/cli)\uff1aCLI \u5de5\u5177\uff1b\u6839\u636e\u7528\u6237\u63d0\u4f9b\u7684\u6570\u636e\u5e93\u751f\u6210 SeaORM \u5b9e\u4f53\u4ee5\u53ca\u5b8c\u6574 Rust \u9879\u76ee\u3002\\r\\n\\r\\n* [`seaography-discoverer`](https://github.com/SeaQL/seaography/tree/main/discoverer)\uff1aCLI \u5de5\u5177\u4f7f\u7528\u7684\u8f85\u52a9 crate\uff0c\u7528\u4e8e\u53d1\u73b0\u6570\u636e\u5e93\u6a21\u5f0f\u5e76\u8f6c\u6362\u4e3a\u901a\u7528\u683c\u5f0f\u3002\\r\\n\\r\\n* [`seaography-generator`](https://github.com/SeaQL/seaography/tree/main/generator)\uff1aCLI \u5de5\u5177\u4f7f\u7528\u7684\u8f85\u52a9 crate\uff0c\u7528\u4e8e\u6d88\u8d39\u6570\u636e\u5e93\u6a21\u5f0f\u5e76\u751f\u6210\u5b8c\u6574\u7684 Rust \u9879\u76ee\u3002\\r\\n\\r\\n* [`seaography-derive`](https://github.com/SeaQL/seaography/tree/main/derive)\uff1a\u4e00\u7ec4\u8fc7\u7a0b\u5b8f\uff0c\u7528\u4e8e\u5728 SeaORM \u5b9e\u4f53\u4e0a\u6d3e\u751f\u7c7b\u578b\u548c\u7279\u5f81\u5b9e\u73b0\uff0c\u5c06\u5b83\u4eec\u8f6c\u6362\u4e3a GraphQL \u8282\u70b9\u3002\\r\\n\\r\\n## \u7279\u6027\\r\\n\\r\\n* \u5173\u7cfb\u67e5\u8be2\uff081 \u5bf9 1\uff0c1 \u5bf9 N\uff09\\r\\n* \u67e5\u8be2\u6839\u5b9e\u4f53\u7684\u5206\u9875\\r\\n* \u4f7f\u7528\u8fd0\u7b97\u7b26\u8fc7\u6ee4\uff08\u4f8b\u5982 gt\u3001lt\u3001eq\uff09\\r\\n* \u6309\u4efb\u610f\u5217\u6392\u5e8f\\r\\n\\r\\n## \u5f00\u59cb\u4f7f\u7528\\r\\n\\r\\n\u8981\u5feb\u901f\u5f00\u59cb\uff0c\u6211\u4eec\u4e3a\u60a8\u51c6\u5907\u4e86\u4ee5\u4e0b\u793a\u4f8b\uff0c\u4ee5\u53ca\u521d\u59cb\u5316\u6570\u636e\u5e93\u7684 SQL \u811a\u672c\u3002\\r\\n\\r\\n* [MySQL](https://github.com/SeaQL/seaography/tree/main/examples/mysql)\\r\\n* [PostgreSQL](https://github.com/SeaQL/seaography/tree/main/examples/postgres)\\r\\n* [SQLite](https://github.com/SeaQL/seaography/tree/main/examples/sqlite)\\r\\n\\r\\n\u6240\u6709\u793a\u4f8b\u5728\u8fd0\u884c\u65f6\u90fd\u63d0\u4f9b\u4e86\u57fa\u4e8e web \u7684 GraphQL \u6e38\u4e50\u573a\uff0c\u60a8\u53ef\u4ee5\u5728\u5176\u4e2d\u68c0\u67e5 GraphQL \u6a21\u5f0f\u5e76\u8fdb\u884c\u67e5\u8be2\u3002\u5982\u679c\u60a8\u8feb\u4e0d\u53ca\u5f85\u60f3\u8981\u73a9\uff0c\u53ef\u4ee5\u8bbf\u95ee\u6211\u4eec\u6258\u7ba1\u7684 [\u6f14\u793a GraphQL \u6e38\u4e50\u573a](https://playground.sea-ql.org/seaography)\u3002\\r\\n\\r\\n\u6709\u5173\u66f4\u591a\u6587\u6863\uff0c\u8bf7\u8bbf\u95ee [www.sea-ql.org/Seaography](https://www.sea-ql.org/Seaography/)\u3002\\r\\n\\r\\n## \u4e0b\u4e00\u6b65\uff1f\\r\\n\\r\\n\u8be5\u9879\u76ee\u901a\u8fc7\u4e86\u7b2c\u4e00\u4e2a\u91cc\u7a0b\u7891\uff0c\u5b9e\u73b0\u4e86\u57fa\u672c\u529f\u80fd\uff0c\u4f46\u4ecd\u7136\u6709\u5f88\u957f\u7684\u8def\u8981\u8d70\u3002\u4e0b\u4e00\u4e2a\u91cc\u7a0b\u7891\u5c06\u5305\u62ec\uff1a\\r\\n\\r\\n* \u67e5\u8be2\u589e\u5f3a\\r\\n  * \u8fc7\u6ee4\u76f8\u5173\u67e5\u8be2\\r\\n  * \u57fa\u4e8e\u76f8\u5173\u67e5\u8be2\u5c5e\u6027\u7684\u8fc7\u6ee4\\r\\n  * \u5206\u9875\u76f8\u5173\u67e5\u8be2\\r\\n  * \u6309\u76f8\u5173\u67e5\u8be2\u6392\u5e8f\\r\\n* \u57fa\u4e8e\u6e38\u6807\u7684\u5206\u9875\\r\\n* \u5355\u5b9e\u4f53\u67e5\u8be2\\r\\n* \u53d8\u66f4\u64cd\u4f5c\\r\\n  * \u63d2\u5165\u5355\u4e2a\u5b9e\u4f53\\r\\n  * \u6279\u91cf\u63d2\u5165\u5b9e\u4f53\\r\\n  * \u66f4\u65b0\u5355\u4e2a\u5b9e\u4f53\\r\\n  * \u4f7f\u7528\u8fc7\u6ee4\u5668\u66f4\u65b0\u6279\u91cf\u5b9e\u4f53\\r\\n  * \u5220\u9664\u5355\u4e2a\u5b9e\u4f53\\r\\n  * \u6279\u91cf\u5220\u9664\u5b9e\u4f53\\r\\n\\r\\n## \u7ed3\u8bba\\r\\n\\r\\nSeaography \u662f\u4e00\u4e2a\u5c06 SeaORM \u5b9e\u4f53\u8f6c\u6362\u4e3a GraphQL \u8282\u70b9\u7684\u9ad8\u6548\u5e93\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u5957\u5b9e\u7528\u5de5\u5177\uff0c\u5e76\u7ed3\u5408\u4ee3\u7801\u751f\u6210\u5668\uff0c\u4f7f GraphQL API \u7684\u6784\u5efa\u53d8\u5f97\u8f7b\u800c\u6613\u4e3e\u3002\\r\\n\\r\\n\u7136\u800c\uff0cSeaography \u4ecd\u7136\u662f\u4e00\u4e2a\u65b0\u751f\u9879\u76ee\u3002\u50cf\u6240\u6709\u7531\u70ed\u60c5\u7684 Rust \u5f00\u53d1\u8005\u5f00\u53d1\u7684\u5f00\u6e90\u9879\u76ee\u4e00\u6837\uff0c\u5982\u679c\u60a8\u4e5f\u5bf9\u8fd9\u4e2a\u6982\u5ff5\u611f\u5174\u8da3\uff0c\u6b22\u8fce\u60a8\u4e3a\u5176\u8d21\u732e\u3002\u968f\u7740\u5b83\u52a0\u5165 SeaQL \u751f\u6001\u7cfb\u7edf\uff0c\u6211\u4eec\u79bb Rust \u6210\u4e3a\u6570\u636e\u5de5\u7a0b\u6700\u4f73\u5de5\u5177\u7684\u613f\u666f\u53c8\u8fd1\u4e86\u4e00\u6b65\u3002\\r\\n\\r\\n## \u4eba\u5458\\r\\n\\r\\nSeaography \u7684\u521b\u5efa\u8005\uff1a\\r\\n\\r\\n<div className=\\"container\\">\\r\\n    <div className=\\"row\\">\\r\\n        <div className=\\"col col--12 margin-bottom--md\\">\\r\\n            <div className=\\"avatar\\">\\r\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/karatakis\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/7329022?v=4\\" />\\r\\n                </a>\\r\\n                <div className=\\"avatar__intro\\">\\r\\n                    <div className=\\"avatar__name\\">\\r\\n                        Panagiotis Karatakis\\r\\n                    </div>\\r\\n                    \u590f\u5b63\u7f16\u7a0b\u8d21\u732e\u8005\uff1bSeaography \u5f00\u53d1\u8005\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div className=\\"col col--12 margin-bottom--md\\">\\r\\n            <div className=\\"avatar\\">\\r\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n                </a>\\r\\n                <div className=\\"avatar__intro\\">\\r\\n                    <div className=\\"avatar__name\\">\\r\\n                        Chris Tsang\\r\\n                    </div>\\r\\n                    \u590f\u5b63\u7f16\u7a0b\u5bfc\u5e08\uff1bSeaQL \u4e3b\u8981\u5f00\u53d1\u8005\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div className=\\"col col--12 margin-bottom--md\\">\\r\\n            <div className=\\"avatar\\">\\r\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n                </a>\\r\\n                <div className=\\"avatar__intro\\">\\r\\n                    <div className=\\"avatar__name\\">\\r\\n                        Billy Chan\\r\\n                    </div>\\r\\n                    \u590f\u5b63\u7f16\u7a0b\u5bfc\u5e08\uff1bSeaQL \u6838\u5fc3\u6210\u5458\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>"},{"id":"2022-08-12-3k-github-stars","metadata":{"permalink":"/blog/2022-08-12-3k-github-stars","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-08-12-3k-github-stars.md","source":"@site/blog/2022-08-12-3k-github-stars.md","title":"\u5e86\u795d\u8d85\u8fc7 3,000 \u4e2a GitHub Stars \ud83c\udf89","description":"\u6211\u4eec\u5e86\u795d\u5728\u6240\u6709 SeaQL \u4ed3\u5e93\u4e2d\u8fbe\u5230 3,000 \u4e2a GitHub stars \u7684\u91cc\u7a0b\u7891\uff01","date":"2022-08-12T00:00:00.000Z","formattedDate":"August 12, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":6.965,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-08-12-3k-github-stars","title":"\u5e86\u795d\u8d85\u8fc7 3,000 \u4e2a GitHub Stars \ud83c\udf89","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"\u4ecb\u7ecd Seaography \ud83e\udded","permalink":"/blog/2022-09-17-introducing-seaography"},"nextItem":{"title":"SeaQuery 0.26.0 \u4e2d\u7684\u65b0\u529f\u80fd","permalink":"/blog/2022-08-05-whats-new-in-seaquery-0.26.0"}},"content":"\u6211\u4eec\u5e86\u795d\u5728\u6240\u6709 SeaQL \u4ed3\u5e93\u4e2d\u8fbe\u5230 3,000 \u4e2a GitHub stars \u7684\u91cc\u7a0b\u7891\uff01\\r\\n\\r\\n\u8fd9\u4e00\u5207\u90fd\u79bb\u4e0d\u5f00\u4f60\u4eec\u7684\u652f\u6301\u548c\u8d21\u732e\uff0c\u6240\u4ee5\u6211\u4eec\u60f3\u8981\u611f\u8c22\u793e\u533a\u4e00\u8def\u4ee5\u6765\u7684\u966a\u4f34\u3002\\r\\n\\r\\n## \u65c5\u7a0b\\r\\n\\r\\nSeaQL.org \u6210\u7acb\u4e8e 2020 \u5e74\u3002\u6211\u4eec\u81f4\u529b\u4e8e\u5f00\u53d1\u5e2e\u52a9 Rust \u5f00\u53d1\u4eba\u5458\u6784\u5efa\u6570\u636e\u5bc6\u96c6\u578b\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u6e90\u5e93\u3002\u5728\u8fc7\u53bb\u7684\u4e24\u5e74\u4e2d\uff0c\u6211\u4eec\u53d1\u5e03\u5e76\u7ef4\u62a4\u4e86\u56db\u4e2a\u5f00\u6e90\u5e93\uff1a[SeaQuery](https://github.com/SeaQL/sea-query)\u3001[SeaSchema](https://github.com/SeaQL/sea-schema)\u3001[SeaORM](https://github.com/SeaQL/sea-orm) \u548c [StarfishQL](https://github.com/SeaQL/starfish-ql)\u3002\u6bcf\u4e2a\u5e93\u90fd\u65e8\u5728\u586b\u8865 Rust \u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u7ec6\u5206\u5e02\u573a\uff0c\u5e76\u4e0e\u5176\u4ed6 Rust \u5e93\u826f\u597d\u914d\u5408\u3002\\r\\n\\r\\n### 2020\\r\\n\\r\\n- 2020 \u5e74 10 \u6708\uff1a**SeaQL \u6210\u7acb**\\r\\n- 2020 \u5e74 12 \u6708\uff1a**SeaQuery \u9996\u6b21\u53d1\u5e03**\\r\\n\\r\\n### 2021\\r\\n\\r\\n- 2021 \u5e74 4 \u6708\uff1a**SeaSchema \u9996\u6b21\u53d1\u5e03**\\r\\n- 2021 \u5e74 8 \u6708\uff1a**SeaORM \u9996\u6b21\u53d1\u5e03**\\r\\n- 2021 \u5e74 11 \u6708\uff1aSeaORM \u8fbe\u5230 0.4.0\\r\\n- 2021 \u5e74 12 \u6708\uff1aSeaQuery \u8fbe\u5230 0.20.0\\r\\n- 2021 \u5e74 12 \u6708\uff1aSeaSchema \u8fbe\u5230 0.4.0\\r\\n\\r\\n### 2022\\r\\n\\r\\n- 2022 \u5e74 4 \u6708\uff1aSeaQL \u88ab\u9009\u4e3a Google Summer of Code 2022 [\u5bfc\u5e08\u7ec4\u7ec7](https://summerofcode.withgoogle.com/programs/2022/organizations/seaql)\\r\\n- 2022 \u5e74 4 \u6708\uff1a**StarfishQL \u9996\u6b21\u53d1\u5e03**\\r\\n- 2022 \u5e74 7 \u6708\uff1aSeaQuery \u8fbe\u5230 0.26.2\\r\\n- 2022 \u5e74 7 \u6708\uff1aSeaSchema \u8fbe\u5230 0.9.3\\r\\n- 2022 \u5e74 7 \u6708\uff1aSeaORM \u8fbe\u5230 0.9.1\\r\\n- 2022 \u5e74 8 \u6708\uff1a**SeaQL \u8fbe\u5230 3,000+ GitHub stars**\\r\\n\\r\\n## \u6211\u4eec\u73b0\u5728\u5728\u4f55\u5904\uff1f\\r\\n\\r\\n\u6211\u4eec\u5bf9 Rust \u793e\u533a\u7684\u63a5\u53d7\u5ea6\u611f\u5230\u6b23\u6170\u3002\u6ca1\u6709\u4f60\u4eec\u7684\u53cd\u9988\u548c\u8d21\u732e\uff0c\u6211\u4eec\u65e0\u6cd5\u8d70\u5230\u4eca\u5929\u3002\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\r\\n        <div class=\\"row row--no-gutters\\">\\r\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\r\\n                4 \ud83d\udce6\\r\\n            </div>\\r\\n            <div class=\\"col col--12\\">\\r\\n                \u5f00\u6e90\u9879\u76ee\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\r\\n        <div class=\\"row row--no-gutters\\">\\r\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\r\\n                5 \ud83c\udfec\\r\\n            </div>\\r\\n            <div class=\\"col col--12\\">\\r\\n                \u4f7f\u7528 SeaQL \u7684\u521d\u521b\u516c\u53f8\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\r\\n        <div class=\\"row row--no-gutters\\">\\r\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\r\\n                1,972 \ud83c\udf88\\r\\n            </div>\\r\\n            <div class=\\"col col--12\\">\\r\\n                \u4f9d\u8d56\u9879\u76ee\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\r\\n        <div class=\\"row row--no-gutters\\">\\r\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\r\\n                131 \ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66\\r\\n            </div>\\r\\n            <div class=\\"col col--12\\">\\r\\n                \u8d21\u732e\u8005\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\r\\n        <div class=\\"row row--no-gutters\\">\\r\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\r\\n                1,061 \u2705\\r\\n            </div>\\r\\n            <div class=\\"col col--12\\">\\r\\n                \u5408\u5e76\u7684 PR \u548c\u89e3\u51b3\u7684\u95ee\u9898\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\r\\n        <div class=\\"row row--no-gutters\\">\\r\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\r\\n                3,158 \u2b50\\r\\n            </div>\\r\\n            <div class=\\"col col--12\\">\\r\\n                GitHub stars\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\r\\n        <div class=\\"row row--no-gutters\\">\\r\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\r\\n                432 \ud83d\udde3\ufe0f\\r\\n            </div>\\r\\n            <div class=\\"col col--12\\">\\r\\n                Discord \u6210\u5458\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\r\\n        <div class=\\"row row--no-gutters\\">\\r\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\r\\n                87,937 \u2328\ufe0f\\r\\n            </div>\\r\\n            <div class=\\"col col--12\\">\\r\\n                Rust \u884c\u6570\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\r\\n        <div class=\\"row row--no-gutters\\">\\r\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\r\\n                667,769 \ud83d\udcbf\\r\\n            </div>\\r\\n            <div class=\\"col col--12\\">\\r\\n                \u5728 crates.io \u7684\u4e0b\u8f7d\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div style={{textAlign: \'right\'}}>\\r\\n    <p></p>\\r\\n    <p><small>* \u622a\u81f3 8 \u6708 12 \u65e5</small></p>\\r\\n</div>\\r\\n\\r\\n## \u6838\u5fc3\u6210\u5458\\r\\n\\r\\n\u6211\u4eec\u7684\u56e2\u961f\u4ece\u6700\u521d\u7684\u4e24\u4eba\u53d1\u5c55\u5230\u73b0\u5728\u7684\u56db\u4eba\u3002\u6211\u4eec\u59cb\u7ec8\u6b22\u8fce\u70ed\u60c5\u7684\u5de5\u7a0b\u5e08\u52a0\u5165\u6211\u4eec\uff01\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Chris Tsang\\r\\n                </div>\\r\\n                \u521b\u59cb\u4eba\u3002\u8d1f\u8d23\u521d\u59cb\u5f00\u53d1\u548c\u7ef4\u62a4\u9879\u76ee\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n                \u521b\u59cb\u6210\u5458\u3002\u8d21\u732e\u4e86\u8bb8\u591a\u529f\u80fd\u548c\u9519\u8bef\u4fee\u590d\u3002\u4fdd\u6301\u793e\u533a\u6d3b\u8dc3\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ikrivosheev\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/6786239?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Ivan Krivosheev\\r\\n                </div>\\r\\n                2022 \u5e74\u52a0\u5165\u3002\u8d21\u732e\u4e86\u8bb8\u591a\u529f\u80fd\u548c\u9519\u8bef\u4fee\u590d\uff0c\u7279\u522b\u662f SeaQuery\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shpun817\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/47468266?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sanford Pun\\r\\n                </div>\\r\\n                \u5f00\u53d1\u4e86 StarfishQL \u5e76\u7f16\u5199\u4e86 SeaORM \u7684\u6559\u7a0b\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u7279\u522b\u611f\u8c22\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marco Napetti\\r\\n                </div>\\r\\n                \u5411 SeaORM \u8d21\u732e\u4e86\u4e8b\u52a1\u3001\u6d41\u548c\u8ddf\u8e2a API\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nitnelave\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/796633?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    nitnelave\\r\\n                </div>\\r\\n                \u5411 SeaQuery \u8d21\u732e\u4e86 binder crate \u548c\u5176\u4ed6\u6539\u8fdb\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/samsamai\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/3764355?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sam Samai\\r\\n                </div>\\r\\n                \u5f00\u53d1\u4e86 SeaORM \u7684\u6d4b\u8bd5\u5957\u4ef6\u548c\u6f14\u793a\u6a21\u5f0f\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/scrblue\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1524936?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Daniel Lyne\\r\\n                </div>\\r\\n                \u5f00\u53d1\u4e86 SeaSchema \u7684 Postgres \u5b9e\u73b0\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/charleschege\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/33346042?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Charles Chege\\r\\n                </div>\\r\\n                \u5f00\u53d1\u4e86 SeaSchema \u7684 SQLite \u5b9e\u73b0\u3002\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u8d5e\u52a9\u5546\\r\\n\\r\\n\u5982\u679c\u4f60\u613f\u610f\u6177\u6168\u89e3\u56ca\uff0c\u5c11\u91cf\u7684 [\u6350\u8d60](https://github.com/sponsors/SeaQL) \u5c06\u4e0d\u80dc\u611f\u6fc0\u3002\\r\\n\\r\\n\u7279\u522b\u611f\u8c22\u6211\u4eec\u7684\u8d5e\u52a9\u5546 \ud83d\ude07\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Dean Sheather\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sakti Dwi Cahyono\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u672a\u547d\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u672a\u547d\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u8d21\u732e\u8005\\r\\n\\r\\n\u8bb8\u591a\u529f\u80fd\u548c\u589e\u5f3a\u5b9e\u9645\u4e0a\u662f\u7531\u793e\u533a\u63d0\u8bae\u548c\u5b9e\u65bd\u7684\u3002\u6211\u4eec\u60f3\u501f\u6b64\u673a\u4f1a\u611f\u8c22\u6240\u6709\u8d21\u732e\u8005\uff01\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12\\">\\r\\n        <a alt=\\"SeaORM Contributors\\" href=\\"https://github.com/SeaQL/sea-orm/graphs/contributors\\">\\r\\n            <img src=\\"https://opencollective.com/sea-orm/contributors.svg?width=1000&button=false\\" />\\r\\n        </a>\\r\\n    </div>\\r\\n    <div class=\\"col col--12\\">\\r\\n        <a alt=\\"SeaQuery Contributors\\" href=\\"https://github.com/SeaQL/sea-query/graphs/contributors\\">\\r\\n            <img src=\\"https://opencollective.com/sea-query/contributors.svg?width=1000&button=false\\" />\\r\\n        </a>\\r\\n    </div>\\r\\n    <div class=\\"col col--12\\">\\r\\n        <a alt=\\"SeaSchema Contributors\\" href=\\"https://github.com/SeaQL/sea-schema/graphs/contributors\\">\\r\\n            <img src=\\"https://opencollective.com/sea-schema/contributors.svg?width=1000&button=false\\" />\\r\\n        </a>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u4e0b\u4e00\u6b65\u662f\u4ec0\u4e48\uff1f\\r\\n\\r\\n\u6211\u4eec\u6709\u4e24\u4e2a\u6b63\u5728\u8fdb\u884c\u7684 [Summer of Code 2022 \u9879\u76ee](https://www.sea-ql.org/blog/2022-06-02-summer-of-code-2022-intro/)\uff0c\u65e8\u5728\u4e30\u5bcc SeaQL \u751f\u6001\u7cfb\u7edf\uff0c\u8ba1\u5212\u5728\u4eca\u5e74\u665a\u4e9b\u65f6\u5019\u53d1\u5e03\u3002\u4e0e\u6b64\u540c\u65f6\uff0c\u6211\u4eec\u4e13\u6ce8\u4e8e\u5728\u8fbe\u5230 1.0 \u7248\u672c\u4e4b\u524d\u6539\u5584\u73b0\u6709\u7684 SeaQL \u5e93\uff0c\u6211\u4eec\u5e0c\u671b\u542c\u5230\u793e\u533a\u7684\u8bc4\u8bba\u548c\u53cd\u9988\u3002\\r\\n\\r\\n\u5982\u679c\u4f60\u559c\u6b22\u6211\u4eec\u7684\u5de5\u4f5c\uff0c\u8bf7\u8003\u8651\u70b9\u8d5e\u3001\u8bc4\u8bba\u3001\u5206\u4eab\u3001\u8d21\u732e\uff0c\u4e00\u8d77\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\uff01"},{"id":"2022-08-05-whats-new-in-seaquery-0.26.0","metadata":{"permalink":"/blog/2022-08-05-whats-new-in-seaquery-0.26.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-08-05-whats-new-in-seaquery-0.26.0.md","source":"@site/blog/2022-08-05-whats-new-in-seaquery-0.26.0.md","title":"SeaQuery 0.26.0 \u4e2d\u7684\u65b0\u529f\u80fd","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u53d1\u5e03 SeaQuery 0.26.0! \u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f:","date":"2022-08-05T00:00:00.000Z","formattedDate":"August 5, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":3.235,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Ivan Krivosheev","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-08-05-whats-new-in-seaquery-0.26.0","title":"SeaQuery 0.26.0 \u4e2d\u7684\u65b0\u529f\u80fd","author":"SeaQL \u56e2\u961f","author_title":"Ivan Krivosheev","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"\u5e86\u795d\u8d85\u8fc7 3,000 \u4e2a GitHub Stars \ud83c\udf89","permalink":"/blog/2022-08-12-3k-github-stars"},"nextItem":{"title":"SeaQL.org \u7684\u5de5\u7a0b","permalink":"/blog/2022-07-30-engineering"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u53d1\u5e03 SeaQuery [`0.26.0`](https://github.com/SeaQL/sea-query/releases/tag/0.26.0)! \u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f:\\r\\n\\r\\n## \u4f9d\u8d56\u9879\u5347\u7ea7\\r\\n\\r\\n[[#356](https://github.com/SeaQL/sea-query/issues/356)] \u6211\u4eec\u5347\u7ea7\u4e86\u4e00\u4e9b\u4e3b\u8981\u4f9d\u8d56\u9879\uff1a\\r\\n- \u5c06 [`sqlx`](https://github.com/launchbadge/sqlx) \u5347\u7ea7\u5230 0.6\\r\\n- \u5c06 [`time`](https://github.com/time-rs/time) \u5347\u7ea7\u5230 0.3\\r\\n- \u5c06 [`uuid`](https://github.com/uuid-rs/uuid) \u5347\u7ea7\u5230 1.0\\r\\n- \u5c06 [`bigdecimal`](https://github.com/akubera/bigdecimal-rs) \u5347\u7ea7\u5230 0.3\\r\\n- \u5c06 [`ipnetwork`](https://github.com/achanda/ipnetwork) \u5347\u7ea7\u5230 0.19\\r\\n\\r\\n\u8bf7\u6ce8\u610f\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u5728\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4e5f\u5347\u7ea7\u76f8\u5e94\u7684\u4f9d\u8d56\u9879\u3002\\r\\n\\r\\n## VALUES \u5217\u8868\\r\\n\\r\\n[[#351](https://github.com/SeaQL/sea-query/issues/350)] \u6dfb\u52a0\u5bf9 VALUES \u5217\u8868\u7684\u652f\u6301\\r\\n\\r\\n```rust\\r\\n// SELECT * FROM (VALUES (1, \'hello\'), (2, \'world\')) AS \\"x\\"\\r\\nlet query = SelectStatement::new()\\r\\n    .expr(Expr::asterisk())\\r\\n    .from_values(vec![(1i32, \\"hello\\"), (2, \\"world\\")], Alias::new(\\"x\\"))\\r\\n    .to_owned();\\r\\n\\r\\n assert_eq!(\\r\\n     query.to_string(PostgresQueryBuilder), \\r\\n     r#\\"SELECT * FROM (VALUES (1, \'hello\'), (2, \'world\')) AS \\"x\\"\\"#\\r\\n );\\r\\n```\\r\\n\\r\\n## \u5f15\u5165 sea-query-binder\\r\\n\\r\\n[[#273](https://github.com/SeaQL/sea-query/issues/273)] \u5bf9 SQLx \u7684\u539f\u751f\u652f\u6301\uff0c\u65e0\u9700\u5b8f\\r\\n\\r\\n```rust\\r\\nuse sea_query_binder::SqlxBinder;\\r\\n\\r\\n// \u521b\u5efa\u5e26\u6709\u51c6\u5907 SQLx \u7684 SeaQuery \u67e5\u8be2\\r\\nlet (sql, values) = Query::select()\\r\\n    .columns([\\r\\n        Character::Id,\\r\\n        Character::Uuid,\\r\\n        Character::Character,\\r\\n        Character::FontSize,\\r\\n        Character::Meta,\\r\\n        Character::Decimal,\\r\\n        Character::BigDecimal,\\r\\n        Character::Created,\\r\\n        Character::Inet,\\r\\n        Character::MacAddress,\\r\\n    ])\\r\\n    .from(Character::Table)\\r\\n    .order_by(Character::Id, Order::Desc)\\r\\n    .build_sqlx(PostgresQueryBuilder);\\r\\n\\r\\n// \u6267\u884c\u67e5\u8be2\\r\\nlet rows = sqlx::query_as_with::<_, CharacterStructChrono, _>(&sql, values)\\r\\n    .fetch_all(&mut pool)\\r\\n    .await?;\\r\\n\\r\\n// \u6253\u5370\u884c\\r\\nfor row in rows.iter() {\\r\\n    println!(\\"{:?}\\", row);\\r\\n}\\r\\n```\\r\\n\\r\\n## \u652f\u6301 CASE WHEN \u8bed\u53e5\\r\\n\\r\\n[[#304](https://github.com/SeaQL/sea-query/pull/304)] \u6dfb\u52a0\u5bf9 `CASE WHEN` \u8bed\u53e5\u7684\u652f\u6301\\r\\n\\r\\n```rust\\r\\nlet query = Query::select()\\r\\n    .expr_as(\\r\\n        CaseStatement::new()\\r\\n            .case(Expr::tbl(Glyph::Table, Glyph::Aspect).is_in(vec![2, 4]), Expr::val(true))\\r\\n            .finally(Expr::val(false)),\\r\\n        Alias::new(\\"is_even\\")\\r\\n    )\\r\\n    .from(Glyph::Table)\\r\\n    .to_owned();\\r\\n    \\r\\nassert_eq!(\\r\\n    query.to_string(PostgresQueryBuilder),\\r\\n    r#\\"SELECT (CASE WHEN (\\"glyph\\".\\"aspect\\" IN (2, 4)) THEN TRUE ELSE FALSE END) AS \\"is_even\\" FROM \\"glyph\\"\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n## \u6dfb\u52a0\u5bf9 Ip(4,6)Network \u548c MacAddress \u7684\u652f\u6301\\r\\n\\r\\n[[#309](https://github.com/SeaQL/sea-query/pull/309)] \u5728 PostgreSQL \u540e\u7aef\u6dfb\u52a0\u5bf9\u7f51\u7edc\u7c7b\u578b\u7684\u652f\u6301\\r\\n\\r\\n## \u5f15\u5165 sea-query-attr\\r\\n\\r\\n[[#296](https://github.com/SeaQL/sea-query/issues/296)] \u7528\u4e8e\u4ece\u7ed3\u6784\u4f53\u6d3e\u751f Iden \u679a\u4e3e\u7684 Proc-macro\\r\\n\\r\\n```rust\\r\\nuse sea_query::gen_type_def;\\r\\n\\r\\n#[gen_type_def]\\r\\npub struct Hello {\\r\\n    pub name: String\\r\\n}\\r\\n\\r\\nprintln!(\\"{:?}\\", HelloTypeDef::Name);\\r\\n```\\r\\n\\r\\n## \u6dfb\u52a0\u4fee\u6539\u5916\u952e\u7684\u80fd\u529b\\r\\n\\r\\n[[#299](https://github.com/SeaQL/sea-query/pull/299)] \u6dfb\u52a0\u5bf9 `ALTER` \u5916\u952e\u7684\u652f\u6301\\r\\n\\r\\n```rust\\r\\nlet foreign_key_char = TableForeignKey::new()\\r\\n    .name(\\"FK_character_glyph\\")\\r\\n    .from_tbl(Char::Table)\\r\\n    .from_col(Char::FontId)\\r\\n    .from_col(Char::Id)\\r\\n    .to_tbl(Glyph::Table)\\r\\n    .to_col(Char::FontId)\\r\\n    .to_col(Char::Id)\\r\\n    .to_owned();\\r\\n\\r\\nlet table = Table::alter()\\r\\n    .table(Character::Table)\\r\\n    .add_foreign_key(&foreign_key_char)\\r\\n    .to_owned();\\r\\n\\r\\nassert_eq!(\\r\\n    table.to_string(PostgresQueryBuilder),\\r\\n    vec![\\r\\n        r#\\"ALTER TABLE \\"character\\"\\"#,\\r\\n        r#\\"ADD CONSTRAINT \\"FK_character_glyph\\"\\"#,\\r\\n        r#\\"FOREIGN KEY (\\"font_id\\", \\"id\\") REFERENCES \\"glyph\\" (\\"font_id\\", \\"id\\")\\"#,\\r\\n        r#\\"ON DELETE CASCADE ON UPDATE CASCADE,\\"#,\\r\\n    ]\\r\\n    .join(\\" \\")\\r\\n);\\r\\n```\\r\\n\\r\\n## \u9009\u62e9 DISTINCT ON\\r\\n\\r\\n[[#250](https://github.com/SeaQL/sea-query/issues/250)]\\r\\n\\r\\n```rust\\r\\nlet query = Query::select()\\r\\n    .from(Char::Table)\\r\\n    .distinct_on(vec![Char::Character])\\r\\n    .column(Char::Character)\\r\\n    .column(Char::SizeW)\\r\\n    .column(Char::SizeH)\\r\\n    .to_owned();\\r\\n    \\r\\n assert_eq!(\\r\\n     query.to_string(PostgresQueryBuilder),\\r\\n     r#\\"SELECT DISTINCT ON (\\"character\\") \\"character\\", \\"size_w\\", \\"size_h\\" FROM \\"character\\"\\"#\\r\\n );\\r\\n```\\r\\n\\r\\n## \u5176\u4ed6\u589e\u5f3a\u529f\u80fd\\r\\n\\r\\n- [[#353](https://github.com/SeaQL/sea-query/pull/353)] \u652f\u6301 `LIKE ... ESCAPE ...` \u8868\u8fbe\u5f0f  \\r\\n- [[#306](https://github.com/SeaQL/sea-query/pull/306)] \u5c06 `escape` \u548c `unescape` \u5b57\u7b26\u4e32\u79fb\u52a8\u5230\u540e\u7aef\\r\\n- [[#365](https://github.com/SeaQL/sea-query/pull/365)] \u6dfb\u52a0\u4f7f\u5217\u53ef\u4e3a null \u7684\u65b9\u6cd5\\r\\n- [[#348](https://github.com/SeaQL/sea-query/pull/348)] \u5411 Expr \u6dfb\u52a0 `is` \u548c `is_not`\\r\\n- [[#349](https://github.com/SeaQL/sea-query/pull/349)] \u6dfb\u52a0 `CURRENT_TIMESTAMP` \u51fd\u6570\\r\\n- [[#345](https://github.com/SeaQL/sea-query/pull/345)] \u5411 Expr \u6dfb\u52a0 `in_tuple` \u65b9\u6cd5\\r\\n- [[#266](https://github.com/SeaQL/sea-query/pull/266)] \u63d2\u5165\u9ed8\u8ba4\u503c\\r\\n- [[#324](https://github.com/SeaQL/sea-query/pull/324)] \u5c06 `sea-query-driver` \u8bbe\u4e3a\u53ef\u9009\u4f9d\u8d56\\r\\n- [[#334](https://github.com/SeaQL/sea-query/pull/334)] \u6dfb\u52a0 `ABS` \u51fd\u6570\\r\\n- [[#332](https://github.com/SeaQL/sea-query/pull/332)] \u521b\u5efa\u7d22\u5f15\u65f6\u652f\u6301 `IF NOT EXISTS`\\r\\n- [[#314](https://github.com/SeaQL/sea-query/pull/314)] \u652f\u6301 MySQL \u4e2d\u7684\u4e0d\u540c `blob` \u7c7b\u578b\\r\\n- [[#331](https://github.com/SeaQL/sea-query/pull/331)] \u6dfb\u52a0 `VarBinary` \u5217\u7c7b\u578b\\r\\n- [[#335](https://github.com/SeaQL/sea-query/pull/335)] `RETURNING` \u8868\u8fbe\u5f0f\u652f\u6301 `SimpleExpr`\\r\\n\\r\\n## \u96c6\u6210\u793a\u4f8b\\r\\n\\r\\nSeaQuery \u4e0e Rust \u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u5176\u4ed6 crate \u517c\u5bb9\u826f\u597d\u3002 \\r\\n\\r\\n- [Postgres \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/postgres)\\r\\n- [Rusqlite \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/rusqlite)\\r\\n- [SQLx \u4efb\u610f\u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_any)\\r\\n- [SQLx Postgres \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_postgres)\\r\\n- [SQLx MySql \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_mysql)\\r\\n- [SQLx Sqlite \u793a\u4f8b](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_sqlite)\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u4e00\u8d77\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002"},{"id":"2022-07-30-engineering","metadata":{"permalink":"/blog/2022-07-30-engineering","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-07-30-engineering.md","source":"@site/blog/2022-07-30-engineering.md","title":"SeaQL.org \u7684\u5de5\u7a0b","description":"\u5f88\u96be\u786e\u5b9a\u786e\u5207\u7684\u65e5\u671f\uff0c\u4f46\u6211\u8ba4\u4e3a SeaQL.org \u662f\u5728 2020 \u5e74 7 \u6708\u6210\u7acb\u7684\uff0c\u5927\u7ea6\u4e00\u5e74\u591a\u524d\u3002\u5728\u8fc7\u53bb\u7684\u4e00\u5e74\u4e2d\uff0cSeaORM \u4ece 0.1 \u7248\u672c\u53d1\u5c55\u5230\u4e86 0.9 \u7248\u672c\uff0c\u7528\u6237\u6570\u91cf\u6301\u7eed\u589e\u957f\u3002\u5728\u8fd9\u7bc7\u535a\u5ba2\u6587\u7ae0\u4e2d\uff0c\u6211\u60f3\u6982\u8ff0\u6211\u4eec\u7684\u5de5\u7a0b\u6d41\u7a0b\uff0c\u4e5f\u8bb8\u53ef\u4ee5\u4e3a\u6f5c\u5728\u7684\u8d21\u732e\u8005\u548c\u672a\u6765\u7684\u9879\u76ee\u7ef4\u62a4\u8005\u63d0\u4f9b\u53c2\u8003\u6216\u6307\u5bfc\u3002","date":"2022-07-30T00:00:00.000Z","formattedDate":"July 30, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":6.62,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"\u4e3b\u8981\u5f00\u53d1\u8005","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2022-07-30-engineering","title":"SeaQL.org \u7684\u5de5\u7a0b","author":"Chris Tsang","author_title":"\u4e3b\u8981\u5f00\u53d1\u8005","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"prevItem":{"title":"SeaQuery 0.26.0 \u4e2d\u7684\u65b0\u529f\u80fd","permalink":"/blog/2022-08-05-whats-new-in-seaquery-0.26.0"},"nextItem":{"title":"whats-new-in-0.9.0","permalink":"/blog/2022/07/17/whats-new-in-0.9.0"}},"content":"\u5f88\u96be\u786e\u5b9a\u786e\u5207\u7684\u65e5\u671f\uff0c\u4f46\u6211\u8ba4\u4e3a SeaQL.org \u662f\u5728 2020 \u5e74 7 \u6708\u6210\u7acb\u7684\uff0c\u5927\u7ea6\u4e00\u5e74\u591a\u524d\u3002\u5728\u8fc7\u53bb\u7684\u4e00\u5e74\u4e2d\uff0cSeaORM \u4ece 0.1 \u7248\u672c\u53d1\u5c55\u5230\u4e86 0.9 \u7248\u672c\uff0c\u7528\u6237\u6570\u91cf\u6301\u7eed\u589e\u957f\u3002\u5728\u8fd9\u7bc7\u535a\u5ba2\u6587\u7ae0\u4e2d\uff0c\u6211\u60f3\u6982\u8ff0\u6211\u4eec\u7684\u5de5\u7a0b\u6d41\u7a0b\uff0c\u4e5f\u8bb8\u53ef\u4ee5\u4e3a\u6f5c\u5728\u7684\u8d21\u732e\u8005\u548c\u672a\u6765\u7684\u9879\u76ee\u7ef4\u62a4\u8005\u63d0\u4f9b\u53c2\u8003\u6216\u6307\u5bfc\u3002\\r\\n\\r\\n\u5728\u5f00\u6e90\u4e16\u754c\u4e2d\uff0c\u7ec8\u8eab\u4ec1\u6148\u72ec\u88c1\u8005\uff08BDL\uff09\u6a21\u578b\u652f\u6491\u4e86\u8bb8\u591a\u6210\u529f\u7684\u5f00\u6e90\u9879\u76ee\u3002\u4f46\u90a3\u4e0d\u662f\u6211\uff01\u4f5c\u4e3a\u7ef4\u62a4\u8005\uff0c\u6211\u76f8\u4fe1\u4e00\u79cd\u5f00\u653e\u3001\u81ea\u4e0b\u800c\u4e0a\u3001\u8fed\u4ee3\u548c\u6e10\u8fdb\u7684\u65b9\u6cd5\u3002\u8ba9\u6211\u89e3\u91ca\u4e00\u4e0b\u8fd9\u4e9b\u8bcd\u5bf9\u6211\u7684\u610f\u4e49\u3002\\r\\n\\r\\n### \u5f00\u653e\\r\\n\\r\\n\u5f00\u653e\u4e0d\u4ec5\u662f\u6e90\u4ee3\u7801\u7684\u53ef\u7528\u6027\uff0c\u8fd8\u662f\u5de5\u7a0b\u7684\u5f00\u653e\u3002\u6211\u4eec\u59cb\u7ec8\u6b22\u8fce\u65b0\u8d21\u732e\u8005\uff01\u6211\u4eec\u613f\u610f\u516c\u5f00\u8ba8\u8bba\u60f3\u6cd5\u548c\u8bbe\u8ba1\u3002\u6211\u7ecf\u5e38\u4f1a\u89e3\u91ca\u4e3a\u4ec0\u4e48\u5728\u5f88\u591a\u4e8b\u60c5\u4e0a\u505a\u51fa\u67d0\u4e2a\u51b3\u5b9a\u3002\u9879\u76ee\u7684\u7ed3\u6784\u4e0d\u662f\u5355\u4e00\u4ee3\u7801\u4ed3\u5e93\uff0c\u800c\u662f\u51e0\u4e2a\u76f8\u4e92\u4f9d\u8d56\u7684\u4ed3\u5e93\u3002\u8fd9\u51cf\u5c11\u4e86\u65b0\u8d21\u732e\u8005\u7684\u969c\u788d\uff0c\u56e0\u4e3a\u4ed6\u4eec\u53ef\u4ee5\u66f4\u96c6\u4e2d\u5730\u89e3\u51b3\u67d0\u4e00\u4e2a\u7279\u5b9a\u95ee\u9898\u3002\\r\\n\\r\\n### \u81ea\u4e0b\u800c\u4e0a\\r\\n\\r\\n\u6211\u4eec\u4f9d\u8d56\u7528\u6237\u63d0\u4ea4\u529f\u80fd\u8bf7\u6c42\u3001\u9519\u8bef\u62a5\u544a\uff0c\u5f53\u7136\u8fd8\u6709pull\u8bf7\u6c42\u6765\u63a8\u52a8\u9879\u76ee\u5411\u524d\u53d1\u5c55\u3002\u597d\u7684\u4e00\u70b9\u662f\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u529f\u80fd\u6216\u9519\u8bef\u4fee\u590d\uff0c\u90fd\u6709\u5b9e\u9645\u7528\u6237\u7684\u7528\u4f8b\u6765\u786e\u8ba4\u5176\u6709\u6548\u6027\u548c\u5408\u7406\u6027\u3002\u4f5c\u4e3a\u7ef4\u62a4\u8005\uff0c\u6211\u65e0\u6cd5\u5bf9\u6240\u6709\u529f\u80fd\u6709\u7b2c\u4e00\u624b\u7684\u4f53\u9a8c\uff0c\u56e0\u6b64\u4e5f\u65e0\u6cd5\u7406\u89e3\u67d0\u4e9b\u75db\u70b9\u3002\\r\\n\\r\\n### \u8fed\u4ee3\\r\\n\\r\\n\u5f00\u6e90\u8f6f\u4ef6\u662f\u4e0d\u5b8c\u7f8e\u7684\u3001\u6682\u65f6\u7684\u548c\u4e0d\u5b8c\u6574\u7684\u3002\u867d\u7136\u6211\u5fc3\u4e2d\u6709\u4e00\u4e2a\u5b8f\u4f1f\u7684\u613f\u666f\uff0c\u4f46\u6211\u4eec\u4e0d\u8bd5\u56fe\u4e00\u6b21\u6027\u5306\u5fd9\u5b8c\u6210\u6240\u6709\u5de5\u4f5c\uff0c\u4e5f\u4e0d\u4f1a\u5728\u9879\u76ee\u201c\u5b8c\u6210\u201d\u4e4b\u524d\u5c06\u5176\u4fdd\u5bc6\u3002\u201c\u65e9\u53d1\u5e03\uff0c\u5e38\u53d1\u5e03\u201d\u4f9d\u7136\u9002\u7528\u2014\u2014\u6211\u4eec\u4f1a\u53d1\u5e03\u4e00\u4e2a\u521d\u6b65\u53ef\u7528\u7684\u5de5\u5177\u7248\u672c\uff0c\u6536\u96c6\u7528\u6237\u53cd\u9988\u5e76\u4e0d\u65ad\u6539\u8fdb\uff0c\u901a\u5e38\u4f1a\u91cd\u65b0\u5b9e\u73b0\u4e00\u4e9b\u529f\u80fd\u5e76\u4e2d\u65ad\u5176\u4ed6\u529f\u80fd\u2014\u2014\u8fd9\u5f15\u51fa\u4e86\u4e0b\u4e00\u4e2a\u8981\u70b9\u3002\\r\\n\\r\\n### \u6e10\u8fdb\\r\\n\\r\\n\u9752\u7750\u8fdb\u6b65\u3002\u59cb\u7ec8\u5411\u524d\u770b\uff0c\u629b\u5f03\u9057\u7559\u95ee\u9898\u3002\u8fd9\u5e76\u4e0d\u610f\u5473\u7740\u6211\u4eec\u4f1a\u968f\u610f\u7834\u574f\u4e8b\u7269\uff0c\u4f46\u5728\u505a\u51fa\u51b3\u7b56\u65f6\uff0c\u6211\u4eec\u603b\u4f1a\u8bbe\u60f3\u8f6f\u4ef6\u201c\u5e94\u8be5\u662f\u201d\u600e\u6837\u7684\uff0c\u800c\u4e0d\u8003\u8651\u5386\u53f2\u80cc\u666f\u3002\u6211\u4eec\u4f1a\u63d0\u4f9b\u8fc1\u79fb\u8def\u5f84\u5e76\u9f13\u52b1\u7528\u6237\u4e0e\u6211\u4eec\u4e00\u8d77\u5411\u524d\u53d1\u5c55\u3002\u6bd5\u7adf\uff0cRust \u662f\u4e00\u79cd\u5e74\u8f7b\u4e14\u4e0d\u65ad\u53d1\u5c55\u7684\u8bed\u8a00\uff01\u60a8\u53ef\u80fd\u77e5\u9053\uff0c`async` \u5728 2020 \u5e74\u521a\u521a\u7a33\u5b9a\u3002\\r\\n\\r\\n\u8bf4\u5b8c\u4e86\u54f2\u5b66\uff0c\u73b0\u5728\u6765\u8c08\u8c08\u5b9e\u9645\u7684\u5de5\u7a0b\u6d41\u7a0b\u3002\\r\\n\\r\\n### 1. \u601d\u60f3\u4e0e\u8bbe\u8ba1\\r\\n\\r\\n\u6211\u4eec\u9996\u5148\u5bf9\u60f3\u8981\u89e3\u51b3\u7684\u95ee\u9898\u6709\u4e00\u4e9b\u6a21\u7cca\u7684\u60f3\u6cd5\u3002\u5f53\u6211\u4eec\u5c06\u7528\u4f8b\u7684\u7ec6\u8282\u52a0\u8fdb\u53bb\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5b9a\u4e49\u95ee\u9898\u5e76\u8fdb\u884c\u5934\u8111\u98ce\u66b4\u5bfb\u627e\u89e3\u51b3\u65b9\u6848\u3002\u7136\u540e\uff0c\u6211\u4eec\u5bfb\u627e\u5728 Rust \u4e2d\u53ef\u884c\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002\\r\\n\\r\\n### 2. \u5b9e\u73b0\\r\\n\\r\\n\u521d\u6b65\u7684\u6982\u5ff5\u8bc1\u660e\u662f\u53d7\u6b22\u8fce\u7684\u3002\u6211\u4eec\u4f1a\u5bf9\u5b9e\u73b0\u8fdb\u884c\u8fed\u4ee3\uff0c\u4ee5\u964d\u4f4e\u5f71\u54cd\u5e76\u63d0\u9ad8\u53ef\u7ef4\u62a4\u6027\u3002\\r\\n\\r\\n### 3. \u6d4b\u8bd5\\r\\n\\r\\n\u6211\u4eec\u4f9d\u8d56\u81ea\u52a8\u5316\u6d4b\u8bd5\u3002\u6bcf\u4e2a\u529f\u80fd\u90fd\u5e94\u8be5\u6709\u76f8\u5e94\u7684\u6d4b\u8bd5\uff0c\u53ea\u6709\u5f53\u6240\u6709\u6d4b\u8bd5\u901a\u8fc7\u65f6\uff0c\u53d1\u5e03\u624d\u7b97\u6210\u529f\u3002\u8fd9\u610f\u5473\u7740\u5bf9\u4e8e\u672a\u88ab\u6211\u4eec\u7684\u6d4b\u8bd5\u5957\u4ef6\u8986\u76d6\u7684\u529f\u80fd\uff0c\u6211\u4eec\u65e0\u6cd5\u786e\u5b9a\u4f55\u65f6\u4f1a\u7834\u574f\u5b83\u4eec\u3002\u56e0\u6b64\uff0c\u5982\u679c\u67d0\u4e2a\u672a\u8bb0\u5f55\u7684\u529f\u80fd\u5bf9\u60a8\u5f88\u91cd\u8981\uff0c\u6211\u4eec\u9f13\u52b1\u60a8\u5c06\u5176\u6dfb\u52a0\u5230\u6211\u4eec\u7684\u6d4b\u8bd5\u5957\u4ef6\u4e2d\u3002\\r\\n\\r\\n### 4. \u6587\u6863\\r\\n\\r\\n\u6ca1\u6709\u6587\u6863\u7684\u7f16\u7801\u662f\u4e0d\u5b8c\u6574\u7684\u3002Rust \u7684\u6587\u6863\u6d4b\u8bd5\u4e00\u4e3e\u4e24\u5f97\uff0c\u56e0\u6b64\u5907\u53d7\u8d5e\u8d4f\u3002\u5bf9\u4e8e SeaORM\uff0c\u6211\u4eec\u6709\u5355\u72ec\u7684\u6587\u6863\u4ed3\u5e93\u548c\u6559\u7a0b\u4ed3\u5e93\u3002\u7ef4\u62a4\u8fd9\u4e9b\u5185\u5bb9\u4ee5\u4fdd\u6301\u6700\u65b0\u72b6\u6001\u9700\u8981\u5927\u91cf\u7684\u52aa\u529b\uff0c\u5f53\u524d\u5927\u90e8\u5206\u5de5\u4f5c\u7531\u6211\u4eec\u7684\u6838\u5fc3\u8d21\u732e\u8005\u5b8c\u6210\u3002\\r\\n\\r\\n### 5. \u53d1\u5e03\\r\\n\\r\\n\u6211\u4eec\u91c7\u7528\u53d1\u5e03\u5217\u8f66\u6a21\u578b\uff0c\u5c3d\u7ba1\u9891\u7387\u6709\u6240\u4e0d\u540c\u3002\u6211\u4eec\u7684\u7406\u5ff5\u662f\u505a\u5230\u5c0f\u8303\u56f4\u7684\u7834\u574f\u6027\u53d8\u5316\uff0c\u9891\u7e41\u53d1\u751f\u3002\u5728\u67d0\u4e2a\u65f6\u5019\uff0cSeaQuery \u6bcf\u5468\u53d1\u5e03\u65b0\u7248\u672c\u3002SeaORM \u76ee\u524d\u662f\u6309\u6708\u53d1\u5e03\uff0c\u867d\u7136\u73b0\u5728\u57fa\u672c\u4e0a\u653e\u5bbd\u5230\u6bcf\u4e24\u4e2a\u6708\u4e00\u6b21\u3002\u6211\u4eec\u59cb\u7ec8\u7ef4\u62a4\u4e24\u4e2a\u5206\u652f\uff0c\u6700\u65b0\u53d1\u5e03\u548c\u4e3b\u5206\u652f\u3002PR \u59cb\u7ec8\u5408\u5e76\u5230\u4e3b\u5206\u652f\uff0c\u5982\u679c\u662f\u975e\u7834\u574f\u6027\uff08\u4e14\u6709\u4ef7\u503c\uff09\u7684\uff0c\u6211\u4f1a\u5c06\u5176\u56de\u6eaf\u5230\u53d1\u5e03\u5206\u652f\u5e76\u8fdb\u884c\u5c0f\u7248\u672c\u53d1\u5e03\u3002\u6700\u7ec8\uff0c\u6211\u5e0c\u671b\u4fdd\u6301\u52a8\u80fd\uff0c\u4e0e\u793e\u533a\u4e00\u8d77\u5411\u524d\u53d1\u5c55\u3002\u7528\u6237\u53ef\u4ee5\u5bf9\u5408\u5e76\u4f55\u65f6\u53d1\u5e03\u6709\u4e00\u4e2a\u7c97\u7565\u7684\u9884\u671f\u3002\u6839\u636e\u5f53\u524d\u7684 Rust \u751f\u6001\u7cfb\u7edf\u72b6\u6001\uff0c\u6211\u4eec\u6709\u5f88\u591a\u53d8\u5316\u4e0d\u53ef\u907f\u514d\u5730\u5bfc\u81f4\u7834\u574f\u6027\u7684\u53d1\u5e03\u3002\u5efa\u8bae\u7528\u6237\u5b9a\u671f\u5347\u7ea7\uff0c\u6211\u4eec\u901a\u8fc7\u8bb8\u591a\u5c0f\u6539\u8fdb\u6765\u9f13\u52b1\u8fd9\u4e00\u70b9\u3002\\r\\n\\r\\n## \u7ed3\u8bba\\r\\n\\r\\n\u5f00\u6e90\u8f6f\u4ef6\u662f\u534f\u4f5c\u7684\u7ed3\u679c\uff0c\u611f\u8c22\u6240\u6709\u53c2\u4e0e\u8005\uff01\u4e5f\u8981\u5bf9 SeaQL \u7684\u6838\u5fc3\u8d21\u732e\u8005\u8868\u793a\u7279\u522b\u611f\u8c22\uff0c\u4ed6\u4eec\u505a\u51fa\u4e86\u60ca\u4eba\u7684\u8d21\u732e\u3002\u5982\u679c\u60a8\u8fd8\u6ca1\u6709\uff0c\u6211\u9080\u8bf7\u60a8\u7ed9\u6211\u4eec\u7684\u6240\u6709\u4ed3\u5e93\u52a0\u661f\u3002\u5982\u679c\u60a8\u60f3\u5728\u7269\u8d28\u4e0a\u652f\u6301\u6211\u4eec\uff0c\u4e00\u70b9\u5c0f\u989d\u6350\u8d60\u5c06\u4ea7\u751f\u5de8\u5927\u7684\u4e0d\u540c\u3002SeaQL \u8fd9\u4e2a\u7ec4\u7ec7\u4ecd\u5904\u4e8e\u521d\u671f\u9636\u6bb5\uff0c\u60a8\u7684\u652f\u6301\u5bf9 SeaQL \u7684\u957f\u671f\u751f\u5b58\u548c Rust \u793e\u533a\u7684\u524d\u666f\u81f3\u5173\u91cd\u8981\u3002"},{"id":"/2022/07/17/whats-new-in-0.9.0","metadata":{"permalink":"/blog/2022/07/17/whats-new-in-0.9.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-07-17-whats-new-in-0.9.0.md","source":"@site/blog/2022-07-17-whats-new-in-0.9.0.md","title":"whats-new-in-0.9.0","description":"// \u521b\u5efa\u4e00\u4e2a\u6309 cake.id \u6392\u5e8f\u7684\u6e38\u6807","date":"2022-07-17T00:00:00.000Z","formattedDate":"July 17, 2022","tags":[],"readingTime":11.11,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"prevItem":{"title":"SeaQL.org \u7684\u5de5\u7a0b","permalink":"/blog/2022-07-30-engineering"},"nextItem":{"title":"\u6b22\u8fce 2022 \u590f\u5b63\u7f16\u7801\u8d21\u732e\u8005","permalink":"/blog/2022-06-02-summer-of-code-2022-intro"}},"content":"```markdown\\r\\n---\\r\\nslug: 2022-07-17-whats-new-in-0.9.0\\r\\ntitle: SeaORM 0.9.0 \u65b0\u7279\u6027\\r\\nauthor: SeaQL \u56e2\u961f\\r\\nauthor_title: Chris Tsang\\r\\nauthor_url: https://github.com/SeaQL\\r\\nauthor_image_url: https://www.sea-ql.org/SeaORM/img/SeaQL.png\\r\\ntags: [news]\\r\\n---\\r\\n\\r\\n\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u53d1\u5e03 SeaORM [`0.9.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.9.0)\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a\\r\\n\\r\\n## \u4f9d\u8d56\u5347\u7ea7\\r\\n\\r\\n[[#834](https://github.com/SeaQL/sea-orm/pull/834)] \u6211\u4eec\u5347\u7ea7\u4e86\u4e00\u4e9b\u4e3b\u8981\u7684\u4f9d\u8d56\uff1a\\r\\n- \u5c06 [`sqlx`](https://github.com/launchbadge/sqlx) \u5347\u7ea7\u5230 0.6\\r\\n- \u5c06 [`time`](https://github.com/time-rs/time) \u5347\u7ea7\u5230 0.3\\r\\n- \u5c06 [`uuid`](https://github.com/uuid-rs/uuid) \u5347\u7ea7\u5230 1.0\\r\\n- \u5c06 [`sea-query`](https://github.com/SeaQL/sea-query) \u5347\u7ea7\u5230 0.26\\r\\n- \u5c06 [`sea-schema`](https://github.com/SeaQL/sea-schema) \u5347\u7ea7\u5230 0.9\\r\\n\\r\\n\u8bf7\u6ce8\u610f\uff0c\u60a8\u53ef\u80fd\u8fd8\u9700\u8981\u5347\u7ea7\u5e94\u7528\u7a0b\u5e8f\u4e2d\u76f8\u5e94\u7684\u4f9d\u8d56\u3002\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--8 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u63d0\u8bae\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--6 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/D1plo1d\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/145184?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Rob Gilson\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\"col col--6 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/boraarslan\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/44371603?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            boraarslan\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u8d21\u732e\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Billy Chan\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u6e38\u6807\u5206\u9875\\r\\n\\r\\n[[#822](https://github.com/SeaQL/sea-orm/pull/822)] \u57fa\u4e8e\u4e3b\u952e\u7b49\u5217\u5bf9\u6a21\u578b\u8fdb\u884c\u5206\u9875\u3002\\r\\n\\r\\n```rust\\r\\n// \u521b\u5efa\u4e00\u4e2a\u6309 `cake`.`id` \u6392\u5e8f\u7684\u6e38\u6807\\r\\nlet mut cursor = cake::Entity::find().cursor_by(cake::Column::Id);\\r\\n\\r\\n// \u6309 `cake`.`id` > 1 \u4e14 `cake`.`id` < 100 \u8fc7\u6ee4\u5206\u9875\u7ed3\u679c\\r\\ncursor.after(1).before(100);\\r\\n\\r\\n// \u83b7\u53d6\u524d 10 \u884c\uff08\u6309 `cake`.`id` \u5347\u5e8f\uff09\\r\\nlet rows: Vec<cake::Model> = cursor.first(10).all(db).await?;\\r\\n\\r\\n// \u83b7\u53d6\u540e 10 \u884c\uff08\u6309 `cake`.`id` \u964d\u5e8f\u4f46\u884c\u4ee5\u5347\u5e8f\u8fd4\u56de\uff09\\r\\nlet rows: Vec<cake::Model> = cursor.last(10).all(db).await?;\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u63d0\u8bae\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/lberezy\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/5207383?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Lucas Berezy\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--8 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u8d21\u732e\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--6 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            \xc9mile Fugulin\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\"col col--6 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Billy Chan\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u51b2\u7a81\u65f6\u63d2\u5165\\r\\n\\r\\n[[#791](https://github.com/SeaQL/sea-orm/pull/791)] \u4f7f\u7528\u51b2\u7a81\u884c\u4e3a\u63d2\u5165\u6d3b\u52a8\u6a21\u578b\u3002\\r\\n\\r\\n```rust\\r\\nlet orange = cake::ActiveModel {\\r\\n    id: ActiveValue::set(2),\\r\\n    name: ActiveValue::set(\\"Orange\\".to_owned()),\\r\\n};\\r\\n\\r\\n// \u5728\u51b2\u7a81\u65f6\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\uff1a \\r\\n//   - INSERT INTO \\"cake\\" (\\"id\\", \\"name\\") VALUES (2, \'Orange\') ON CONFLICT (\\"name\\") DO NOTHING\\r\\ncake::Entity::insert(orange.clone())\\r\\n    .on_conflict(\\r\\n        sea_query::OnConflict::column(cake::Column::Name)\\r\\n            .do_nothing()\\r\\n            .to_owned()\\r\\n    )\\r\\n    .exec(db)\\r\\n    .await?;\\r\\n\\r\\n// \u5728\u51b2\u7a81\u65f6\u8fdb\u884c\u66f4\u65b0\uff1a\\r\\n//   - INSERT INTO \\"cake\\" (\\"id\\", \\"name\\") VALUES (2, \'Orange\') ON CONFLICT (\\"name\\") DO UPDATE SET \\"name\\" = \\"excluded\\".\\"name\\"\\r\\ncake::Entity::insert(orange)\\r\\n    .on_conflict(\\r\\n        sea_query::OnConflict::column(cake::Column::Name)\\r\\n            .update_column(cake::Column::Name)\\r\\n            .to_owned()\\r\\n    )\\r\\n    .exec(db)\\r\\n    .await?;\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u63d0\u8bae\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/baoyachi\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/10433001?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            baoyachi. Aka Rust Hairy crabs\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u8d21\u732e\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/liberwang1013\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/16575148?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            liberwang1013\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u4f7f\u7528\u81ea\u5b9a\u4e49\u6761\u4ef6\u548c\u8868\u522b\u540d\u7684\u8fde\u63a5\u8868\\r\\n\\r\\n[[#793](https://github.com/SeaQL/sea-orm/pull/793), [#852](https://github.com/SeaQL/sea-orm/pull/852)] \u70b9\u51fb [\u81ea\u5b9a\u4e49\u8fde\u63a5\u6761\u4ef6](https://www.sea-ql.org/SeaORM/docs/next/relation/custom-join-condition) \u548c [\u81ea\u5b9a\u4e49\u8fde\u63a5](https://www.sea-ql.org/SeaORM/docs/next/advanced-query/custom-joins) \u4e86\u89e3\u66f4\u591a\u3002\\r\\n\\r\\n```rust\\r\\nassert_eq!(\\r\\n    cake::Entity::find()\\r\\n        .column_as(\\r\\n            Expr::tbl(Alias::new(\\"fruit_alias\\"), fruit::Column::Name).into_simple_expr(),\\r\\n            \\"fruit_name\\"\\r\\n        )\\r\\n        .join_as(\\r\\n            JoinType::LeftJoin,\\r\\n            cake::Relation::Fruit\\r\\n                .def()\\r\\n                .on_condition(|_left, right| {\\r\\n                    Expr::tbl(right, fruit::Column::Name)\\r\\n                        .like(\\"%tropical%\\")\\r\\n                        .into_condition()\\r\\n                }),\\r\\n            Alias::new(\\"fruit_alias\\")\\r\\n        )\\r\\n        .build(DbBackend::MySql)\\r\\n        .to_string(),\\r\\n    [\\r\\n        \\"SELECT `cake`.`id`, `cake`.`name`, `fruit_alias`.`name` AS `fruit_name` FROM `cake`\\",\\r\\n        \\"LEFT JOIN `fruit` AS `fruit_alias` ON `cake`.`id` = `fruit_alias`.`cake_id` AND `fruit_alias`.`name` LIKE \'%tropical%\'\\",\\r\\n    ]\\r\\n    .join(\\" \\")\\r\\n);\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u63d0\u8bae\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Chris Tsang\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Tuetuopay\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/4009336?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Tuetuopay\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nag763\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/55486724?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Lo\xefc\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u8d21\u732e\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Billy Chan\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## (\u53cd)\u5e8f\u5217\u5316\u81ea\u5b9a\u4e49 JSON \u7c7b\u578b\\r\\n\\r\\n[[#794](https://github.com/SeaQL/sea-orm/pull/794)] \u5b58\u50a8\u5728\u6570\u636e\u5e93\u4e2d\u7684 JSON \u53ef\u4ee5\u53cd\u5e8f\u5217\u5316\u4e3a Rust \u4e2d\u7684\u81ea\u5b9a\u4e49\u7ed3\u6784\u4f53\u3002\\r\\n\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"json_struct\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    // \u5728 `serde_json::Value` \u4e2d\u5b9a\u4e49\u7684 JSON \u5217\\r\\n    pub json: Json,\\r\\n    // \u5728\u81ea\u5b9a\u4e49\u7ed3\u6784\u4f53\u4e2d\u5b9a\u4e49\u7684 JSON \u5217\\r\\n    pub json_value: KeyValue,\\r\\n    pub json_value_opt: Option<KeyValue>,\\r\\n}\\r\\n\\r\\n// \u81ea\u5b9a\u4e49\u7ed3\u6784\u4f53\u5fc5\u987b\u6d3e\u751f `FromJsonQueryResult`\u3001`Serialize` \u548c `Deserialize`\\r\\n#[derive(Clone, Debug, PartialEq, Serialize, Deserialize, FromJsonQueryResult)]\\r\\npub struct KeyValue {\\r\\n    pub id: i32,\\r\\n    pub name: String,\\r\\n    pub price: f32,\\r\\n    pub notes: Option<String>,\\r\\n}\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u63d0\u8bae\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mara214\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/37018485?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Mara Schulke\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Chris Tsang\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u8d21\u732e\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Billy Chan\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u6d3e\u751f\u8fc1\u79fb\u540d\u79f0\\r\\n\\r\\n[[#736](https://github.com/SeaQL/sea-orm/pull/736)] \u5f15\u5165 `DeriveMigrationName` \u8fc7\u7a0b\u5b8f\uff0c\u4ece\u6587\u4ef6\u540d\u63a8\u65ad\u8fc1\u79fb\u540d\u79f0\u3002\\r\\n\\r\\n```rust\\r\\nuse sea_orm_migration::prelude::*;\\r\\n\\r\\n// \u4ee5\u524d\u662f...\\r\\npub struct Migration;\\r\\n\\r\\nimpl MigrationName for Migration {\\r\\n    fn name(&self) -> &str {\\r\\n        \\"m20220120_000001_create_post_table\\"\\r\\n    }\\r\\n}\\r\\n\\r\\n// \u73b0\u5728... \u6d3e\u751f `DeriveMigrationName`\uff0c\\r\\n// \u4e0d\u518d\u9700\u8981\u663e\u5f0f\u6307\u5b9a\u8fc1\u79fb\u540d\u79f0\\r\\n#[derive(DeriveMigrationName)]\\r\\npub struct Migration;\\r\\n\\r\\n#[async_trait::async_trait]\\r\\nimpl MigrationTrait for Migration {\\r\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n        manager\\r\\n            .create_table( ... )\\r\\n            .await\\r\\n    }\\r\\n\\r\\n    async fn down(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n        manager\\r\\n            .drop_table( ... )\\r\\n            .await\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u63d0\u8bae\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Chris Tsang\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--8 margin-bottom--md\\">\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--12 margin-bottom--md\\">\\r\\n                \u8d21\u732e\u8005\uff1a\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"row\\">\\r\\n            <div class=\\"col col--6 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/smonv\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/8962973?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            smonv\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\"col col--6 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/inf0rm4tik3r\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/9355833?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Lukas Potthast\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\"col col--6 margin-bottom--md\\">\\r\\n                <div class=\\"avatar\\">\\r\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                        <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n                    </a>\\r\\n                    <div class=\\"avatar__intro\\">\\r\\n                        <div class=\\"avatar__name\\">\\r\\n                            Billy Chan\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## SeaORM CLI \u6539\u8fdb\\r\\n\\r\\n- [[#735](https://github.com/SeaQL/sea-orm/pull/735)] \u6539\u8fdb\u751f\u6210\u5b9e\u4f53\u547d\u4ee4\u7684\u65e5\u5fd7\u8bb0\u5f55\\r\\n- [[#588](https://github.com/SeaQL/sea-orm/pull/588)] \u751f\u6210\u5e26\u6709\u6570\u5b57\u7c7b\u4f3c\u53d8\u4f53\u7684\u679a\u4e3e\\r\\n- [[#755](https://github.com/SeaQL/sea-orm/pull/755)] \u5141\u8bb8\u65e7\u5f85\u5904\u7406\u8fc1\u79fb\u7684\u5e94\u7528\\r\\n- [[#837](https://github.com/SeaQL/sea-orm/pull/837)] \u8df3\u8fc7\u5bf9\u88ab\u5ffd\u7565\u8868\u7684\u5b9e\u4f53\u751f\u6210\\r\\n- [[#724](https://github.com/SeaQL/sea-orm/pull/724)] \u4e3a `time` crate \u751f\u6210\u4ee3\u7801\\r\\n- [[#850](https://github.com/SeaQL/sea-orm/pull/850)] \u6dfb\u52a0\u5404\u79cd blob \u5217\u7c7b\u578b\\r\\n- [[#422](https://github.com/SeaQL/sea-orm/pull/422)] \u4e3a Postgres \u7684\u6a21\u5f0f\u540d\u79f0\u751f\u6210\u5b9e\u4f53\u6587\u4ef6\\r\\n- [[#851](https://github.com/SeaQL/sea-orm/pull/851)] \u8df3\u8fc7\u5bf9\u51ed\u636e\u7684\u8fde\u63a5\u5b57\u7b26\u4e32\u68c0\u67e5\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        \u63d0\u8bae & \u8d21\u732e\u8005\uff1a\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ttys3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/41882455?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    ttys3\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kyoto7250\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/50972773?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    kyoto7250\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yb3616\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/8839021?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    yb3616\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/cemoktra\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/15634263?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Bastian\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nahuakang\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/18533347?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Nahua\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/hunjixin\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/41407352?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Mike\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/frankhorv\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/6849119?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Frank Horvath\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/maikelwever\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1009019?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Maikel Wever\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u5176\u4ed6\u6539\u8fdb\\r\\n\\r\\n- [[#800](https://github.com/SeaQL/sea-orm/pull/800)] \u5411 `ConnectOptions` \u6dfb\u52a0 `sqlx_logging_level`\\r\\n- [[#768](https://github.com/SeaQL/sea-orm/pull/768)] \u5411 `Paginator` \u6dfb\u52a0 `num_items_and_pages`\\r\\n- [[#849](https://github.com/SeaQL/sea-orm/pull/849)] \u4e3a `time` \u6dfb\u52a0 `TryFromU64`\\r\\n- [[#853](https://github.com/SeaQL/sea-orm/pull/853)] \u5728 `TryGetError::Null` \u4e2d\u5305\u542b\u5217\u540d\\r\\n- [[#778](https://github.com/SeaQL/sea-orm/pull/778)] \u91cd\u6784\u6d41\u91cf\u6307\u6807\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        \u63d0\u8bae & \u8d21\u732e\u8005\uff1a\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/SandaruKasa\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/50824690?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    SandaruKasa\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/fistons\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/972209?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Eric\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/dinhani\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1139781?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Renato Dinhani\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kyoto7250\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/50972773?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    kyoto7250\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--4 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marco Napetti\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u96c6\u6210\u793a\u4f8b\\r\\n\\r\\nSeaORM \u5728 async \u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u5176\u4ed6 crate \u4e2d\u8868\u73b0\u826f\u597d\u3002\u6211\u4eec\u7ef4\u62a4\u4e00\u7cfb\u5217\u793a\u4f8b\u9879\u76ee\uff0c\u7528\u4e8e\u6784\u5efa REST\u3001GraphQL \u548c gRPC \u670d\u52a1\u3002\u66f4\u591a\u793a\u4f8b [\u6b22\u8fce](https://github.com/SeaQL/sea-orm/issues/269)\uff01\\r\\n\\r\\n- [Actix v4 \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example)\\r\\n- [Axum \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example)\\r\\n- [GraphQL \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example)\\r\\n- [jsonrpsee \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example)\\r\\n- [Poem \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example)\\r\\n- [Rocket \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example)\\r\\n- [Salvo \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example)\\r\\n- [Tonic \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example)\\r\\n\\r\\n## \u8d5e\u52a9\u5546\\r\\n\\r\\n\u6211\u4eec\u7684 [GitHub Sponsor](https://github.com/sponsors/SeaQL) \u4e2a\u4eba\u8d44\u6599\u5df2\u4e0a\u7ebf\uff01\u5982\u679c\u60a8\u89c9\u5f97\u6177\u6168\uff0c\u975e\u5e38\u611f\u8c22\u60a8\u7684\u5c0f\u989d\u6350\u8d60\u3002\\r\\n\\r\\n\u975e\u5e38\u611f\u8c22\u6211\u4eec\u7684\u8d5e\u52a9\u5546 \ud83d\ude07\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Dean Sheather\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sakti Dwi Cahyono\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u672a\u547d\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u672a\u547d\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002\\r\\n\\r\\n\u4ee5\u4e0b\u662f SeaORM [`0.10.x`](https://github.com/SeaQL/sea-orm/milestone/10) \u7684\u8def\u7ebf\u56fe\u3002\\r\\n```"},{"id":"2022-06-02-summer-of-code-2022-intro","metadata":{"permalink":"/blog/2022-06-02-summer-of-code-2022-intro","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-06-02-summer-of-code-2022-intro.md","source":"@site/blog/2022-06-02-summer-of-code-2022-intro.md","title":"\u6b22\u8fce 2022 \u590f\u5b63\u7f16\u7801\u8d21\u732e\u8005","description":"\u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\uff0c\u4eca\u5e74\u590f\u5929\u6211\u4eec\u5c06\u6709\u56db\u4f4d\u8d21\u732e\u8005\u52a0\u5165\uff01\u5176\u4e2d\u4e24\u4f4d\u7531 Google \u8d44\u52a9\uff0c\u53e6\u5916\u4e24\u4f4d\u7531 SeaQL \u8d44\u52a9\u3002","date":"2022-06-02T00:00:00.000Z","formattedDate":"June 2, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":5.23,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-06-02-summer-of-code-2022-intro","title":"\u6b22\u8fce 2022 \u590f\u5b63\u7f16\u7801\u8d21\u732e\u8005","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"whats-new-in-0.9.0","permalink":"/blog/2022/07/17/whats-new-in-0.9.0"},"nextItem":{"title":"SeaORM 0.8.0 \u7684\u65b0\u529f\u80fd","permalink":"/blog/2022-05-15-whats-new-in-0.8.0"}},"content":"\u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\uff0c\u4eca\u5e74\u590f\u5929\u6211\u4eec\u5c06\u6709\u56db\u4f4d\u8d21\u732e\u8005\u52a0\u5165\uff01\u5176\u4e2d\u4e24\u4f4d\u7531 Google \u8d44\u52a9\uff0c\u53e6\u5916\u4e24\u4f4d\u7531 SeaQL \u8d44\u52a9\u3002\\r\\n\\r\\n### \u57fa\u4e8e SeaORM \u7684 GraphQL \u6846\u67b6\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo\\" href=\\"https://github.com/karatakis\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/7329022?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Panagiotis Karatakis\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\u6211\u662f Panagiotis\uff0c\u6765\u81ea\u5e0c\u814a\u96c5\u5178\uff0c\u76ee\u524d\u653b\u8bfb\u7ecf\u6d4e\u5b66\u7684\u7b2c\u4e8c\u4e2a\u5b66\u4f4d\u3002\u6211\u7684\u7b2c\u4e00\u4e2a\u5b66\u4f4d\u662f\u8ba1\u7b97\u673a\u79d1\u5b66\uff0c\u6211\u5bf9\u5b66\u4e60\u548c\u5b9e\u73b0\u4f01\u4e1a\u8f6f\u4ef6\u89e3\u51b3\u65b9\u6848\u5145\u6ee1\u70ed\u60c5\u3002\u6211\u5b66\u4e60 Rust \u5df2\u7ecf\u4e00\u5e74\u4e86\uff0c\u5e76\u5728\u6211\u548c\u670b\u53cb\u4e3a\u521b\u4e1a\u6bd4\u8d5b\u521b\u5efa\u7684\u5c0f\u578b Startup \u9879\u76ee\u4e2d\u51e0\u4e4e\u6bcf\u5929\u90fd\u5728\u4f7f\u7528\u5b83\u3002\\r\\n\\r\\n\u6211\u5c06\u81f4\u529b\u4e8e\u521b\u5efa\u4e00\u4e2a CLI \u5de5\u5177\uff0c\u7528\u4e8e\u63a2\u7d22\u6570\u636e\u5e93\u6a21\u5f0f\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e2a\u53ef\u6784\u5efa\u7684 `async-graphql` API\u3002\u8be5\u5de5\u5177\u5c06\u5141\u8bb8\u4e0e SeaQL \u548c Rust \u751f\u6001\u7cfb\u7edf\u4ee5\u53ca GraphQL \u7684\u5feb\u901f\u96c6\u6210\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u6211\u5c06\u4f7f\u7528 `sea-schema` \u8fdb\u884c\u6570\u636e\u5e93\u63a2\u7d22\uff0c\u4f7f\u7528 `sea-orm-codegen` \u8fdb\u884c\u5b9e\u4f53\u751f\u6210\uff0c\u6211\u7684\u5de5\u4f5c\u662f\u5c06\u5b83\u4eec\u4e0e `async-graphql` \u5e93\u7ed3\u5408\u5728\u4e00\u8d77\u3002\u4f60\u53ef\u4ee5\u5728 [\u8fd9\u91cc](https://github.com/SeaQL/summer-of-code/discussions/12) \u4e86\u89e3\u66f4\u591a\u3002\\r\\n\\r\\n### \u7528\u4e8e\u6a21\u62df\u6d4b\u8bd5\u7684 SQL \u89e3\u91ca\u5668\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo\\" href=\\"https://github.com/Samyak2\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/34161949?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Samyak Sarnayak\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\u6211\u662f Samyak Sarnayak\uff0c\u6765\u81ea\u5370\u5ea6\u73ed\u52a0\u7f57\u5c14\u7684\u8ba1\u7b97\u673a\u79d1\u5b66\u6700\u540e\u4e00\u5e74\u5b66\u751f\u3002\u6211\u5927\u7ea6\u5728 6-7 \u4e2a\u6708\u524d\u5f00\u59cb\u5b66\u4e60 Rust\uff0c\u611f\u89c9\u627e\u5230\u4e86\u6700\u9002\u5408\u6211\u7684\u7f16\u7a0b\u8bed\u8a00 :D\u3002\u5b83\u6ca1\u6709\u8fd0\u884c\u65f6\uff0c\u62e5\u6709\u51fa\u8272\u7684\u7c7b\u578b\u7cfb\u7edf\uff0c\u9519\u8bef\u4fe1\u606f\u975e\u5e38\u53cb\u597d\uff0c\u597d\u7528\u7684\u5de5\u5177\uff0c\u4ee5\u53ca\u4e00\u4e9b\u51fd\u6570\u5f0f\u7f16\u7a0b\u6a21\u5f0f\u548c\u5143\u7f16\u7a0b\u3002\u4f60\u53ef\u4ee5\u5728\u6211\u7684 GitHub \u4e2a\u4eba\u8d44\u6599\u4e2d\u627e\u5230\u66f4\u591a\u5173\u4e8e\u6211\u7684\u4fe1\u606f\u3002\\r\\n\\r\\n\u6211\u5c06\u5728\u4e00\u4e2a\u65b0\u7684 SQL \u89e3\u91ca\u5668\u4e0a\u5de5\u4f5c\uff0c\u7528\u4e8e\u6a21\u62df\u6d4b\u8bd5\u3002\u5b83\u5c06\u4e13\u95e8\u4e3a\u6d4b\u8bd5\u6784\u5efa\uff0c\u56e0\u6b64\u91cd\u70b9\u5c06\u653e\u5728\u6b63\u786e\u6027\u4e0a\u2014\u2014\u5b83\u53ef\u80fd\u901f\u5ea6\u8f83\u6162\uff0c\u4f46\u64cd\u4f5c\u5fc5\u987b\u59cb\u7ec8\u6b63\u786e\u3002\u6211\u5e0c\u671b\u80fd\u591f\u5efa\u7acb\u4e00\u4e2a\u53ef\u5de5\u4f5c\u7684\u7248\u672c\uff0c\u5e76\u5c06\u5176\u96c6\u6210\u5230 SeaORM \u7684\u73b0\u6709\u6d4b\u8bd5\u4e2d\u3002\u5173\u4e8e\u8fd9\u4e2a\u9879\u76ee\u7684 [\u8ba8\u8bba](https://github.com/SeaQL/summer-of-code/discussions/11)\u3002\\r\\n\\r\\n### \u5728 SeaQL \u751f\u6001\u7cfb\u7edf\u4e2d\u652f\u6301 TiDB\\r\\n\\r\\n\u7f16\u8f91\uff1a\u8be5\u9879\u76ee\u5df2\u53d6\u6d88\u3002\\r\\n\\r\\n### SeaORM \u7684\u67e5\u8be2\u6821\u9a8c\u5668\\r\\n\\r\\n\u7f16\u8f91\uff1a\u8be5\u9879\u76ee\u5df2\u53d6\u6d88\u3002\\r\\n\\r\\n## \u5bfc\u5e08\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Chris Tsang\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\u6211\u575a\u4fe1\u5f00\u6e90\u7684\u91cd\u8981\u6027\u3002\u6211\u5728 10 \u5e74\u524d\u5f00\u59cb\u4e86\u6211\u7684 GitHub \u4e4b\u65c5\uff0c\u53d1\u5e03\u4e86\u6211\u7684\u7b2c\u4e00\u4e2a\u7f16\u7a0b\u5e93\u3002\u6211\u4e00\u76f4\u5728\u5bfb\u627e\u4e00\u79cd\u5feb\u901f\u3001\u7b26\u5408\u4eba\u4f53\u5de5\u7a0b\u5b66\u4e14\u5bcc\u6709\u8868\u73b0\u529b\u7684\u7f16\u7a0b\u8bed\u8a00\u3002\u76f4\u5230\u6211\u627e\u5230 Rust\u3002\\r\\n\\r\\n\u770b\u5230 Rust \u751f\u6001\u7cfb\u7edf\u4e2d\u5bf9\u6570\u636e\u5de5\u7a0b\u5de5\u5177\u7684\u9700\u6c42\uff0c\u6211\u5728 2020 \u5e74\u521b\u529e\u4e86 SeaQL\uff0c\u5e76\u4e00\u76f4\u9886\u5bfc\u5f00\u53d1\u548c\u7ef4\u62a4\u8fd9\u4e9b\u5e93\u81f3\u4eca\u3002\\r\\n\\r\\n<br/>\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\u4f60\u597d\uff0c\u6211\u662f\u6765\u81ea\u9999\u6e2f\u7684 Billy\u3002\u6211\u4ece\u5f00\u59cb\u7f16\u7a0b\u65f6\u5c31\u4e00\u76f4\u5728\u4f7f\u7528\u5f00\u6e90\u5e93\uff0c\u4f46\u76f4\u5230 2020 \u5e74\uff0c\u6211\u624d\u81f4\u529b\u4e8e\u6210\u4e3a\u4e00\u540d Rust \u5f00\u6e90\u5f00\u53d1\u8005\u3002\\r\\n\\r\\n\u6211\u8fd8\u662f\u4e00\u540d\u5168\u6808\u5f00\u53d1\u8005\uff0c\u4e13\u6ce8\u4e8e\u7528\u6237\u754c\u9762\u548c\u6570\u636e\u5e93\u7ed3\u6784\u7684\u9700\u6c42\u89c4\u8303\u5236\u5b9a\u3001\u4ece\u96f6\u5f00\u59cb\u5b9e\u65bd\u548c\u6d4b\u8bd5\u524d\u7aef\u548c\u540e\u7aef\uff0c\u6700\u7ec8\u53d1\u5e03 MVP\uff0c\u5e76\u7ef4\u62a4\u5b83\u591a\u5e74\u3002\\r\\n\\r\\n\u6211\u559c\u6b22\u4e0e\u5168\u7403\u7684 Rustaceans \u4e00\u8d77\u5de5\u4f5c\uff0c\u4e3a Rust \u793e\u533a\u5efa\u7acb\u66f4\u597d\u3001\u66f4\u53ef\u6301\u7eed\u7684\u751f\u6001\u7cfb\u7edf\u3002\u5982\u679c\u4f60\u559c\u6b22\u6211\u4eec\u6240\u505a\u7684\u4e8b\u60c5\uff0c\u8bf7\u8003\u8651\u661f\u6807\u3001\u8bc4\u8bba\u3001\u5206\u4eab\u548c\u8d21\u732e\uff0c\u8fd9\u5c06\u4e0d\u80dc\u611f\u6fc0\u3002\\r\\n\\r\\n<br/>\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--12 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo\\" href=\\"https://github.com/shpun817\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/47468266?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sanford Pun\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\u6211\u662f Sanford\uff0c\u4e00\u540d\u70ed\u60c5\u7684\u8f6f\u4ef6\u5de5\u7a0b\u5e08\uff0c\u559c\u6b22\u89e3\u51b3\u95ee\u9898\uff01\u6211\u5df2\u7ecf\u5728 Rust \u4e0a\u5de5\u4f5c\u4e86\u51e0\u5e74\u3002\u5728\u6211\u65e9\u671f\u4f7f\u7528 Rust \u7684\u65f6\u5019\uff0c\u6211\u4e3b\u8981\u96c6\u4e2d\u5728\u56fe\u5f62/\u56fe\u50cf\u5904\u7406\u9886\u57df\uff0c\u6211\u7231\u4e0a\u4e86\u8fd9\u95e8\u8bed\u8a00\u6240\u63d0\u4f9b\u7684\u529f\u80fd\uff01\u4eca\u5e74\uff0c\u6211\u6b63\u5728 StarfishQL \u9879\u76ee\u4e2d\u63a2\u7d22\u6570\u636e\u5de5\u7a0b\u3002\\r\\n\\r\\n\u4e3a Rust \u7684\u65e0\u9650\u6f5c\u529b\u5e72\u676f\uff01\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\n\u5982\u679c\u4f60\u5bf9\u8fd9\u4e9b\u9879\u76ee\u611f\u5174\u8da3\u5e76\u60f3\u5206\u4eab\u4f60\u7684\u60f3\u6cd5\uff0c\u8bf7\u5728 GitHub \u4e0a\u4e3a [SeaQL/summer-of-code](https://github.com/SeaQL/summer-of-code) \u4ed3\u5e93\u52a0\u661f\u548c\u5173\u6ce8\uff0c\u5e76\u52a0\u5165\u6211\u4eec\u7684 [Discord \u670d\u52a1\u5668](https://discord.com/invite/uCPdDXzbdv)\uff01"},{"id":"2022-05-15-whats-new-in-0.8.0","metadata":{"permalink":"/blog/2022-05-15-whats-new-in-0.8.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-05-15-whats-new-in-0.8.0.md","source":"@site/blog/2022-05-15-whats-new-in-0.8.0.md","title":"SeaORM 0.8.0 \u7684\u65b0\u529f\u80fd","description":"\ud83c\udf89 \u6211\u4eec\u9ad8\u5174\u5730\u5ba3\u5e03\u4eca\u65e5\u53d1\u5e03 SeaORM 0.8.0\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a","date":"2022-05-15T00:00:00.000Z","formattedDate":"May 15, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":5.84,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-05-15-whats-new-in-0.8.0","title":"SeaORM 0.8.0 \u7684\u65b0\u529f\u80fd","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"\u6b22\u8fce 2022 \u590f\u5b63\u7f16\u7801\u8d21\u732e\u8005","permalink":"/blog/2022-06-02-summer-of-code-2022-intro"},"nextItem":{"title":"SeaORM \u5e38\u89c1\u95ee\u9898\u89e3\u7b54.01","permalink":"/blog/2022-05-14-faq-01"}},"content":"\ud83c\udf89 \u6211\u4eec\u9ad8\u5174\u5730\u5ba3\u5e03\u4eca\u65e5\u53d1\u5e03 SeaORM [`0.8.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.8.0)\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a\\r\\n\\r\\n## \u8fc1\u79fb\u5de5\u5177\u79fb\u52a8\u5230 `sea-orm-migration` crate\\r\\n\\r\\n[[#666](https://github.com/SeaQL/sea-orm/pull/666)] SeaORM \u7684\u8fc1\u79fb\u5de5\u5177\u5df2\u4ece `sea-schema` \u79fb\u52a8\u5230 `sea-orm-migration` crate\u3002\u5efa\u8bae\u7528\u6237\u901a\u8fc7\u4ee5\u4e0b\u6b65\u9aa4\u4ece\u65e7\u7248\u672c\u5347\u7ea7\uff1a\\r\\n\\r\\n1. \u5c06 `sea-orm` \u7248\u672c\u63d0\u5347\u81f3 `0.8.0`\u3002\\r\\n2. \u5728\u4f60\u7684 `migration` crate \u4e2d\u7528 `sea-orm-migration` \u66ff\u6362 `sea-schema` \u4f9d\u8d56\u3002\\r\\n    ```diff title=migration/Cargo.toml\\r\\n    [dependencies]\\r\\n    - sea-schema = { version = \\"^0.7.0\\", ... }\\r\\n    + sea-orm-migration = { version = \\"^0.8.0\\" }\\r\\n    ```\\r\\n3. \u5728\u4f60\u7684 `migration` crate \u4e2d\u67e5\u627e\u5e76\u66ff\u6362 `use sea_schema::migration::` \u4e3a `use sea_orm_migration::`\u3002\\r\\n    ```diff\\r\\n    - use sea_schema::migration::prelude::*;\\r\\n    + use sea_orm_migration::prelude::*;\\r\\n\\r\\n    - use sea_schema::migration::*;\\r\\n    + use sea_orm_migration::*;\\r\\n    ```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8bbe\u8ba1\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Chris Tsang\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u751f\u6210\u65b0\u7684\u8fc1\u79fb\\r\\n\\r\\n[[#656](https://github.com/SeaQL/sea-orm/pull/656)] \u4f60\u53ef\u4ee5\u4f7f\u7528 `migrate generate` \u5b50\u547d\u4ee4\u521b\u5efa\u65b0\u7684\u8fc1\u79fb\u3002\u8fd9\u7b80\u5316\u4e86\u8fc1\u79fb\u8fc7\u7a0b\uff0c\u56e0\u4e3a\u65b0\u7684\u8fc1\u79fb\u4e0d\u518d\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u3002\\r\\n\\r\\n```shell\\r\\n# \u4e00\u4e2a\u8fc1\u79fb\u6587\u4ef6 `MIGRATION_DIR/src/mYYYYMMDD_HHMMSS_create_product_table.rs` \u5c06\u88ab\u521b\u5efa\u3002\\r\\n# \u800c\u4e14\uff0c\u8be5\u8fc1\u79fb\u6587\u4ef6\u5c06\u88ab\u5bfc\u5165\u5e76\u5305\u542b\u5728\u4f4d\u4e8e `MIGRATION_DIR/src/lib.rs` \u7684\u8fc1\u79fb\u5668\u4e2d\u3002\\r\\nsea-orm-cli migrate generate create_product_table\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae & \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/viktorbahr\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/8578264?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Viktor Bahr\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u63d2\u5165\u5e26\u9ed8\u8ba4\u503c\u7684\u8bb0\u5f55\\r\\n\\r\\n[[#589](https://github.com/SeaQL/sea-orm/pull/589)] \u63d2\u5165\u4e00\u884c\u586b\u5145\u9ed8\u8ba4\u503c\u3002\u6ce8\u610f\u76ee\u6807\u8868\u5e94\u4e3a\u6240\u6709\u5217\u5b9a\u4e49\u9ed8\u8ba4\u503c\u3002\\r\\n\\r\\n```rust\\r\\nlet pear = fruit::ActiveModel {\\r\\n    ..Default::default() // \u6240\u6709\u5c5e\u6027\u4e3a `NotSet`\\r\\n};\\r\\n\\r\\n// SQL \u8bed\u53e5\uff1a\\r\\n//   - MySQL: INSERT INTO `fruit` VALUES ()\\r\\n//   - SQLite: INSERT INTO \\"fruit\\" DEFAULT VALUES\\r\\n//   - PostgreSQL: INSERT INTO \\"fruit\\" VALUES (DEFAULT) RETURNING \\"id\\", \\"name\\", \\"cake_id\\"\\r\\nlet pear: fruit::Model = pear.insert(db).await?;\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Crypto-Virus\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/6034171?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Crypto-Virus\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u68c0\u67e5 `ActiveModel` \u662f\u5426\u5df2\u66f4\u6539\\r\\n\\r\\n[[#683](https://github.com/SeaQL/sea-orm/pull/683)] \u4f60\u53ef\u4ee5\u4f7f\u7528 `is_changed` \u65b9\u6cd5\u68c0\u67e5 `ActiveModel` \u4e2d\u662f\u5426\u6709\u4efb\u4f55\u5b57\u6bb5\u88ab `Set`\u3002\\r\\n\\r\\n```rust\\r\\nlet mut fruit: fruit::ActiveModel = Default::default();\\r\\nassert!(!fruit.is_changed());\\r\\n\\r\\nfruit.set(fruit::Column::Name, \\"apple\\".into());\\r\\nassert!(fruit.is_changed());\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kudlatyamroth\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2165237?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Karol Fuksiewicz\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kirawi\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/67773714?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Kirawi\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u5c0f\u578b\u6539\u8fdb\\r\\n\\r\\n- [[#670](https://github.com/SeaQL/sea-orm/pull/670)] \u4e3a `sea-orm-cli generate entity` \u5b50\u547d\u4ee4\u6dfb\u52a0 `max_connections` \u9009\u9879\\r\\n- [[#677](https://github.com/SeaQL/sea-orm/pull/677)] \u4e3a `DbErr` \u884d\u751f `Eq` \u548c `Clone`\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae & \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/benluelo\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/57334811?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    benluelo\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/SebastienGllmt\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2608559?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sebastien Guillemot\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u96c6\u6210\u793a\u4f8b\\r\\n\\r\\nSeaORM \u4e0e\u5f02\u6b65\u751f\u6001\u7cfb\u7edf\u4e2d\u7684\u5176\u4ed6 crate \u517c\u5bb9\u826f\u597d\u3002\u5b83\u53ef\u4ee5\u8f7b\u677e\u4e0e\u5e38\u89c1\u7684 RESTful \u6846\u67b6\u548c gRPC \u6846\u67b6\u96c6\u6210\uff1b\u67e5\u770b\u6211\u4eec\u7684\u65b0 [Tonic \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example) \u4ee5\u4e86\u89e3\u5b83\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002\u6211\u4eec\u9700\u8981\u66f4\u591a\u793a\u4f8b [\u6b22\u8fce](https://github.com/SeaQL/sea-orm/issues/269)\uff01\\r\\n\\r\\n- [Rocket \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example)\\r\\n- [Actix \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example)\\r\\n- [Axum \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example)\\r\\n- [Poem \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example)\\r\\n- [GraphQL \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example)\\r\\n- [jsonrpsee \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example)\\r\\n- [Tonic \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example)\\r\\n\\r\\n## \u8c01\u5728\u4f7f\u7528 SeaORM\uff1f\\r\\n\\r\\n\u4ee5\u4e0b\u4ea7\u54c1\u7531 SeaORM \u63d0\u4f9b\u652f\u6301\uff1a\\r\\n\\r\\n<table>\\r\\n  <tbody>\\r\\n    <tr>\\r\\n      <td><br/><a href=\\"https://caido.io/\\"><img src=\\"https://www.sea-ql.org/SeaORM/img/other/caido-logo.png\\" width=\\"250\\"/></a><br/>\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u7f51\u7edc\u5b89\u5168\u5ba1\u8ba1\u5de5\u5177\u5305</td>\\r\\n      <td><a href=\\"https://www.svix.com/\\"><img src=\\"https://www.sea-ql.org/SeaORM/img/other/svix-logo.svg\\" width=\\"250\\"/></a><br/>\u4f01\u4e1a\u7ea7 Webhook \u670d\u52a1</td>\\r\\n      <td><a href=\\"https://www.spyglass.fyi/\\"><img src=\\"https://www.sea-ql.org/SeaORM/img/other/spyglass-logo.svg\\" width=\\"250\\"/></a><br/>\u4e00\u4e2a\u4e2a\u4eba\u641c\u7d22\u5f15\u64ce</td>\\r\\n    </tr>\\r\\n  </tbody>\\r\\n</table>\\r\\n\\r\\nSeaORM \u662f [StarfishQL](https://github.com/SeaQL/starfish-ql) \u7684\u57fa\u7840\uff0c\u8be5\u9879\u76ee\u662f\u4e00\u4e2a\u5b9e\u9a8c\u6027\u7684\u56fe\u6570\u636e\u5e93\u548c\u67e5\u8be2\u5f15\u64ce\u3002\\r\\n\\r\\n\u6709\u5173\u66f4\u591a\u9879\u76ee\uff0c\u8bf7\u53c2\u89c1 [Built with SeaORM](https://github.com/SeaQL/sea-orm/blob/master/COMMUNITY.md#built-with-seaorm)\u3002\\r\\n\\r\\n## \u8d5e\u52a9\\r\\n\\r\\n\u6211\u4eec\u7684 [GitHub Sponsor](https://github.com/sponsors/SeaQL) \u8d44\u6599\u5df2\u7ecf\u5efa\u7acb\uff01\u5982\u679c\u60a8\u89c9\u5f97\u6177\u6168\uff0c\u4efb\u4f55\u5c0f\u989d\u6350\u6b3e\u90fd\u5c06\u975e\u5e38\u611f\u6fc0\u3002\\r\\n\\r\\n\u611f\u8c22\u6211\u4eec\u7684\u8d5e\u52a9\u5546 \ud83d\ude07\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Zachary Vander Velden\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Dean Sheather\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sakti Dwi Cahyono\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u65e0\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5e76\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002\\r\\n\\r\\n\u8fd9\u662f SeaORM [`0.9.x`](https://github.com/SeaQL/sea-orm/milestone/9) \u7684\u8def\u7ebf\u56fe\u3002\\r\\n\\r\\n## GSoC 2022\\r\\n\\r\\n\u6211\u4eec\u975e\u5e38\u9ad8\u5174\u88ab\u9009\u4e3a 2022 \u5e74 Google \u590f\u5b63\u7f16\u7801\u9879\u76ee\u7684 [\u5bfc\u5e08\u7ec4\u7ec7](https://summerofcode.withgoogle.com/programs/2022/organizations/seaql)\u3002\u7533\u8bf7\u73b0\u5df2\u7ed3\u675f\uff0c\u4f46\u9879\u76ee\u5373\u5c06\u5f00\u59cb\uff01\u5982\u679c\u60a8\u5bf9\u6211\u4eec\u5c06\u5982\u4f55\u5b9e\u65bd [\u9879\u76ee\u60f3\u6cd5](https://github.com/SeaQL/summer-of-code/tree/main/2022) \u6709\u4efb\u4f55\u60f3\u6cd5\uff0c\u6b22\u8fce\u53c2\u4e0e\u8ba8\u8bba\u3002"},{"id":"2022-05-14-faq-01","metadata":{"permalink":"/blog/2022-05-14-faq-01","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-05-14-faq-01.md","source":"@site/blog/2022-05-14-faq-01.md","title":"SeaORM \u5e38\u89c1\u95ee\u9898\u89e3\u7b54.01","description":"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54.01 \u4e3a\u4ec0\u4e48 SeaORM \u4e0d\u4f7f\u7528\u5d4c\u5957\u5bf9\u8c61\u6765\u8868\u793a\u7236\u5b50\u5173\u7cfb\uff1f","date":"2022-05-14T00:00:00.000Z","formattedDate":"May 14, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":2.155,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL \u56e2\u961f","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2022-05-14-faq-01","title":"SeaORM \u5e38\u89c1\u95ee\u9898\u89e3\u7b54.01","author":"Chris Tsang","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"prevItem":{"title":"SeaORM 0.8.0 \u7684\u65b0\u529f\u80fd","permalink":"/blog/2022-05-15-whats-new-in-0.8.0"},"nextItem":{"title":"\u4ecb\u7ecd StarfishQL","permalink":"/blog/2022-04-04-introducing-starfish-ql"}},"content":"## \u5e38\u89c1\u95ee\u9898\u89e3\u7b54.01 \u4e3a\u4ec0\u4e48 SeaORM \u4e0d\u4f7f\u7528\u5d4c\u5957\u5bf9\u8c61\u6765\u8868\u793a\u7236\u5b50\u5173\u7cfb\uff1f\\r\\n\\r\\n```rust\\r\\nlet cake_with_fruits: Vec<(cake::Model, Vec<fruit::Model>)> =\\r\\n    Cake::find().find_with_related(Fruit).all(db).await?;\\r\\n```\\r\\n\\r\\n\u8003\u8651\u4e0a\u9762\u7684 API\uff0c`Cake` \u548c `Fruit` \u662f\u4e24\u4e2a\u72ec\u7acb\u7684\u6a21\u578b\u3002\\r\\n\\r\\n\u5982\u679c\u4f60\u6765\u81ea\u52a8\u6001\u8bed\u8a00\uff0c\u4f60\u53ef\u80fd\u4e60\u60ef\u4e8e\uff1a\\r\\n\\r\\n```rust\\r\\nstruct Cake {\\r\\n    id: u64,\\r\\n    fruit: Fruit,\\r\\n    ..\\r\\n}\\r\\n```\\r\\n\\r\\n\u8fd9\u6837\u5f88\u65b9\u4fbf\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u5730\uff1a\\r\\n\\r\\n```rust\\r\\nlet cake = Cake::find().one(db).await?;\\r\\nprintln!(\\"Fruit = {}\\", cake.fruit.name);\\r\\n```\\r\\n\\r\\n\u662f\u4e0d\u662f\u5f88\u751c\u871c\uff1f\u597d\u5427\uff0c\u8fd9\u79cd\u6a21\u5f0f\u7684\u95ee\u9898\u5728\u4e8e\u5b83\u4e0e Rust \u4e0d\u592a\u5951\u5408\u3002\\r\\n\\r\\n\u6211\u4eec\u6765\u770b\u770b\u8fd9\u4e2a\u6e38\u4e50\u573a\uff1a https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=6fb0a981189ace081fbb2aa04f50146b\\r\\n\\r\\n```rust\\r\\nstruct Parent {\\r\\n    a: u64,\\r\\n    child: Option<Child>,\\r\\n}\\r\\n\\r\\nstruct ParentWithBox {\\r\\n    a: u64,\\r\\n    child: Option<Box<Child>>,\\r\\n}\\r\\n\\r\\nstruct Child {\\r\\n    a: u64,\\r\\n    b: u64,\\r\\n    c: u64,\\r\\n    d: u64,\\r\\n}\\r\\n\\r\\nfn main() {\\r\\n    dbg!(std::mem::size_of::<Parent>());\\r\\n    dbg!(std::mem::size_of::<ParentWithBox>());\\r\\n    dbg!(std::mem::size_of::<Child>());\\r\\n}\\r\\n```\\r\\n\\r\\n\u4f60\u731c\u4f1a\u8f93\u51fa\u4ec0\u4e48\uff1f\\r\\n\\r\\n```log\\r\\n[src/main.rs:21] std::mem::size_of::<Parent>() = 48\\r\\n[src/main.rs:22] std::mem::size_of::<ParentWithBox>() = 16\\r\\n[src/main.rs:23] std::mem::size_of::<Child>() = 32\\r\\n```\\r\\n\\r\\n\u5728\u52a8\u6001\u8bed\u8a00\u4e2d\uff0c\u5bf9\u8c61\u603b\u662f\u7531\u6307\u9488\u6301\u6709\uff0c\u8fd9\u6620\u5c04\u5230 Rust \u4e2d\u7684 `Box`\u3002\u5728 Rust \u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u4e0d\u628a\u5bf9\u8c61\u653e\u8fdb `Box`\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u5f3a\u5236\u5bf9\u8c61\u5728\u5806\u4e0a\u5206\u914d\u5185\u5b58\u3002\u8fd9\u662f\u989d\u5916\u7684\u6210\u672c\uff01\u56e0\u4e3a\u5bf9\u8c61\u603b\u662f\u5148\u5728\u6808\u4e0a\u6784\u9020\uff0c\u7136\u540e\u518d\u88ab\u590d\u5236\u5230\u5806\u4e0a\u3002\\r\\n\\r\\n\u53c2\u8003\u6587\u732e\uff1a\\r\\n1. https://users.rust-lang.org/t/how-to-create-large-objects-directly-in-heap/26405\\r\\n2. https://github.com/PoignardAzur/placement-by-return/blob/placement-by-return/text/0000-placement-by-return.md\\r\\n\\r\\n\u6211\u4eec\u9762\u4e34\u7684\u56f0\u5883\u662f\uff0c\u8981\u4e48\u628a\u5bf9\u8c61\u653e\u5728\u6808\u4e0a\u5e76\u6d6a\u8d39\u4e00\u4e9b\u7a7a\u95f4\uff08\u65e0\u8bba `child` \u662f\u5426\u4e3a `None`\uff0c\u90fd\u5360\u7528 48 \u5b57\u8282\uff09\uff0c\u8981\u4e48\u628a\u5bf9\u8c61\u653e\u5728\u76d2\u5b50\u91cc\u5e76\u6d6a\u8d39\u4e00\u4e9b\u5468\u671f\u3002\\r\\n\\r\\n\u5982\u679c\u4f60\u5bf9 Rust \u4e0d\u719f\u6089\uff0c\u8fd9\u4e9b\u53ef\u80fd\u6bd4\u8f83\u964c\u751f\uff0c\u4f46 Rust \u7a0b\u5e8f\u5458\u5fc5\u987b\u6709\u610f\u8bc6\u5730\u505a\u51fa\u5185\u5b58\u7ba1\u7406\u7684\u51b3\u7b56\uff0c\u6211\u4eec\u4e0d\u60f3\u66ff\u7528\u6237\u505a\u51fa\u51b3\u7b56\u3002\\r\\n\\r\\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u66fe\u7ecf\u6709\u63d0\u6848\u5efa\u8bae\u5c06\u8fd9\u79cd\u98ce\u683c\u7684 API \u6dfb\u52a0\u5230 SeaORM\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u5728\u672a\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002\u5e0c\u671b\u8fd9\u80fd\u5728\u6b64\u671f\u95f4\u5bf9\u8fd9\u4e2a\u95ee\u9898\u6709\u6240\u5e2e\u52a9\u3002"},{"id":"2022-04-04-introducing-starfish-ql","metadata":{"permalink":"/blog/2022-04-04-introducing-starfish-ql","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-04-04-introducing-starfish-ql.md","source":"@site/blog/2022-04-04-introducing-starfish-ql.md","title":"\u4ecb\u7ecd StarfishQL","description":"\u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u5411 Rust \u793e\u533a\u4ecb\u7ecd StarfishQL\u3002StarfishQL \u662f\u4e00\u4e2a\u56fe\u6570\u636e\u5e93\u548c\u67e5\u8be2\u5f15\u64ce\uff0c\u7528\u4e8e\u5728 web \u4e0a\u8fdb\u884c\u56fe\u5206\u6790\u548c\u53ef\u89c6\u5316\u3002\u5b83\u662f\u4e00\u4e2a\u5b9e\u9a8c\u6027\u9879\u76ee\uff0c\u4e3b\u8981\u76ee\u7684\u662f\u63a2\u7d22\u5728 crates.io \u4e0a\u53d1\u5e03\u7684 Rust crates \u7684\u4f9d\u8d56\u5173\u7cfb\u7f51\u7edc\u3002","date":"2022-04-04T00:00:00.000Z","formattedDate":"April 4, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":9.75,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-04-04-introducing-starfish-ql","title":"\u4ecb\u7ecd StarfishQL","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"SeaORM \u5e38\u89c1\u95ee\u9898\u89e3\u7b54.01","permalink":"/blog/2022-05-14-faq-01"},"nextItem":{"title":"SeaORM 0.7.0 \u6709\u54ea\u4e9b\u65b0\u529f\u80fd","permalink":"/blog/2022-03-26-whats-new-in-0.7.0"}},"content":"\u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u5411 Rust \u793e\u533a\u4ecb\u7ecd [StarfishQL](https://www.sea-ql.org/StarfishQL/)\u3002StarfishQL \u662f\u4e00\u4e2a\u56fe\u6570\u636e\u5e93\u548c\u67e5\u8be2\u5f15\u64ce\uff0c\u7528\u4e8e\u5728 web \u4e0a\u8fdb\u884c\u56fe\u5206\u6790\u548c\u53ef\u89c6\u5316\u3002\u5b83\u662f\u4e00\u4e2a\u5b9e\u9a8c\u6027\u9879\u76ee\uff0c\u4e3b\u8981\u76ee\u7684\u662f\u63a2\u7d22\u5728 crates.io \u4e0a\u53d1\u5e03\u7684 Rust crates \u7684\u4f9d\u8d56\u5173\u7cfb\u7f51\u7edc\u3002\\r\\n\\r\\n## \u52a8\u673a\\r\\n\\r\\nStarfishQL \u662f\u4e00\u4e2a\u63d0\u4f9b\u56fe\u6570\u636e\u5e93\u548c\u4e0e\u4e4b\u4ea4\u4e92\u7684\u56fe\u67e5\u8be2\u5f15\u64ce\u7684\u6846\u67b6\u3002\\r\\n\\r\\n\u4f7f\u7528\u6d89\u53ca [crates.io](https://crates.io/) \u4e0a crate \u4f9d\u8d56\u5173\u7cfb\u7684\u5177\u4f53\u793a\u4f8b\uff08Freeport\uff09\u8fdb\u884c\u8bf4\u660e\u3002\u901a\u8fc7\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u4f60\u53ef\u4ee5\u770b\u5230 StarfishQL \u7684\u5b9e\u9645\u5e94\u7528\u3002\\r\\n\\r\\n\u6700\u7ec8\uff0c\u6211\u4eec\u5173\u6ce8\u7684\u662f\u6267\u884c\u56fe\u5206\u6790\uff0c\u4e5f\u5c31\u662f\u4ece\u666e\u901a\u7684\u56fe\u6570\u636e\u4e2d\u63d0\u53d6\u6709\u610f\u4e49\u7684\u4fe1\u606f\u3002\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u8ba4\u4e3a\u53ef\u89c6\u5316\u662f\u4e00\u4e2a\u81f3\u5173\u91cd\u8981\u7684\u8f85\u52a9\u5de5\u5177\u3002\\r\\n\\r\\nStarfishQL \u7684\u67e5\u8be2\u5f15\u64ce\u65e8\u5728\u80fd\u591f\u901a\u8fc7\u7075\u6d3b\u7684\u67e5\u8be2\u8bed\u8a00\u6765\u878d\u5165\u4e0d\u540c\u5f62\u5f0f\u7684\u53ef\u89c6\u5316\u3002\u7136\u800c\uff0c\u9879\u76ee\u7684\u5f00\u53d1\u4e3b\u8981\u96c6\u4e2d\u5728\u4ee5\u4e0b\u65b9\u9762\uff0c\u6b63\u5982\u6211\u4eec\u5728 [demo apps](https://starfish-ql.sea-ql.org/) \u4e2d\u5c55\u793a\u7684\u90a3\u6837\u3002\\r\\n\\r\\n<div className=\\"row\\" id=\\"colourful-graphs\\">\\r\\n    <div className=\\"col col--6 margin-bottom--md\\">\\r\\n        <div className=\\"card item shadow--lw\\">\\r\\n            <div className=\\"card__header\\">\\r\\n                <a href=\\"https://starfish-ql.sea-ql.org/graph.html\\">\\r\\n                    <h3>\u524d N \u4e2a\u4f9d\u8d56\u5173\u7cfb</h3>\\r\\n                </a>\\r\\n            </div>\\r\\n            <div className=\\"card__body\\">\\r\\n                <img src=\\"https://www.sea-ql.org/StarfishQL/img/graph.png\\" />\\r\\n                <p>\u4ece N \u4e2a\u6700\u8fde\u63a5\u7684\u8282\u70b9\u5f00\u59cb\uff0c\u6b63\u5e38\u65b9\u5411\u904d\u5386\u4f9d\u8d56\u56fe\u3002</p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div className=\\"col col--6 margin-bottom--md\\">\\r\\n        <div className=\\"card item shadow--lw\\">\\r\\n            <div className=\\"card__header\\">\\r\\n                <a href=\\"https://starfish-ql.sea-ql.org/tree.html\\">\\r\\n                    <h3>\u4f9d\u8d56\u5173\u7cfb\u4e0e\u88ab\u4f9d\u8d56\u5173\u7cfb</h3>\\r\\n                </a>\\r\\n            </div>\\r\\n            <div className=\\"card__body\\">\\r\\n                <img src=\\"https://www.sea-ql.org/StarfishQL/img/tree.png\\" />\\r\\n                <p>\u4ece\u7279\u5b9a\u8282\u70b9\u5f00\u59cb\uff0c\u5728\u524d\u5411\u548c\u53cd\u5411\u65b9\u5411\u904d\u5386\u4f9d\u8d56\u6811\u3002</p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u8bbe\u8ba1\\r\\n\\r\\n\u4e00\u822c\u6765\u8bf4\uff0c\u67e5\u8be2\u5f15\u64ce\u63a5\u6536\u7528\u7279\u5b9a\u67e5\u8be2\u8bed\u8a00\uff08\u4f8b\u5982 SQL \u8bed\u53e5\uff09\u7f16\u5199\u7684\u8f93\u5165\u67e5\u8be2\uff0c\u5728\u6570\u636e\u5e93\u4e2d\u6267\u884c\u5fc5\u8981\u7684\u64cd\u4f5c\uff0c\u7136\u540e\u5c06\u7528\u6237\u5e94\u7528\u7a0b\u5e8f\u611f\u5174\u8da3\u7684\u6570\u636e\u8f93\u51fa\u3002\u4f60\u4e5f\u53ef\u4ee5\u5c06\u67e5\u8be2\u5f15\u64ce\u89c6\u4e3a\u4e00\u4e2a\u62bd\u8c61\u5c42\uff0c\u7528\u6237\u53ef\u4ee5\u4ec5\u4f7f\u7528\u652f\u6301\u7684\u67e5\u8be2\u8bed\u8a00\u8bbe\u8ba1\u67e5\u8be2\uff0c\u5e76\u8ba9\u67e5\u8be2\u5f15\u64ce\u5904\u7406\u5176\u4f59\u90e8\u5206\u3002\\r\\n\\r\\n\u5728\u56fe\u67e5\u8be2\u5f15\u64ce\u7684\u60c5\u51b5\u4e0b\uff0c\u8f93\u51fa\u6570\u636e\u662f\u4e00\u4e2a\u56fe\uff08[wiki](https://en.wikipedia.org/wiki/Graph_(abstract_data_type) )\uff09\u3002\\r\\n\\r\\n![\u56fe\u67e5\u8be2\u5f15\u64ce\u6982\u8ff0](https://www.sea-ql.org/StarfishQL/img/graph_query_engine_overview.png)\\r\\n\\r\\n\u5728 StarfishQL \u7684\u60c5\u51b5\u4e0b\uff0c\u67e5\u8be2\u8bed\u8a00\u662f\u6211\u4eec\u5728 JSON \u683c\u5f0f\u4e2d\u5b9a\u4e49\u7684\u81ea\u5b9a\u4e49\u8bed\u8a00\uff0c\u8fd9\u4f7f\u5f97\u5f15\u64ce\u5177\u6709\u9ad8\u5ea6\u7684\u53ef\u8bbf\u95ee\u6027\u548c\u53ef\u79fb\u690d\u6027\u3002\\r\\n\\r\\n## \u5b9e\u73b0\\r\\n\\r\\n\u5728 Freeport \u7684\u793a\u4f8b\u4e2d\uff0cStarfishQL \u7531\u4ee5\u4e0b\u4e09\u4e2a\u7ec4\u4ef6\u7ec4\u6210\u3002\\r\\n\\r\\n### \u56fe\u67e5\u8be2\u5f15\u64ce\\r\\n\\r\\n\u4f5c\u4e3a StarfishQL \u7684\u6838\u5fc3\u7ec4\u4ef6\uff0c\u56fe\u67e5\u8be2\u5f15\u64ce\u662f\u4e00\u4e2a\u57fa\u4e8e [Rocket](https://crates.io/crates/rocket) web \u6846\u67b6\u548c [SeaQL \u751f\u6001\u7cfb\u7edf](https://github.com/SeaQL) \u7684 Rust \u540e\u7aef\u5e94\u7528\u7a0b\u5e8f\u3002\\r\\n\\r\\n\u5f15\u64ce\u5728\u4ee5\u4e0b\u7aef\u70b9\u76d1\u542c\u76f8\u5e94\u7684\u64cd\u4f5c\uff1a\\r\\n- `/schema` - [\u5b9a\u4e49/\u91cd\u7f6e\u6a21\u5f0f](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/defining-graph-schema)\\r\\n- `/mutate` - [\u6267\u884c\u53d8\u5f02\u64cd\u4f5c](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/mutate-operations)\\r\\n- `/query` - [\u6267\u884c\u67e5\u8be2](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/querying-graph-data)\\r\\n\\r\\n\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7f16\u7a0b\u8c03\u7528\u4e0a\u8ff0\u7aef\u70b9\u3002\\r\\n\\r\\n\u56fe\u6570\u636e\u5b58\u50a8\u5728\u5173\u7cfb\u6570\u636e\u5e93\u4e2d\uff1a\\r\\n- [\u5143\u6570\u636e](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/data-storage) - \u6bcf\u4e2a\u5b9e\u4f53\u548c\u5173\u7cfb\u7684\u5b9a\u4e49\uff0c\u4f8b\u5982 crates \u7684\u5c5e\u6027\u548c\u4f9d\u8d56\u5173\u7cfb\\r\\n- [\u8282\u70b9\u6570\u636e](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/data-storage#storage-of-entities) - \u5b9e\u4f53\u7684\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u4f8b\u5982 crate \u540d\u79f0\u548c\u7248\u672c\u53f7\\r\\n- [\u8fb9\u6570\u636e](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/data-storage#storage-of-relations) - \u5173\u7cfb\u7684\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u4f8b\u5982\u4e00\u4e2a crate \u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a crate\\r\\n\\r\\n### crates.io \u722c\u866b\\r\\n\\r\\n\u4e3a\u4e86\u83b7\u5f97\u8981\u63d2\u5165\u6570\u636e\u5e93\u7684 crate \u6570\u636e\uff0c\u6211\u4eec\u5728 crates.io \u7684\u516c\u5171\u7d22\u5f15\u5e93\u7684\u672c\u5730\u514b\u9686\u4e0a\u4f7f\u7528\u4e86\u4e00\u4e2a [\u5feb\u901f\u3001\u65e0\u5e72\u6270\u7684\u722c\u866b](https://www.sea-ql.org/StarfishQL/docs/architecture-of-crates-io-crawler/overview)\u3002\\r\\n\\r\\n### \u56fe\u53ef\u89c6\u5316\\r\\n\\r\\n\u6211\u4eec\u4f7f\u7528 [`d3.js`](https://d3js.org/) \u521b\u5efa\u4e86\u529b\u5bfc\u5411\u56fe\u4ee5\u663e\u793a\u7ed3\u679c\u3002\u4e0a\u6587\u4e2d\u7684\u4e24\u4e2a [\u4e94\u5f69\u6591\u6593\u7684\u56fe\u8868](#colourful-graphs) \u5c31\u662f\u8fd9\u79cd\u4ea7\u54c1\u3002\\r\\n\\r\\n## \u53d1\u73b0\\r\\n\\r\\n\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53d1\u73b0\u4e86\u4e00\u4e9b\u6709\u8da3\u7684\u7ed3\u679c\u3002\\r\\n\\r\\n<div className=\\"row\\">\\r\\n    <div className=\\"col col--12 margin-bottom--md\\">\\r\\n        <div className=\\"card item shadow--lw\\">\\r\\n            <div className=\\"card__header\\">\\r\\n                <h3>\u524d 10 \u4e2a\u4f9d\u8d56\u5173\u7cfb</h3>\\r\\n            </div>\\r\\n            <div className=\\"card__body\\">\\r\\n                <p>\u6309\u4e0d\u540c\u7684 <a href=\\"https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/calculating-node-connectivity/#weight-decay-factors\\">\u8870\u51cf\u6a21\u5f0f</a> \u6392\u5e8f\u7684\u524d 10 \u4e2a crates \u5217\u8868\u3002</p>\\r\\n                <div className=\\"row row--no-gutters\\">\\r\\n                    <div className=\\"col col--4 padding-left--none padding-right--none\\">\\r\\n                        <table>\\r\\n                            <thead>\\r\\n                                <tr>\\r\\n                                    <th colspan=\\"2\\">\u8870\u51cf\u6a21\u5f0f\uff1a\u5373\u65f6 / \u7b80\u5355\u8fde\u63a5\u6027</th>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <th>crate</th>\\r\\n                                    <th>\u8fde\u63a5\u6027</th>\\r\\n                                </tr>\\r\\n                            </thead>\\r\\n                            <tbody>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/serde\\" target=\\"_blank\\">serde</a></td>\\r\\n                                    <td>17,441</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/serde_json\\" target=\\"_blank\\">serde_json</a></td>\\r\\n                                    <td>10,528</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/log\\" target=\\"_blank\\">log</a></td>\\r\\n                                    <td>9,220</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/clap\\" target=\\"_blank\\">clap</a></td>\\r\\n                                    <td>6,323</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/thiserror\\" target=\\"_blank\\">thiserror</a></td>\\r\\n                                    <td>5,547</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/rand\\" target=\\"_blank\\">rand</a></td>\\r\\n                                    <td>5,340</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/futures\\" target=\\"_blank\\">futures</a></td>\\r\\n                                    <td>5,263</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/lazy_static\\" target=\\"_blank\\">lazy_static</a></td>\\r\\n                                    <td>5,211</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/tokio\\" target=\\"_blank\\">tokio</a></td>\\r\\n                                    <td>5,168</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/chrono\\" target=\\"_blank\\">chrono</a></td>\\r\\n                                    <td>4,794</td>\\r\\n                                </tr>\\r\\n                            </tbody>\\r\\n                        </table>\\r\\n                    </div>\\r\\n                    <div className=\\"col col--4 padding-left--none padding-right--none\\">\\r\\n                        <table>\\r\\n                            <thead>\\r\\n                                <tr>\\r\\n                                    <th colspan=\\"2\\">\u8870\u51cf\u6a21\u5f0f\uff1a\u4e2d\uff08.5\uff09/ \u590d\u6742\u8fde\u63a5\u6027</th>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <th>crate</th>\\r\\n                                    <th>\u8fde\u63a5\u6027</th>\\r\\n                                </tr>\\r\\n                            </thead>\\r\\n                            <tbody>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/quote\\" target=\\"_blank\\">quote</a></td>\\r\\n                                    <td>4,126</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/syn\\" target=\\"_blank\\">syn</a></td>\\r\\n                                    <td>4,069</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/pure-rust-locales\\" target=\\"_blank\\">pure-rust-locales</a></td>\\r\\n                                    <td>4,067</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/reqwest\\" target=\\"_blank\\">reqwest</a></td>\\r\\n                                    <td>3,950</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/proc-macro2\\" target=\\"_blank\\">proc-macro2</a></td>\\r\\n                                    <td>3,743</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/num_threads\\" target=\\"_blank\\">num_threads</a></td>\\r\\n                                    <td>3,555</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/value-bag\\" target=\\"_blank\\">value-bag</a></td>\\r\\n                                    <td>3,506</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/futures-macro\\" target=\\"_blank\\">futures-macro</a></td>\\r\\n                                    <td>3,455</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/time-macros\\" target=\\"_blank\\">time-macros</a></td>\\r\\n                                    <td>3,450</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/thiserror-impl\\" target=\\"_blank\\">thiserror-impl</a></td>\\r\\n                                    <td>3,416</td>\\r\\n                                </tr>\\r\\n                            </tbody>\\r\\n                        </table>\\r\\n                    </div>\\r\\n                    <div className=\\"col col--4 padding-left--none padding-right--none\\">\\r\\n                        <table>\\r\\n                            <thead>\\r\\n                                <tr>\\r\\n                                    <th colspan=\\"2\\">\u8870\u51cf\u6a21\u5f0f\uff1a\u65e0 / \u590d\u5408\u8fde\u63a5\u6027</th>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <th>crate</th>\\r\\n                                    <th>\u8fde\u63a5\u6027</th>\\r\\n                                </tr>\\r\\n                            </thead>\\r\\n                            <tbody>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/unicode-xid\\" target=\\"_blank\\">unicode-xid</a></td>\\r\\n                                    <td>54,982</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/proc-macro2\\" target=\\"_blank\\">proc-macro2</a></td>\\r\\n                                    <td>54,949</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/quote\\" target=\\"_blank\\">quote</a></td>\\r\\n                                    <td>54,910</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/syn\\" target=\\"_blank\\">syn</a></td>\\r\\n                                    <td>54,744</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/rustc-std-workspace-core\\" target=\\"_blank\\">rustc-std-workspace-core</a></td>\\r\\n                                    <td>51,650</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/libc\\" target=\\"_blank\\">libc</a></td>\\r\\n                                    <td>51,645</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/serde_derive\\" target=\\"_blank\\">serde_derive</a></td>\\r\\n                                    <td>51,056</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/serde\\" target=\\"_blank\\">serde</a></td>\\r\\n                                    <td>51,054</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/jobserver\\" target=\\"_blank\\">jobserver</a></td>\\r\\n                                    <td>50,567</td>\\r\\n                                </tr>\\r\\n                                <tr>\\r\\n                                    <td><a href=\\"https://crates.io/crates/cc\\" target=\\"_blank\\">cc</a></td>\\r\\n                                    <td>50,566</td>\\r\\n                                </tr>\\r\\n                            </tbody>\\r\\n                        </table>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <p>\\r\\n                    \u5982\u679c\u6211\u4eec\u67e5\u770b <i>\u8870\u51cf\u6a21\u5f0f\uff1a\u5373\u65f6</i>\uff0c\u8fde\u63a5\u6027\u4ec5\u4ec5\u662f <b>\u76f4\u63a5\u88ab\u4f9d\u8d56\u7684\u6570\u91cf</b>\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\\r\\n                    <a href=\\"https://crates.io/crates/serde\\" target=\\"_blank\\"><code>serde</code></a> \u548c <a href=\\"https://crates.io/crates/serde_json\\" target=\\"_blank\\"><code>serde_json</code></a> \u4f4d\u4e8e\u9996\u4f4d\u3002\u6211\u60f3\u8fd9\u652f\u6301\u4e86\u6211\u4eec\u5728 JSON \u4e2d\u5b9a\u4e49\u67e5\u8be2\u8bed\u8a00\u7684\u51b3\u5b9a\u3002\\r\\n                </p>\\r\\n                <p>\\r\\n                    <i>\u8870\u51cf\u6a21\u5f0f\uff1a\u65e0</i> \u5219\u8bb2\u8ff0\u4e86\u53e6\u4e00\u4e2a\u6709\u8da3\u7684\u6545\u4e8b\uff1a\u5f53\u8fde\u63a5\u6027\u662f <b>\u6574\u4e2a\u4f9d\u8d56\u6811</b> \u65f6\uff0c\u6211\u4eec\u6b63\u5728\u5173\u6ce8\u90a3\u4e9b\u6df1\u85cf\u5728\u8bb8\u591a crates \u4e4b\u4e2d\u7684\u6838\u5fc3 crates\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u8fd9\u4e9b\u662f\u4e0e\u6700\u591a crates \u4e00\u8d77\u6784\u5efa\u7684 crate\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0e Rust \u66f4\u57fa\u672c\u7684\u4f4e\u7ea7\u65b9\u9762\u4ea4\u4e92\u7684\u5de5\u5177 crate \u6392\u540d\u66f4\u9ad8\uff0c\u4f8b\u5982 <a href=\\"https://crates.io/crates/quote\\" target=\\"_blank\\"><code>quote</code></a> \u5177\u6709\u5173\u8054\u8bed\u6cd5\u6811\uff0c<a href=\\"https://crates.io/crates/proc-macro2\\" target=\\"_blank\\"><code>proc-macro2</code></a> \u63d0\u4f9b\u7a0b\u5e8f\u5b8f\uff0c\u4ee5\u53ca <a href=\\"https://crates.io/crates/unicode-xid\\" target=\\"_blank\\"><code>unicode-xid</code></a> \u8fdb\u884c Unicode \u68c0\u67e5\u3002\\r\\n                </p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div className=\\"row\\">\\r\\n    <div className=\\"col col--12 margin-bottom--md\\">\\r\\n        <div className=\\"card item shadow--lw\\">\\r\\n            <div className=\\"card__header\\">\\r\\n                <h3>\u6ca1\u6709\u4f9d\u8d56\u5173\u7cfb\u7684 crates \u6570\u91cf</h3>\\r\\n            </div>\\r\\n            <div className=\\"card__body\\">\\r\\n                <p>19,369 \u4e2a crates \u4e2d\u6ca1\u6709\u4f9d\u8d56\u4e8e\u4efb\u4f55 crates\uff0c79,972 \u4e2a crates \u603b\u6570\u4e2d\uff0c\u5360 24%\u3002</p>\\r\\n                <p>\\r\\n                    \u4f8b\u5982\uff1a&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/a\\" target=\\"_blank\\">a</a>,&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/a-\\" target=\\"_blank\\">a-</a>,&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/a0\\" target=\\"_blank\\">a0</a>,&nbsp;\\r\\n                    ...,&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/zyx_test\\" target=\\"_blank\\">zyx_test</a>,&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/zz-buffer\\" target=\\"_blank\\">zz-buffer</a>,&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/z_table\\" target=\\"_blank\\">z_table</a>\\r\\n                </p>\\r\\n                <p>\u6362\u53e5\u8bdd\u8bf4\uff0c\u5927\u7ea6 76% \u7684 crates \u7ad9\u5728\u5de8\u4eba\u7684\u80a9\u8180\u4e0a\uff01\ud83d\udcaa</p>\\r\\n                <img src=\\"https://www.sea-ql.org/StarfishQL/img/crate_without_dependency_count.png\\" />\\r\\n                <img src=\\"https://www.sea-ql.org/StarfishQL/img/crate_without_dependency_percentage.png\\" />\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div className=\\"row\\">\\r\\n    <div className=\\"col col--12 margin-bottom--md\\">\\r\\n        <div className=\\"card item shadow--lw\\">\\r\\n            <div className=\\"card__header\\">\\r\\n                <h3>\u6ca1\u6709\u88ab\u4f9d\u8d56\u5173\u7cfb\u7684 crates \u6570\u91cf</h3>\\r\\n            </div>\\r\\n            <div className=\\"card__body\\">\\r\\n                <p>53,910 \u4e2a crates \u4e2d\u6ca1\u6709\u5176\u4ed6 crates \u4f9d\u8d56\u4e8e\u5b83\u4eec\uff0c\u5360 79,972 \u4e2a crates \u603b\u6570\u7684 67%\u3002</p>\\r\\n                <p>\\r\\n                    \u4f8b\u5982\uff1a&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/a\\" target=\\"_blank\\">a</a>,&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/a-\\" target=\\"_blank\\">a-</a>,&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/a-bot\\" target=\\"_blank\\">a-bot</a>,&nbsp;\\r\\n                    ...,&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/zzp-tools\\" target=\\"_blank\\">zzp-tools</a>,&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/zzz\\" target=\\"_blank\\">zzz</a>,&nbsp;\\r\\n                    <a href=\\"https://crates.io/crates/z_table\\" target=\\"_blank\\">z_table</a>\\r\\n                </p>\\r\\n                <p>\u6211\u4eec\u60f3\u8c61\u8bb8\u591a\u8fd9\u4e9b crates \u662f\u4e8c\u8fdb\u5236/\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5982\u679c\u6211\u4eec\u80fd\u627e\u51fa\u68c0\u67e5\u65b9\u6cd5\u5c31\u597d\u4e86\u2026\u2026\ud83e\udd14</p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n*\u622a\u81f3 2022 \u5e74 3 \u6708 30 \u65e5*\\r\\n\\r\\n## \u7ed3\u8bba\\r\\n\\r\\nStarfishQL \u5141\u8bb8\u7075\u6d3b\u548c\u53ef\u79fb\u690d\u7684\u5b9a\u4e49\u3001\u64cd\u4f5c\u3001\u68c0\u7d22\u548c\u53ef\u89c6\u5316\u56fe\u6570\u636e\u3002\\r\\n\\r\\n\u7528 Rust \u6784\u5efa\u7684\u56fe\u67e5\u8be2\u5f15\u64ce\u4e3a\u4efb\u4f55 web \u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u4e86\u4e00\u4e2a\u826f\u597d\u7684\u63a5\u53e3\uff0c\u4ee5\u7a33\u5b9a\u7684\u6027\u80fd\u548c\u5185\u5b58\u5b89\u5168\u8bbf\u95ee\u5173\u7cfb\u56fe\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u3002\\r\\n\\r\\n\u53ef\u4ee5\u80af\u5b9a\u5730\u8bf4\uff0cStarfishQL \u4ecd\u5904\u4e8e\u8d77\u6b65\u9636\u6bb5\uff0c\u56e0\u6b64\u8bbe\u8ba1\u548c\u5b9e\u73b0\u4e2d\u7684\u6bcf\u4e2a\u7ec6\u8282\u90fd\u53ef\u80fd\u53d1\u751f\u53d8\u5316\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u50cf\u6240\u6709\u5176\u4ed6\u7531\u4f18\u79c0 Rust \u5f00\u53d1\u8005\u5f00\u53d1\u7684\u5f00\u6e90\u9879\u76ee\u4e00\u6837\uff0c\u5982\u679c\u4f60\u4e5f\u89c9\u5f97\u8fd9\u4e2a\u6982\u5ff5\u6709\u8da3\uff0c\u4f60\u53ef\u4ee5\u4e3a\u5b83\u4f5c\u51fa\u8d21\u732e\u3002\u968f\u7740\u5176\u52a0\u5165 [SeaQL \u751f\u6001\u7cfb\u7edf](https://www.sea-ql.org/SeaORM/)\uff0c\u6211\u4eec\u66f4\u63a5\u8fd1 Rust \u6570\u636e\u5de5\u7a0b\u7684\u613f\u666f\u3002\\r\\n\\r\\n## \u4eba\u5458\\r\\n\\r\\nStarfishQL \u7531\u4ee5\u4e0b SeaQL \u56e2\u961f\u6210\u5458\u521b\u5efa\uff1a\\r\\n\\r\\n<div className=\\"container\\">\\r\\n    <div className=\\"row\\">\\r\\n        <div className=\\"col col--3 margin-bottom--md\\">\\r\\n            <div className=\\"avatar\\">\\r\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n                </a>\\r\\n                <div className=\\"avatar__intro\\">\\r\\n                    <div className=\\"avatar__name\\">\\r\\n                        Chris Tsang\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div className=\\"col col--3 margin-bottom--md\\">\\r\\n            <div className=\\"avatar\\">\\r\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n                </a>\\r\\n                <div className=\\"avatar__intro\\">\\r\\n                    <div className=\\"avatar__name\\">\\r\\n                        Billy Chan\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div className=\\"col col--3 margin-bottom--md\\">\\r\\n            <div className=\\"avatar\\">\\r\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shpun817\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/47468266?v=4\\" />\\r\\n                </a>\\r\\n                <div className=\\"avatar__intro\\">\\r\\n                    <div className=\\"avatar__name\\">\\r\\n                        Sanford Pun\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u8d21\u732e\\r\\n\\r\\n\u6211\u4eec\u975e\u5e38\u9ad8\u5174\u88ab\u9009\u4e3a\u8c37\u6b4c\u590f\u5b63\u7f16\u7801 2022 \u7684\u5bfc\u5e08\u7ec4\u7ec7\uff01\\r\\n\\r\\nStarfishQL \u662f [GSoC\u9879\u76ee\u521b\u610f](https://github.com/SeaQL/summer-of-code/blob/main/2022/README.md#2-a-graph-database-and-query-engine-codename-starfishql-for-graph-analysis-and-visualization)\u4e4b\u4e00\uff0c\u73b0\u5f00\u653e\u5f00\u53d1\u63d0\u6848\u3002\u901a\u8fc7\u9075\u5faa [GSoC \u8d21\u732e\u6307\u5357](https://github.com/SeaQL/summer-of-code/blob/main/2022/CONTRIBUTING.md) \u7684\u8bf4\u660e\uff0c\u52a0\u5165\u6211\u4eec\u7684 GSoC 2022\u3002"},{"id":"2022-03-26-whats-new-in-0.7.0","metadata":{"permalink":"/blog/2022-03-26-whats-new-in-0.7.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-03-26-whats-new-in-0.7.0.md","source":"@site/blog/2022-03-26-whats-new-in-0.7.0.md","title":"SeaORM 0.7.0 \u6709\u54ea\u4e9b\u65b0\u529f\u80fd","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\u4eca\u5929\u53d1\u5e03 SeaORM 0.7.0\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a","date":"2022-03-26T00:00:00.000Z","formattedDate":"March 26, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":5.77,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-03-26-whats-new-in-0.7.0","title":"SeaORM 0.7.0 \u6709\u54ea\u4e9b\u65b0\u529f\u80fd","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"\u4ecb\u7ecd StarfishQL","permalink":"/blog/2022-04-04-introducing-starfish-ql"},"nextItem":{"title":"Google Summer of Code 2022","permalink":"/blog/gsoc-2022"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\u4eca\u5929\u53d1\u5e03 SeaORM [`0.7.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.7.0)\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a\\r\\n\\r\\n## \u901a\u8fc7 JSON \u66f4\u65b0 ActiveModel\\r\\n\\r\\n[[#492](https://github.com/SeaQL/sea-orm/pull/492)] \u5982\u679c\u60a8\u60f3\u5c06\u7528\u6237\u8f93\u5165\u4fdd\u5b58\u5230\u6570\u636e\u5e93\uff0c\u60a8\u53ef\u4ee5\u8f7b\u677e\u5c06 JSON \u503c\u8f6c\u6362\u4e3a ActiveModel\u3002\\r\\n\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Serialize, Deserialize)]\\r\\n#[sea_orm(table_name = \\"fruit\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    #[serde(skip_deserializing)] // \u8df3\u8fc7\u53cd\u5e8f\u5217\u5316\\r\\n    pub id: i32,\\r\\n    pub name: String,\\r\\n    pub cake_id: Option<i32>,\\r\\n}\\r\\n```\\r\\n\\r\\n\u4f7f\u7528 `set_from_json` \u65b9\u6cd5\u5728 ActiveModel \u4e2d\u8bbe\u7f6e\u5c5e\u6027\u3002\\r\\n\\r\\n```rust\\r\\n// \u8bbe\u7f6e\u4e3b\u952e\u7684 ActiveModel\\r\\nlet mut fruit = fruit::ActiveModel {\\r\\n    id: ActiveValue::Set(1),\\r\\n    name: ActiveValue::NotSet,\\r\\n    cake_id: ActiveValue::NotSet,\\r\\n};\\r\\n\\r\\n// \u8bf7\u6ce8\u610f\uff0c\u6b64\u65b9\u6cd5\u4e0d\u4f1a\u66f4\u6539 ActiveModel \u4e2d\u7684\u4e3b\u952e\u503c\\r\\nfruit.set_from_json(json!({\\r\\n    \\"id\\": 8,\\r\\n    \\"name\\": \\"Apple\\",\\r\\n    \\"cake_id\\": 1,\\r\\n}))?;\\r\\n\\r\\nassert_eq!(\\r\\n    fruit,\\r\\n    fruit::ActiveModel {\\r\\n        id: ActiveValue::Set(1),\\r\\n        name: ActiveValue::Set(\\"Apple\\".to_owned()),\\r\\n        cake_id: ActiveValue::Set(Some(1)),\\r\\n    }\\r\\n);\\r\\n```\\r\\n\\r\\n\u4f7f\u7528 `from_json` \u65b9\u6cd5\u4ece JSON \u503c\u521b\u5efa\u65b0\u7684 ActiveModel\u3002\\r\\n\\r\\n```rust\\r\\nlet fruit = fruit::ActiveModel::from_json(json!({\\r\\n    \\"name\\": \\"Apple\\",\\r\\n}))?;\\r\\n\\r\\nassert_eq!(\\r\\n    fruit,\\r\\n    fruit::ActiveModel {\\r\\n        id: ActiveValue::NotSet,\\r\\n        name: ActiveValue::Set(\\"Apple\\".to_owned()),\\r\\n        cake_id: ActiveValue::NotSet,\\r\\n    }\\r\\n);\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u4eba\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/qyihua\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/13034668?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    qltk\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u5728 Model \u4e2d\u652f\u6301 `time` crate\\r\\n\\r\\n[[#602](https://github.com/SeaQL/sea-orm/pull/602)] \u60a8\u53ef\u4ee5\u4f7f\u7528 `time` crate \u5728 Model \u4e2d\u5b9a\u4e49\u65e5\u671f\u65f6\u95f4\u5217\u3002\u60a8\u53ef\u4ee5\u5c06\u539f\u672c\u5728 `chrono` \u4e2d\u5b9a\u4e49\u7684 Model \u8fc1\u79fb\u5230 `time` crate\u3002\\r\\n\\r\\n\u5728 `chrono` crate \u4e2d\u5b9a\u4e49\u7684 Model\u3002\\r\\n\\r\\n```rust\\r\\nuse sea_orm::entity::prelude::*;\\r\\n\\r\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"transaction_log\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    pub date: Date, // chrono::NaiveDate\\r\\n    pub time: Time, // chrono::NaiveTime\\r\\n    pub date_time: DateTime, // chrono::NaiveDateTime\\r\\n    pub date_time_tz: DateTimeWithTimeZone, // chrono::DateTime<chrono::FixedOffset>\\r\\n}\\r\\n\\r\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\r\\npub enum Relation {}\\r\\n\\r\\nimpl ActiveModelBehavior for ActiveModel {}\\r\\n```\\r\\n\\r\\n\u5728 `time` crate \u4e2d\u5b9a\u4e49\u7684 Model\u3002\\r\\n\\r\\n```rust\\r\\nuse sea_orm::entity::prelude::*;\\r\\n\\r\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"transaction_log\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    pub date: TimeDate, // time::Date\\r\\n    pub time: TimeTime, // time::Time\\r\\n    pub date_time: TimeDateTime, // time::PrimitiveDateTime\\r\\n    pub date_time_tz: TimeDateTimeWithTimeZone, // time::OffsetDateTime\\r\\n}\\r\\n\\r\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\r\\npub enum Relation {}\\r\\n\\r\\nimpl ActiveModelBehavior for ActiveModel {}\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u4eba\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tasn\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/108670?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Tom Hacohen\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u901a\u8fc7\u4e3b\u952e\u5220\u9664\\r\\n\\r\\n[[#590](https://github.com/SeaQL/sea-orm/pull/590)] \u4e0d\u518d\u9700\u8981\u5148\u4ece\u6570\u636e\u5e93\u4e2d\u9009\u62e9 `Model` \u7136\u540e\u518d\u5220\u9664\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u4e3b\u952e\u5220\u9664\u6570\u636e\u5e93\u4e2d\u7684\u4e00\u884c\u3002\\r\\n\\r\\n```rust\\r\\nlet res: DeleteResult = Fruit::delete_by_id(38).exec(db).await?;\\r\\nassert_eq!(res.rows_affected, 1);\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u4eba\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ShouvikGhosh2048\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/91585022?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shouvik Ghosh\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Ilqjx\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/53934234?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Zhenwei Guo\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u4ece\u539f\u59cb\u67e5\u8be2\u4e2d\u5206\u9875\u7ed3\u679c\\r\\n\\r\\n[[#617](https://github.com/SeaQL/sea-orm/pull/617)] \u60a8\u53ef\u4ee5\u5bf9 [`SelectorRaw`](https://docs.rs/sea-orm/0.6.0/sea_orm/struct.SelectorRaw.html) \u8fdb\u884c\u5206\u9875\uff0c\u5e76\u4ee5\u6279\u91cf\u65b9\u5f0f\u83b7\u53d6 `Model`\u3002\\r\\n\\r\\n```rust\\r\\nlet mut cake_pages = cake::Entity::find()\\r\\n    .from_raw_sql(Statement::from_sql_and_values(\\r\\n        DbBackend::Postgres,\\r\\n        r#\\"SELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\" WHERE \\"id\\" = $1\\"#,\\r\\n        vec![1.into()],\\r\\n    ))\\r\\n    .paginate(db, 50);\\r\\n \\r\\nwhile let Some(cakes) = cake_pages.fetch_and_next().await? {\\r\\n    // \u5bf9 cakes: Vec<cake::Model> \u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\\r\\n}\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u4eba\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/cemoktra\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/15634263?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Bastian\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shinbunbun\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/34409044?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    shinbunbun\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u521b\u5efa\u6570\u636e\u5e93\u7d22\u5f15\\r\\n\\r\\n[[#593](https://github.com/SeaQL/sea-orm/pull/593)] \u8981\u5728\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u7d22\u5f15\uff0c\u800c\u4e0d\u662f\u624b\u52a8\u7f16\u5199 [`IndexCreateStatement`](https://docs.rs/sea-query/*/sea_query/index/struct.IndexCreateStatement.html)\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 [`Schema::create_index_from_entity`](https://docs.rs/sea-orm/0.5/sea_orm/schema/struct.Schema.html#method.create_index_from_entity) \u4ece `Entity` \u63a8\u5bfc\u51fa\u7d22\u5f15\u3002\\r\\n\\r\\n```rust\\r\\nuse sea_orm::{sea_query, tests_cfg::*, Schema};\\r\\n\\r\\nlet builder = db.get_database_backend();\\r\\nlet schema = Schema::new(builder);\\r\\n\\r\\nlet stmts = schema.create_index_from_entity(indexes::Entity);\\r\\nassert_eq!(stmts.len(), 2);\\r\\n\\r\\nlet idx = sea_query::Index::create()\\r\\n    .name(\\"idx-indexes-index1_attr\\")\\r\\n    .table(indexes::Entity)\\r\\n    .col(indexes::Column::Index1Attr)\\r\\n    .to_owned();\\r\\nassert_eq!(builder.build(&stmts[0]), builder.build(&idx));\\r\\n\\r\\nlet idx = sea_query::Index::create()\\r\\n    .name(\\"idx-indexes-index2_attr\\")\\r\\n    .table(indexes::Entity)\\r\\n    .col(indexes::Column::Index2Attr)\\r\\n    .to_owned();\\r\\nassert_eq!(builder.build(&stmts[1]), builder.build(&idx));\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u4eba\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/grtlr\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/3404250?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Jochen G\xf6rtler\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nickb937\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1443207?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Nick Burrett\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u8d5e\u52a9\\r\\n\\r\\n\u6211\u4eec\u7684 [GitHub Sponsor](https://github.com/sponsors/SeaQL) \u8d44\u6599\u5df2\u4e0a\u7ebf\uff01\u5982\u679c\u60a8\u89c9\u5f97\u6177\u6168\uff0c\u975e\u5e38\u611f\u8c22\u60a8\u7684\u5c0f\u989d\u6350\u6b3e\u3002\\r\\n\\r\\n\u5411\u6211\u4eec\u7684\u8d5e\u52a9\u5546\u81f4\u4ee5\u8bda\u631a\u7684\u611f\u8c22 \ud83d\ude07\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Zachary Vander Velden\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Dean Sheather\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sakti Dwi Cahyono\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u672a\u547d\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002\\r\\n\\r\\n\u8fd9\u662f SeaORM \u7684\u8def\u7ebf\u56fe [`0.8.x`](https://github.com/SeaQL/sea-orm/milestone/8)\u3002\\r\\n\\r\\n## GSoC 2022\\r\\n\\r\\n\u6211\u4eec\u975e\u5e38\u9ad8\u5174\u88ab\u9009\u4e3a Google Summer of Code 2022 \u7684\u5bfc\u5e08\u7ec4\u7ec7\u3002\u6709\u610f\u8d21\u732e\u8005\uff0c\u8bf7\u8bbf\u95ee\u6211\u4eec\u7684 [GSoC 2022 \u7ec4\u7ec7\u7b80\u4ecb](https://summerofcode.withgoogle.com/programs/2022/organizations/seaql)!"},{"id":"gsoc-2022","metadata":{"permalink":"/blog/gsoc-2022","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-03-08-gsoc-2022.md","source":"@site/blog/2022-03-08-gsoc-2022.md","title":"Google Summer of Code 2022","description":"GSoC 2022 \u7ec4\u7ec7\u7b80\u4ecb","date":"2022-03-08T00:00:00.000Z","formattedDate":"March 8, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":2.395,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"gsoc-2022","title":"Google Summer of Code 2022","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"SeaORM 0.7.0 \u6709\u54ea\u4e9b\u65b0\u529f\u80fd","permalink":"/blog/2022-03-26-whats-new-in-0.7.0"},"nextItem":{"title":"SeaORM 0.6.0 \u65b0\u7279\u6027","permalink":"/blog/2022-02-07-whats-new-in-0.6.0"}},"content":"[GSoC 2022 \u7ec4\u7ec7\u7b80\u4ecb](https://summerofcode.withgoogle.com/programs/2022/organizations/seaql)\\r\\n\\r\\n\u6211\u4eec\u975e\u5e38\u9ad8\u5174\u88ab\u9009\u4e3a Google Summer of Code 2022 \u7684\u6307\u5bfc\u7ec4\u7ec7\u3002\u611f\u8c22 SeaQL \u793e\u533a\u7684\u6bcf\u4e00\u4e2a\u4eba\u5bf9\u6211\u4eec\u7684\u652f\u6301\u548c\u5173\u6ce8\uff01\\r\\n\\r\\n\u5728 2020 \u5e74\uff0c\u5f53\u6211\u4eec\u5728 Rust \u4e2d\u5f00\u53d1\u7cfb\u7edf\u65f6\uff0c\u6211\u4eec\u6ce8\u610f\u5230\u751f\u6001\u7cfb\u7edf\u4e2d\u7f3a\u5c11\u4e00\u4e2a\u7ec4\u4ef6\uff1a\u4e00\u4e2a\u4e0e Rust async \u751f\u6001\u7cfb\u7edf\u826f\u597d\u96c6\u6210\u7684 ORM\u3002\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e86 SeaORM\uff0c\u5b83\u62e5\u6709\u4e00\u4e2a\u719f\u6089\u7684 API\uff0c\u6b22\u8fce\u6765\u81ea node.js\u3001Go\u3001Python\u3001PHP\u3001Ruby \u4ee5\u53ca\u60a8\u559c\u6b22\u7684\u8bed\u8a00\u7684\u5f00\u53d1\u8005\u3002\\r\\n\\r\\n\u6211\u4eec\u53d1\u5e03\u7684\u7b2c\u4e00\u4e2a\u5de5\u5177\u662f [SeaQuery](https://github.com/SeaQL/sea-query)\uff0c\u4e00\u4e2a\u5177\u6709\u6d41\u7545 API \u7684\u67e5\u8be2\u6784\u5efa\u5668\u3002\u5b83\u5177\u6709\u7b80\u5316\u7684 AST\uff0c\u53cd\u6620 SQL \u7684\u8bed\u6cd5\u3002\u5b83\u8ba9\u60a8\u6446\u8131\u4e86\u5728\u9700\u8981\u52a8\u6001\u548c\u5b89\u5168\u5730\u6784\u5efa SQL \u65f6\u624b\u52a8\u62fc\u63a5\u5b57\u7b26\u4e32\u7684\u9ebb\u70e6\uff0c\u5e76\u5177\u5907 Rust \u7c7b\u578b\u7684\u4f18\u52bf\u3002\\r\\n\\r\\n\u7b2c\u4e8c\u4e2a\u5de5\u5177\u662f [SeaSchema](https://github.com/SeaQL/sea-schema)\uff0c\u4e00\u4e2a\u6a21\u5f0f\u7ba1\u7406\u5668\uff0c\u5141\u8bb8\u60a8\u53d1\u73b0\u548c\u64cd\u4f5c\u6570\u636e\u5e93\u6a21\u5f0f\u3002\u6a21\u5f0f\u7684\u7c7b\u578b\u5b9a\u4e49\u662f\u7279\u5b9a\u4e8e\u6570\u636e\u5e93\u7684\uff0c\u56e0\u6b64\u7d27\u5bc6\u53cd\u6620 MySQL\u3001Postgres \u548c SQLite \u7684\u7279\u6027\u3002\\r\\n\\r\\n\u7b2c\u4e09\u4e2a\u5de5\u5177\u662f [SeaORM](https://github.com/SeaQL/sea-orm)\uff0c\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa Rust \u4e2d web \u670d\u52a1\uff08\u65e0\u8bba\u662f REST\u3001gRPC \u8fd8\u662f GraphQL\uff09\u7684\u5bf9\u8c61\u5173\u7cfb\u6620\u5c04\u5668\u3002\u6211\u4eec\u8003\u8651\u7684\u662f\u201casync & dynamic\u201d\uff0c\u6240\u4ee5\u6765\u81ea\u52a8\u6001\u8bed\u8a00\u7684\u5f00\u53d1\u8005\u4f1a\u611f\u5230\u5982\u9c7c\u5f97\u6c34\u3002\\r\\n\\r\\n\u4f46\u4e3a\u4ec0\u4e48\u53ea\u505c\u7559\u5728\u4e09\u4e2a\u5462\uff1f\\r\\n\\r\\n\u8fd9\u53ea\u662f\u4e3a Rust \u5efa\u7acb\u6210\u4e3a\u6570\u636e\u5de5\u7a0b\u6700\u4f73\u8bed\u8a00\u7684\u57fa\u7840\uff0c\u6211\u4eec\u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u7684\u521b\u610f\u5728\u6211\u4eec\u7684\u60f3\u6cd5\u6e05\u5355\u4e2d\uff01\\r\\n\\r\\n\u60a8\u7684\u53c2\u4e0e\u4f7f\u6211\u4eec\u53d8\u5f97\u72ec\u7279\uff1b\u60a8\u7684\u91c7\u7528\u63a8\u52a8\u6211\u4eec\u5411\u524d\u53d1\u5c55\u3002\\r\\n\\r\\n\u611f\u8c22\u6bcf\u4e2a\u4eba\u5bf9\u6211\u4eec\u7684\u652f\u6301\uff0c\u662f Rust \u793e\u533a\u8ba9\u8fd9\u4e00\u5207\u6210\u4e3a\u53ef\u80fd\u3002\u6211\u4eec\u4f1a\u4e50\u610f\u627f\u62c5\u5728 GSoC \u4e2d\u57f9\u80b2\u5f00\u6e90\u5f00\u53d1\u8005\u7684\u4f7f\u547d\u3002\\r\\n\\r\\n\u6f5c\u5728\u7684\u8d21\u732e\u8005\uff0c\u8bf7\u4e0e\u6211\u4eec\u4fdd\u6301\u8054\u7cfb\u3002\u6211\u4eec\u4e5f\u6b22\u8fce\u5173\u4e8e Rust \u751f\u6001\u7cfb\u7edf\u548c SeaQL \u7ec4\u7ec7\u672a\u6765\u7684\u4efb\u4f55\u8ba8\u8bba\u3002\\r\\n\\r\\n[GSoC 2022 \u60f3\u6cd5\u5217\u8868](https://github.com/SeaQL/summer-of-code/blob/main/2022/README.md)"},{"id":"2022-02-07-whats-new-in-0.6.0","metadata":{"permalink":"/blog/2022-02-07-whats-new-in-0.6.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-02-07-whats-new-in-0.6.0.md","source":"@site/blog/2022-02-07-whats-new-in-0.6.0.md","title":"SeaORM 0.6.0 \u65b0\u7279\u6027","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\u4eca\u5929\u53d1\u5e03\u4e86 SeaORM 0.6.0\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u7279\u6027\u4eae\u70b9 \ud83c\udf1f\uff1a","date":"2022-02-07T00:00:00.000Z","formattedDate":"February 7, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":5.165,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-02-07-whats-new-in-0.6.0","title":"SeaORM 0.6.0 \u65b0\u7279\u6027","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"Google Summer of Code 2022","permalink":"/blog/gsoc-2022"},"nextItem":{"title":"SeaORM 0.5.0 \u66f4\u65b0\u5185\u5bb9","permalink":"/blog/2022-01-01-whats-new-in-0.5.0"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\u4eca\u5929\u53d1\u5e03\u4e86 SeaORM [`0.6.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.6.0)\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u7279\u6027\u4eae\u70b9 \ud83c\udf1f\uff1a\\r\\n\\r\\n## \u6570\u636e\u8fc1\u79fb\\r\\n\\r\\n[[#335](https://github.com/SeaQL/sea-orm/pull/335)] \u4f7f\u7528 SeaQuery \u6216\u539f\u59cb SQL \u7f16\u5199\u7684\u8fc1\u79fb\u6765\u8fdb\u884c\u6570\u636e\u5e93\u67b6\u6784\u7684\u7248\u672c\u63a7\u5236\u3002\u67e5\u770b [\u8fc1\u79fb\u6587\u6863](https://www.sea-ql.org/SeaORM/docs/migration/setting-up-migration) \u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002\\r\\n\\r\\n1. \u901a\u8fc7\u6267\u884c `sea-orm-cli migrate init` \u8bbe\u7f6e\u8fc1\u79fb\u76ee\u5f55\u3002\\r\\n    ```\\r\\n    migration\\r\\n    \u251c\u2500\u2500 Cargo.toml\\r\\n    \u251c\u2500\u2500 README.md\\r\\n    \u2514\u2500\u2500 src\\r\\n        \u251c\u2500\u2500 lib.rs\\r\\n        \u251c\u2500\u2500 m20220101_000001_create_table.rs\\r\\n        \u2514\u2500\u2500 main.rs\\r\\n    ```\\r\\n2. \u5728 SeaQuery \u4e2d\u5b9a\u4e49\u8fc1\u79fb\u3002\\r\\n    ```rust\\r\\n    use sea_schema::migration::prelude::*;\\r\\n\\r\\n    pub struct Migration;\\r\\n\\r\\n    impl MigrationName for Migration {\\r\\n        fn name(&self) -> &str {\\r\\n            \\"m20220101_000001_create_table\\"\\r\\n        }\\r\\n    }\\r\\n\\r\\n    #[async_trait::async_trait]\\r\\n    impl MigrationTrait for Migration {\\r\\n        async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n            manager\\r\\n                .create_table( ... )\\r\\n                .await\\r\\n        }\\r\\n\\r\\n        async fn down(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\r\\n            manager\\r\\n                .drop_table( ... )\\r\\n                .await\\r\\n        }\\r\\n    }\\r\\n    ```\\r\\n3. \u901a\u8fc7\u6267\u884c `sea-orm-cli migrate` \u5e94\u7528\u8fc1\u79fb\u3002\\r\\n    ```shell\\r\\n    $ sea-orm-cli migrate\\r\\n    \u5e94\u7528\u6240\u6709\u5f85\u5904\u7406\u7684\u8fc1\u79fb\\r\\n    \u5e94\u7528\u8fc1\u79fb \'m20220101_000001_create_table\'\\r\\n    \u8fc1\u79fb \'m20220101_000001_create_table\' \u5df2\u6210\u529f\u5e94\u7528\\r\\n    ```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8bbe\u8ba1\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Chris Tsang\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u6a21\u578b\u4e2d\u652f\u6301 DateTimeUtc \u548c DateTimeLocal\\r\\n\\r\\n[[#489](https://github.com/SeaQL/sea-orm/pull/489)] \u5728\u6a21\u578b\u4e2d\u7528 `DateTimeLocal` (`chrono::DateTime<Local>`) \u6216 `DateTimeUtc` (`chrono::DateTime<Utc>`) \u7c7b\u578b\u5c5e\u6027\u8868\u793a\u6570\u636e\u5e93\u7684\u65f6\u95f4\u6233\u5217\u3002\\r\\n\\r\\n```rust\\r\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"satellite\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    pub satellite_name: String,\\r\\n    pub launch_date: DateTimeUtc,\\r\\n    pub deployment_date: DateTimeLocal,\\r\\n}\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/lz1998\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/9082086?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    lz1998\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Chris Tsang\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/charleschege\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/33346042?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Charles\xb7Chege\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u6a21\u62df\u8fde\u63a5\u7ed3\u679c\\r\\n\\r\\n[[#455](https://github.com/SeaQL/sea-orm/pull/455)] \u6784\u5efa\u76f8\u5173\u6a21\u578b\u7684\u6a21\u62df\u7ed3\u679c\uff0c\u4f7f\u7528\u6a21\u578b\u7684\u5143\u7ec4\u3002\\r\\n\\r\\n```rust\\r\\nlet db = MockDatabase::new(DbBackend::Postgres)\\r\\n    // \u6a21\u62df\u86cb\u7cd5\u4e0e\u5176\u76f8\u5173\u6c34\u679c\u7684\u7ed3\u679c\\r\\n    .append_query_results(vec![vec![(\\r\\n        cake::Model {\\r\\n            id: 1,\\r\\n            name: \\"\u82f9\u679c\u86cb\u7cd5\\".to_owned(),\\r\\n        },\\r\\n        fruit::Model {\\r\\n            id: 2,\\r\\n            name: \\"\u82f9\u679c\\".to_owned(),\\r\\n            cake_id: Some(1),\\r\\n        },\\r\\n    )]])\\r\\n    .into_connection();\\r\\n\\r\\nassert_eq!(\\r\\n    cake::Entity::find()\\r\\n        .find_also_related(fruit::Entity)\\r\\n        .all(&db)\\r\\n        .await?,\\r\\n    vec![(\\r\\n        cake::Model {\\r\\n            id: 1,\\r\\n            name: \\"\u82f9\u679c\u86cb\u7cd5\\".to_owned(),\\r\\n        },\\r\\n        Some(fruit::Model {\\r\\n            id: 2,\\r\\n            name: \\"\u82f9\u679c\\".to_owned(),\\r\\n            cake_id: Some(1),\\r\\n        })\\r\\n    )]\\r\\n);\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/cemoktra\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/15634263?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Bastian\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/cemoktra\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/15634263?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Bastian\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u652f\u6301\u6700\u5927\u8fde\u63a5\u751f\u547d\u5468\u671f\u9009\u9879\\r\\n\\r\\n[[#493](https://github.com/SeaQL/sea-orm/pull/493)] \u60a8\u53ef\u4ee5\u4f7f\u7528 `max_lifetime` \u65b9\u6cd5\u8bbe\u7f6e\u5355\u4e2a\u8fde\u63a5\u7684\u6700\u5927\u751f\u547d\u5468\u671f\u3002\\r\\n\\r\\n```rust\\r\\nlet mut opt = ConnectOptions::new(\\"protocol://username:password@host/database\\".to_owned());\\r\\nopt.max_lifetime(Duration::from_secs(8))\\r\\n    .max_connections(100)\\r\\n    .min_connections(5)\\r\\n    .connect_timeout(Duration::from_secs(8))\\r\\n    .idle_timeout(Duration::from_secs(8))\\r\\n    .sqlx_logging(true);\\r\\n\\r\\nlet db = Database::connect(opt).await?;\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## SeaORM CLI \u4e0e\u4ee3\u7801\u751f\u6210\u66f4\u65b0\\r\\n\\r\\n- [[#433](https://github.com/SeaQL/sea-orm/pull/433)] \u4e3a\u672a\u4ee5\u86c7\u5f62\u547d\u540d\u7684\u5217\u751f\u6210 `column_name` \u5b8f\u5c5e\u6027\\r\\n- [[#335](https://github.com/SeaQL/sea-orm/pull/335)] \u5f15\u5165\u8fc1\u79fb\u5b50\u547d\u4ee4 `sea-orm-cli migrate`\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Gabriel-Paulucci\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/43076727?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Gabriel Paulucci\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u8d5e\u52a9\\r\\n\\r\\n\u6211\u4eec\u7684 [GitHub Sponsor](https://github.com/sponsors/SeaQL) \u8d44\u6599\u5df2\u4e0a\u7ebf\uff01\u5982\u679c\u60a8\u613f\u610f\uff0c\u5c0f\u989d\u6350\u6b3e\u5c06\u4e0d\u80dc\u611f\u6fc0\u3002\\r\\n\\r\\n\u7279\u522b\u611f\u8c22\u6211\u4eec\u7684\u8d5e\u52a9\u5546 \ud83d\ude07\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \xc9mile Fugulin\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Zachary Vander Velden\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sakti Dwi Cahyono\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u672a\u547d\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5e76\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002\\r\\n\\r\\n\u8fd9\u662f SeaORM [`0.7.x`](https://github.com/SeaQL/sea-orm/milestone/7) \u7684\u8def\u7ebf\u56fe\u3002"},{"id":"2022-01-01-whats-new-in-0.5.0","metadata":{"permalink":"/blog/2022-01-01-whats-new-in-0.5.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-01-01-whats-new-in-0.5.0.md","source":"@site/blog/2022-01-01-whats-new-in-0.5.0.md","title":"SeaORM 0.5.0 \u66f4\u65b0\u5185\u5bb9","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\u4eca\u5929\u53d1\u5e03 SeaORM 0.5.0\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4e3b\u8981\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a","date":"2022-01-01T00:00:00.000Z","formattedDate":"January 1, 2022","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":5.015,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2022-01-01-whats-new-in-0.5.0","title":"SeaORM 0.5.0 \u66f4\u65b0\u5185\u5bb9","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"SeaORM 0.6.0 \u65b0\u7279\u6027","permalink":"/blog/2022-02-07-whats-new-in-0.6.0"},"nextItem":{"title":"SeaORM 0.4.0 \u4e2d\u7684\u65b0\u7279\u6027","permalink":"/blog/2021-11-19-whats-new-in-0.4.0"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u5ba3\u5e03\u4eca\u5929\u53d1\u5e03 SeaORM [`0.5.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.5.0)\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4e3b\u8981\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a\\r\\n\\r\\n## \u63d2\u5165\u548c\u66f4\u65b0\u8fd4\u56de `Model`\\r\\n\\r\\n[[#339](https://github.com/SeaQL/sea-orm/pull/339)] \u6839\u636e\u6211\u4eec\u793e\u533a\u6210\u5458\u7684\u8981\u6c42\uff0c\u60a8\u73b0\u5728\u53ef\u4ee5\u5728\u63d2\u5165\u6216\u66f4\u65b0\u64cd\u4f5c\u540e\u83b7\u53d6\u66f4\u65b0\u540e\u7684 `Model`\u3002\u5982\u679c\u60a8\u60f3\u4fee\u6539\u6a21\u578b\u5e76\u5c06\u5176\u4fdd\u5b58\u56de\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u4f7f\u7528 `into_active_model` \u65b9\u6cd5\u5c06\u5176\u8f6c\u6362\u4e3a `ActiveModel`\u3002\\r\\n\\r\\n\u7834\u574f\u6027\u66f4\u6539\uff1a\\r\\n- `ActiveModel::insert` \u548c `ActiveModel::update` \u8fd4\u56de `Model` \u800c\u4e0d\u662f `ActiveModel`\\r\\n- \u65b9\u6cd5 `ActiveModelBehavior::after_save` \u63a5\u53d7 `Model` \u4f5c\u4e3a\u8f93\u5165\uff0c\u800c\u4e0d\u662f `ActiveModel`\\r\\n\\r\\n```rust\\r\\n// \u6784\u5efa\u4e00\u4e2a `ActiveModel`\\r\\nlet active_model = ActiveModel {\\r\\n    name: Set(\\"\u7ecf\u5178\u9999\u8349\u86cb\u7cd5\\".to_owned()),\\r\\n    ..Default::default()\\r\\n};\\r\\n// \u6267\u884c\u63d2\u5165\\r\\nlet cake: Model = active_model.insert(db).await?;\\r\\nassert_eq!(\\r\\n    cake,\\r\\n    Model {\\r\\n        id: 1,\\r\\n        name: \\"\u7ecf\u5178\u9999\u8349\u86cb\u7cd5\\".to_owned(),\\r\\n    }\\r\\n);\\r\\n\\r\\n// \u5c06 `Model` \u8f6c\u6362\u4e3a `ActiveModel`\\r\\nlet mut active_model = cake.into_active_model();\\r\\n// \u66f4\u6539\u86cb\u7cd5\u7684\u540d\u79f0\\r\\nactive_model.name = Set(\\"\u5de7\u514b\u529b\u86cb\u7cd5\\".to_owned());\\r\\n// \u6267\u884c\u66f4\u65b0\\r\\nlet cake: Model = active_model.update(db).await?;\\r\\nassert_eq!(\\r\\n    cake,\\r\\n    Model {\\r\\n        id: 1,\\r\\n        name: \\"\u5de7\u514b\u529b\u86cb\u7cd5\\".to_owned(),\\r\\n    }\\r\\n);\\r\\n\\r\\n// \u6267\u884c\u5220\u9664\\r\\ncake.delete(db).await?;\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nicoulaj\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/3162?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Julien Nicoulaud\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/edg-l\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/15859336?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Edgar\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## `ActiveValue` \u5b8c\u5168\u91cd\u6784\\r\\n\\r\\n[[#340](https://github.com/SeaQL/sea-orm/pull/340)] `ActiveValue` \u73b0\u5728\u88ab\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u679a\u4e3e\u800c\u4e0d\u662f\u4e00\u4e2a\u7ed3\u6784\u4f53\u3002\u5b83\u7684\u516c\u5171 API \u4fdd\u6301\u4e0d\u53d8\uff0c\u9664\u4e86 `Unset` \u88ab\u5f03\u7528\uff0c\u5e94\u8be5\u4f7f\u7528 `ActiveValue::NotSet`\u3002\\r\\n\\r\\n\u7834\u574f\u6027\u66f4\u6539\uff1a\\r\\n- \u5c06\u65b9\u6cd5 `sea_orm::unchanged_active_value_not_intended_for_public_use` \u91cd\u547d\u540d\u4e3a `sea_orm::Unchanged`\\r\\n- \u5c06\u65b9\u6cd5 `ActiveValue::unset` \u91cd\u547d\u540d\u4e3a `ActiveValue::not_set`\\r\\n- \u5c06\u65b9\u6cd5 `ActiveValue::is_unset` \u91cd\u547d\u540d\u4e3a `ActiveValue::is_not_set`\\r\\n- `ActiveValue` \u7684 `PartialEq` \u5c06\u68c0\u67e5\u72b6\u6001\u7684\u76f8\u7b49\u6027\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u503c\u7684\u76f8\u7b49\u6027\\r\\n\\r\\n```rust\\r\\n/// \u5b9a\u4e49 ActiveModel \u4e2d\u4f7f\u7528\u7684\u6709\u72b6\u6001\u503c\u3002\\r\\npub enum ActiveValue<V>\\r\\nwhere\\r\\n    V: Into<Value>,\\r\\n{\\r\\n    /// \u4e00\u4e2a\u5df2\u5b9a\u4e49\u7684 [Value] \u6b63\u5728\u88ab\u6fc0\u6d3b\u8bbe\u7f6e\\r\\n    Set(V),\\r\\n    /// \u4e00\u4e2a\u5df2\u5b9a\u4e49\u7684 [Value] \u4fdd\u6301\u4e0d\u53d8\\r\\n    Unchanged(V),\\r\\n    /// \u4e00\u4e2a\u672a\u5b9a\u4e49\u7684 [Value]\\r\\n    NotSet,\\r\\n}\\r\\n```\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8bbe\u8ba1\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Chris Tsang\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## SeaORM CLI & \u4ee3\u7801\u751f\u6210\u66f4\u65b0\\r\\n\\r\\n\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684 `sea-orm-cli`\uff1a\\r\\n\\r\\n```shell\\r\\ncargo install sea-orm-cli\\r\\n```\\r\\n\\r\\n\u4e0e\u5b9e\u4f53\u6587\u4ef6\u751f\u6210\u76f8\u5173\u7684\u66f4\u65b0 (`cargo generate entity`)\uff1a\\r\\n\\r\\n- [[#348](https://github.com/SeaQL/sea-orm/pull/348)] \u53d1\u73b0\u5e76\u5b9a\u4e49 PostgreSQL \u679a\u4e3e\\r\\n- [[#386](https://github.com/SeaQL/sea-orm/pull/386)] \u652f\u6301 SQLite \u6570\u636e\u5e93\uff0c\u60a8\u53ef\u4ee5\u4ece\u6240\u6709\u652f\u6301\u7684\u6570\u636e\u5e93\uff08\u5305\u62ec MySQL\u3001PostgreSQL \u548c SQLite\uff09\u751f\u6210\u5b9e\u4f53\u6587\u4ef6\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u8bae\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Zachary Vander Velden\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/charleschege\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/33346042?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Charles\xb7Chege\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u8ffd\u8e2a\\r\\n\\r\\n[[#373](https://github.com/SeaQL/sea-orm/pull/373)] \u60a8\u53ef\u4ee5\u4f7f\u7528\u542f\u7528 `debug-print` \u529f\u80fd\u548c\u8fd0\u884c\u4e2d\u7684 [`tracing-subscriber`](https://crates.io/crates/tracing-subscriber) \u6765\u8ffd\u8e2a SeaORM \u6267\u884c\u7684\u67e5\u8be2\u3002\\r\\n\\r\\n```rust\\r\\npub async fn main() {\\r\\n    tracing_subscriber::fmt()\\r\\n        .with_max_level(tracing::Level::DEBUG)\\r\\n        .with_test_writer()\\r\\n        .init();\\r\\n\\r\\n    // ...\\r\\n}\\r\\n```\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marco Napetti\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u8d5e\u52a9\u5546\\r\\n\\r\\n\u6211\u4eec\u7684 [GitHub Sponsor](https://github.com/sponsors/SeaQL) \u8d44\u6599\u5df2\u7ecf\u4e0a\u7ebf\uff01\u5982\u679c\u60a8\u613f\u610f\uff0c\u4efb\u4f55\u5c0f\u989d\u6350\u8d60\u5c06\u4e0d\u80dc\u611f\u6fc0\u3002\\r\\n\\r\\n\u5411\u6211\u4eec\u7684\u8d5e\u52a9\u5546\u81f4\u4ee5\u8877\u5fc3\u7684\u611f\u8c22 \ud83d\ude07\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Sakti Dwi Cahyono\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Zachary Vander Velden\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/praveenperera\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1775346?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Praveen Perera\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u672a\u547d\u540d\u8d5e\u52a9\u5546\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u7531\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5e76\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002\\r\\n\\r\\n\u8fd9\u662f SeaORM [`0.6.x`](https://github.com/SeaQL/sea-orm/milestone/6) \u7684\u8def\u7ebf\u56fe\u3002"},{"id":"2021-11-19-whats-new-in-0.4.0","metadata":{"permalink":"/blog/2021-11-19-whats-new-in-0.4.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-11-19-whats-new-in-0.4.0.md","source":"@site/blog/2021-11-19-whats-new-in-0.4.0.md","title":"SeaORM 0.4.0 \u4e2d\u7684\u65b0\u7279\u6027","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u53d1\u5e03 SeaORM 0.4.0\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a","date":"2021-11-19T00:00:00.000Z","formattedDate":"November 19, 2021","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":3.725,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2021-11-19-whats-new-in-0.4.0","title":"SeaORM 0.4.0 \u4e2d\u7684\u65b0\u7279\u6027","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"SeaORM 0.5.0 \u66f4\u65b0\u5185\u5bb9","permalink":"/blog/2022-01-01-whats-new-in-0.5.0"},"nextItem":{"title":"SeaORM 0.3.0 \u65b0\u7279\u6027","permalink":"/blog/2021-10-15-whats-new-in-0.3.0"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u53d1\u5e03 SeaORM [`0.4.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.4.0)\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9 \ud83c\udf1f\uff1a\\r\\n\\r\\n## Rust \u7248\u672c 2021\\r\\n\\r\\n[[#273](https://github.com/SeaQL/sea-orm/pull/273)] \u5c06 SeaORM \u5347\u7ea7\u5230 [Rust \u7248\u672c 2021](https://blog.rust-lang.org/2021/10/21/Rust-1.56.0.html#rust-2021) \ud83e\udd80\u2764\ud83d\udc1a\uff01\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sno2\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/43641633?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Carter Snook\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u679a\u4e3e\\r\\n\\r\\n[[#252](https://github.com/SeaQL/sea-orm/issues/252)] \u73b0\u5728\u60a8\u53ef\u4ee5\u5728\u6a21\u578b\u4e2d\u4f7f\u7528 Rust \u679a\u4e3e\uff0c\u503c\u53ef\u4ee5\u6620\u5c04\u5230\u6570\u636e\u5e93\u5b57\u7b26\u4e32\u3001\u6574\u6570\u6216\u539f\u751f\u679a\u4e3e\u3002\u4e86\u89e3\u66f4\u591a [here](https://www.sea-ql.org/SeaORM/docs/generate-entity/enumeration)\u3002\\r\\n\\r\\n```rust\\r\\n#[derive(Debug, Clone, PartialEq, DeriveEntityModel)]\\r\\n#[sea_orm(table_name = \\"active_enum\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    // \u5728\u6a21\u578b\u4e2d\u4f7f\u7528\u6211\u4eec\u7684\u81ea\u5b9a\u4e49\u679a\u4e3e\\r\\n    pub category: Option<Category>,\\r\\n    pub color: Option<Color>,\\r\\n    pub tea: Option<Tea>,\\r\\n}\\r\\n\\r\\n#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]\\r\\n#[sea_orm(rs_type = \\"String\\", db_type = \\"String(Some(1))\\")]\\r\\n// \u4e00\u4e2a\u88ab\u5e8f\u5217\u5316\u4e3a\u5b57\u7b26\u4e32\u503c\u7684\u679a\u4e3e\\r\\npub enum Category {\\r\\n    #[sea_orm(string_value = \\"B\\")]\\r\\n    Big,\\r\\n    #[sea_orm(string_value = \\"S\\")]\\r\\n    Small,\\r\\n}\\r\\n\\r\\n#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]\\r\\n#[sea_orm(rs_type = \\"i32\\", db_type = \\"Integer\\")]\\r\\n// \u4e00\u4e2a\u88ab\u5e8f\u5217\u5316\u4e3a\u6574\u6570\u503c\u7684\u679a\u4e3e\\r\\npub enum Color {\\r\\n    #[sea_orm(num_value = 0)]\\r\\n    Black,\\r\\n    #[sea_orm(num_value = 1)]\\r\\n    White,\\r\\n}\\r\\n\\r\\n#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]\\r\\n#[sea_orm(rs_type = \\"String\\", db_type = \\"Enum\\", enum_name = \\"tea\\")]\\r\\n// \u4e00\u4e2a\u88ab\u5e8f\u5217\u5316\u4e3a\u6570\u636e\u5e93\u539f\u751f\u679a\u4e3e\u7684\u679a\u4e3e\\r\\npub enum Tea {\\r\\n    #[sea_orm(string_value = \\"EverydayTea\\")]\\r\\n    EverydayTea,\\r\\n    #[sea_orm(string_value = \\"BreakfastTea\\")]\\r\\n    BreakfastTea,\\r\\n}\\r\\n```\\r\\n\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8bbe\u8ba1\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Chris Tsang\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u652f\u6301 PostgreSQL \u7684 `RETURNING` \u5b50\u53e5\\r\\n\\r\\n[[#183](https://github.com/SeaQL/sea-orm/issues/183)] \u5728\u5bf9 PostgreSQL \u7684 `ActiveModel` \u8fdb\u884c\u63d2\u5165\u6216\u66f4\u65b0\u64cd\u4f5c\u65f6\uff0c\u5c06\u4f7f\u7528 `RETURNING` \u5b50\u53e5\u5728\u5355\u4e2a SQL \u8bed\u53e5\u4e2d\u6267\u884c\u9009\u62e9\u3002\\r\\n\\r\\n```rust\\r\\n// \u5bf9\u4e8e PostgreSQL\\r\\ncake::ActiveModel {\\r\\n    name: Set(\\"Apple Pie\\".to_owned()),\\r\\n    ..Default::default()\\r\\n}\\r\\n.insert(&postgres_db)\\r\\n.await?;\\r\\n\\r\\nassert_eq!(\\r\\n    postgres_db.into_transaction_log(),\\r\\n    vec![Transaction::from_sql_and_values(\\r\\n        DbBackend::Postgres,\\r\\n        r#\\"INSERT INTO \\"cake\\" (\\"name\\") VALUES ($1) RETURNING \\"id\\", \\"name\\"\\"#,\\r\\n        vec![\\"Apple Pie\\".into()]\\r\\n    )]);\\r\\n```\\r\\n\\r\\n```rust\\r\\n// \u5bf9\u4e8e MySQL \u548c SQLite\\r\\ncake::ActiveModel {\\r\\n    name: Set(\\"Apple Pie\\".to_owned()),\\r\\n    ..Default::default()\\r\\n}\\r\\n.insert(&other_db)\\r\\n.await?;\\r\\n\\r\\nassert_eq!(\\r\\n    other_db.into_transaction_log(),\\r\\n    vec![\\r\\n        Transaction::from_sql_and_values(\\r\\n            DbBackend::MySql,\\r\\n            r#\\"INSERT INTO `cake` (`name`) VALUES (?)\\"#,\\r\\n            vec![\\"Apple Pie\\".into()]\\r\\n        ),\\r\\n        Transaction::from_sql_and_values(\\r\\n            DbBackend::MySql,\\r\\n            r#\\"SELECT `cake`.`id`, `cake`.`name` FROM `cake` WHERE `cake`.`id` = ? LIMIT ?\\"#,\\r\\n            vec![15.into(), 1u64.into()]\\r\\n        )]);\\r\\n```\\r\\n\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u63d0\u51fa\u7684\u6765\u6e90\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marlon-sousa\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/21093041?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marlon Brand\xe3o de Sousa\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        \u8d21\u732e\u8005\uff1a\\r\\n        <br/><br/>\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## Axum \u96c6\u6210\u793a\u4f8b\\r\\n\\r\\n[[#297](https://github.com/SeaQL/sea-orm/pull/297)] \u6dfb\u52a0\u4e86 [Axum \u96c6\u6210\u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example)\u3002\u66f4\u591a\u793a\u4f8b [\u9700\u8981](https://github.com/SeaQL/sea-orm/issues/269)\uff01\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/YoshieraHuang\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/38752027?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Yoshiera\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u8d5e\u52a9\\r\\n\\r\\n\u6211\u4eec\u7684 [GitHub Sponsorship](https://github.com/sponsors/SeaQL) \u9875\u9762\u5df2\u4e0a\u7ebf\uff01\u5982\u679c\u60a8\u613f\u610f\uff0c\u60a8\u7684\u5c0f\u989d\u6350\u6b3e\u5c06\u4e0d\u80dc\u611f\u6fc0\u3002\\r\\n\\r\\n\u5411\u6211\u4eec\u7684\u9996\u4f4d\u8d5e\u52a9\u8005\u4eec\u81f4\u4ee5\u8bda\u631a\u7684\u611f\u8c22 \ud83d\ude07\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Shane Sveller\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Zachary Vander Velden\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--6 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\r\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    \u65e0\u540d\u8d5e\u52a9\u8005\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u7531\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\uff0c\u8d21\u732e\uff0c\u4e00\u8d77\u4e3a Rust \u7684\u672a\u6765\u800c\u52aa\u529b\u3002\\r\\n\\r\\n\u4ee5\u4e0b\u662f SeaORM [`0.5.x`](https://github.com/SeaQL/sea-orm/milestone/5) \u7684\u8def\u7ebf\u56fe\u3002"},{"id":"2021-10-15-whats-new-in-0.3.0","metadata":{"permalink":"/blog/2021-10-15-whats-new-in-0.3.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-10-15-whats-new-in-0.3.0.md","source":"@site/blog/2021-10-15-whats-new-in-0.3.0.md","title":"SeaORM 0.3.0 \u65b0\u7279\u6027","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u53d1\u5e03 SeaORM 0.3.0\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u91cd\u8981\u7279\u6027\u4eae\u70b9 \ud83c\udf1f\uff1a","date":"2021-10-15T00:00:00.000Z","formattedDate":"October 15, 2021","tags":[{"label":"\u65b0\u95fb","permalink":"/blog/tags/\u65b0\u95fb"}],"readingTime":4.715,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2021-10-15-whats-new-in-0.3.0","title":"SeaORM 0.3.0 \u65b0\u7279\u6027","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["\u65b0\u95fb"]},"prevItem":{"title":"SeaORM 0.4.0 \u4e2d\u7684\u65b0\u7279\u6027","permalink":"/blog/2021-11-19-whats-new-in-0.4.0"},"nextItem":{"title":"SeaORM 0.2.4 \u65b0\u7279\u6027","permalink":"/blog/2021-10-01-whats-new-in-0.2.4"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u53d1\u5e03 SeaORM [`0.3.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.3.0)\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u91cd\u8981\u7279\u6027\u4eae\u70b9 \ud83c\udf1f\uff1a\\r\\n\\r\\n## \u4e8b\u52a1\\r\\n\\r\\n[[#222](https://github.com/SeaQL/sea-orm/pull/222)] \u4f7f\u7528\u6570\u636e\u5e93\u4e8b\u52a1\u6267\u884c\u539f\u5b50\u64cd\u4f5c\\r\\n\\r\\n\u63d0\u4f9b\u4e86\u4e24\u4e2a\u4e8b\u52a1 API\uff1a\\r\\n\\r\\n- `closure` \u98ce\u683c\u3002\u6210\u529f\u65f6\u63d0\u4ea4\uff0c\u5931\u8d25\u65f6\u56de\u6eda\u3002\\r\\n    ```rust\\r\\n    // <Fn, A, B> -> Result<A, B>\\r\\n    db.transaction::<_, _, DbErr>(|txn| {\\r\\n        Box::pin(async move {\\r\\n            bakery::ActiveModel {\\r\\n                name: Set(\\"SeaSide Bakery\\".to_owned()),\\r\\n                ..Default::default()\\r\\n            }\\r\\n            .save(txn)\\r\\n            .await?;\\r\\n\\r\\n            bakery::ActiveModel {\\r\\n                name: Set(\\"Top Bakery\\".to_owned()),\\r\\n                ..Default::default()\\r\\n            }\\r\\n            .save(txn)\\r\\n            .await?;\\r\\n\\r\\n            Ok(())\\r\\n        })\\r\\n    })\\r\\n    .await;\\r\\n    ```\\r\\n\\r\\n- RAII \u98ce\u683c\u3002`begin` \u4e8b\u52a1\u540e\u8ddf `commit` \u6216 `rollback`\u3002\u5982\u679c `txn` \u8d85\u51fa\u8303\u56f4\uff0c\u4f1a\u81ea\u52a8\u56de\u6eda\u3002\\r\\n    ```rust\\r\\n    let txn = db.begin().await?;\\r\\n\\r\\n    // \u4f7f\u7528 txn \u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\\r\\n\\r\\n    txn.commit().await?;\\r\\n    ```\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--3 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marco Napetti\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--3 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Chris Tsang\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u6d41\u5f0f\u5904\u7406\\r\\n\\r\\n[[#222](https://github.com/SeaQL/sea-orm/pull/222)] \u5728\u4efb\u4f55 `Select` \u4e0a\u4f7f\u7528\u5f02\u6b65\u6d41\u4ee5\u63d0\u9ad8\u5185\u5b58\u6548\u7387\u3002\\r\\n\\r\\n```rust\\r\\nlet mut stream = Fruit::find().stream(&db).await?;\\r\\n\\r\\nwhile let Some(item) = stream.try_next().await? {\\r\\n    let item: fruit::ActiveModel = item.into();\\r\\n    // \u4f7f\u7528 item \u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\\r\\n}\\r\\n```\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--3 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Marco Napetti\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u4fdd\u5b58\u548c\u5220\u9664\u7684\u81ea\u5b9a\u4e49\u903b\u8f91 API\\r\\n\\r\\n[[#210](https://github.com/SeaQL/sea-orm/pull/210)] \u6211\u4eec\u91cd\u65b0\u5b9a\u4e49\u4e86 `ActiveModelBehavior` \u7684\u7279\u6027\u65b9\u6cd5\u3002\u60a8\u73b0\u5728\u53ef\u4ee5\u5728 `insert`\u3001`update`\u3001`save`\u3001`delete` \u64cd\u4f5c\u4e4b\u524d\u548c\u4e4b\u540e\u6267\u884c\u81ea\u5b9a\u4e49\u9a8c\u8bc1\u3002\u5982\u679c\u60a8\u5728\u4e8b\u52a1\u5185\u90e8\uff0c\u5373\u4f7f\u64cd\u4f5c\u5df2\u7ecf\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u4e2d\u6b62\u64cd\u4f5c\u3002\\r\\n\\r\\n```rust\\r\\nimpl ActiveModelBehavior for ActiveModel {\\r\\n    // \u91cd\u5199\u9ed8\u8ba4\u503c\\r\\n    fn new() -> Self {\\r\\n        Self {\\r\\n            serial: Set(Uuid::new_v4()),\\r\\n            ..ActiveModelTrait::default()\\r\\n        }\\r\\n    }\\r\\n\\r\\n    // \u5728\u63d2\u5165 / \u66f4\u65b0\u4e4b\u524d\u89e6\u53d1\\r\\n    fn before_save(self, insert: bool) -> Result<Self, DbErr> {\\r\\n        if self.price.as_ref() <= &0.0 {\\r\\n            Err(DbErr::Custom(format!(\\r\\n                \\"[before_save] \u65e0\u6548\u7684\u4ef7\u683c\uff0c\u63d2\u5165: {}\\",\\r\\n                insert\\r\\n            )))\\r\\n        } else {\\r\\n            Ok(self)\\r\\n        }\\r\\n    }\\r\\n\\r\\n    // \u5728\u63d2\u5165 / \u66f4\u65b0\u4e4b\u540e\u89e6\u53d1\\r\\n    fn after_save(self, insert: bool) -> Result<Self, DbErr> {\\r\\n        Ok(self)\\r\\n    }\\r\\n\\r\\n    // \u5728\u5220\u9664\u4e4b\u524d\u89e6\u53d1\\r\\n    fn before_delete(self) -> Result<Self, DbErr> {\\r\\n        Ok(self)\\r\\n    }\\r\\n\\r\\n    // \u5728\u5220\u9664\u4e4b\u540e\u89e6\u53d1\\r\\n    fn after_delete(self) -> Result<Self, DbErr> {\\r\\n        Ok(self)\\r\\n    }\\r\\n}\\r\\n```\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--3 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/MuhannadAlrusayni\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/14802524?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Muhannad\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\"col col--3 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Billy Chan\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u751f\u6210\u6d3e\u751f\u81ea `Serialize` / `Deserialize` \u7684\u5b9e\u4f53\u6a21\u578b\\r\\n\\r\\n[[#237](https://github.com/SeaQL/sea-orm/pull/237)] \u60a8\u53ef\u4ee5\u4f7f\u7528 `sea-orm-cli` \u751f\u6210\u540c\u65f6\u6d3e\u751f `serde` \u7684 `Serialize` / `Deserialize` \u7279\u6027\u7684\u5b9e\u4f53\u6a21\u578b\u3002\\r\\n\\r\\n```rust\\r\\n//! SeaORM \u5b9e\u4f53\u3002\u7531 sea-orm-codegen 0.3.0 \u751f\u6210\\r\\n\\r\\nuse sea_orm::entity::prelude:: * ;\\r\\nuse serde::{Deserialize, Serialize};\\r\\n\\r\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Serialize, Deserialize)]\\r\\n#[sea_orm(table_name = \\"cake\\")]\\r\\npub struct Model {\\r\\n    #[sea_orm(primary_key)]\\r\\n    pub id: i32,\\r\\n    #[sea_orm(column_type = \\"Text\\", nullable)]\\r\\n    pub name: Option<String> ,\\r\\n}\\r\\n\\r\\n// ...\\r\\n```\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--3 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/elbart\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/48974?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Tim Eggert\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u5f15\u5165 `DeriveIntoActiveModel` \u5b8f\u548c `IntoActiveValue` \u7279\u6027\\r\\n\\r\\n[[#240](https://github.com/SeaQL/sea-orm/pull/240)] \u5f15\u5165\u4e86\u4e00\u79cd\u65b0\u7684\u6d3e\u751f\u5b8f `DeriveIntoActiveModel`\uff0c\u7528\u4e8e\u5728\u7ed3\u6784\u4f53\u4e0a\u5b9e\u73b0 `IntoActiveModel`\u3002\u5f53\u60a8\u521b\u5efa\u4ec5\u5305\u542b\u6a21\u578b\u90e8\u5206\u5b57\u6bb5\u7684\u81ea\u5b9a\u4e49\u7ed3\u6784\u4f53\u65f6\uff0c\u8fd9\u975e\u5e38\u6709\u7528\uff0c\u4f8b\u5982\u5728 REST API \u4e2d\u4f5c\u4e3a\u8868\u5355\u63d0\u4ea4\u3002\\r\\n\\r\\n`IntoActiveValue` \u7279\u6027\u5141\u8bb8\u5c06 `Option<T>` \u8f6c\u6362\u4e3a `ActiveValue<T>`\uff0c\u65b9\u6cd5\u4e3a `into_active_value`\u3002\\r\\n\\r\\n```rust\\r\\n// \u6309\u7167\u5e38\u89c4\u5b9a\u4e49\u6a21\u578b\\r\\n#[derive(Clone, Debug, PartialEq, DeriveModel, DeriveActiveModel)]\\r\\n#[sea_orm(table_name = \\"users\\")]\\r\\npub struct Model {\\r\\n    pub id: Uuid,\\r\\n    pub created_at: DateTimeWithTimeZone,\\r\\n    pub updated_at: DateTimeWithTimeZone,\\r\\n    pub email: String,\\r\\n    pub password: String,\\r\\n    pub full_name: Option<String>,\\r\\n    pub phone: Option<String>,\\r\\n}\\r\\n\\r\\n// \u521b\u5efa\u4e00\u4e2a\u7701\u7565\u67d0\u4e9b\u5b57\u6bb5\u7684\u65b0\u7ed3\u6784\u4f53\\r\\n#[derive(DeriveIntoActiveModel)]\\r\\npub struct NewUser {\\r\\n    // id\u3001created_at \u548c updated_at \u5728\u8be5\u7ed3\u6784\u4f53\u4e2d\u88ab\u7701\u7565\uff0c\\r\\n    // \u5e76\u5c06\u59cb\u7ec8\u4e3a `ActiveValue::unset`\\r\\n    pub email: String,\\r\\n    pub password: String,\\r\\n    // \u5168\u540d\u901a\u5e38\u662f\u53ef\u9009\u7684\uff0c\u4f46\u5728\u8fd9\u91cc\u53ef\u4ee5\u662f\u5fc5\u9700\u7684\\r\\n    pub full_name: String,\\r\\n    // Option \u5b9e\u73b0\u4e86 `IntoActiveValue`\uff0c\u5728 `None` \u65f6\u5c06\u4e3a `unset`\\r\\n    pub phone: Option<String>,\\r\\n}\\r\\n\\r\\n#[derive(DeriveIntoActiveModel)]\\r\\npub struct UpdateUser {\\r\\n    // Option<Option<T>> \u5141\u8bb8 Some(None) \u5c06\u5217\u66f4\u65b0\u4e3a NULL\\r\\n    pub phone: Option<Option<String>>,\\r\\n}\\r\\n```\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"row\\">\\r\\n    <div class=\\"col col--3 margin-bottom--md\\">\\r\\n        <div class=\\"avatar\\">\\r\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Acidic9\\">\\r\\n                <img src=\\"https://avatars.githubusercontent.com/u/16362377?v=4\\" />\\r\\n            </a>\\r\\n            <div class=\\"avatar__intro\\">\\r\\n                <div class=\\"avatar__name\\">\\r\\n                    Ari Seyhun\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u6784\u5efa\u3002\\r\\n\\r\\n\u8fd9\u662f SeaORM [`0.4.x`](https://github.com/SeaQL/sea-orm/milestone/4) \u7684\u8def\u7ebf\u56fe\u3002"},{"id":"2021-10-01-whats-new-in-0.2.4","metadata":{"permalink":"/blog/2021-10-01-whats-new-in-0.2.4","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-10-01-whats-new-in-0.2.4.md","source":"@site/blog/2021-10-01-whats-new-in-0.2.4.md","title":"SeaORM 0.2.4 \u65b0\u7279\u6027","description":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u53d1\u5e03 SeaORM 0.2.4\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9\uff1a","date":"2021-10-01T00:00:00.000Z","formattedDate":"October 1, 2021","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":2.085,"hasTruncateMarker":false,"authors":[{"name":"SeaQL \u56e2\u961f","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png"}],"frontMatter":{"slug":"2021-10-01-whats-new-in-0.2.4","title":"SeaORM 0.2.4 \u65b0\u7279\u6027","author":"SeaQL \u56e2\u961f","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"prevItem":{"title":"SeaORM 0.3.0 \u65b0\u7279\u6027","permalink":"/blog/2021-10-15-whats-new-in-0.3.0"},"nextItem":{"title":"\u4ecb\u7ecd SeaORM \ud83d\udc1a","permalink":"/blog/2021-09-20-introducing-sea-orm"}},"content":"\ud83c\udf89 \u6211\u4eec\u5f88\u9ad8\u5174\u5730\u53d1\u5e03 SeaORM [`0.2.4`](https://github.com/SeaQL/sea-orm/releases/tag/0.2.4)\uff01\u4ee5\u4e0b\u662f\u4e00\u4e9b\u529f\u80fd\u4eae\u70b9\uff1a\\r\\n\\r\\n## \u81ea\u5b9a\u4e49\u9009\u62e9\u5217\u8868\u7684\u66f4\u597d\u4f53\u9a8c\\r\\n\\r\\n[[#208](https://github.com/SeaQL/sea-orm/pull/208)] \u4f7f\u7528 [Select::into_values](https://docs.rs/sea-orm/0.2.4/sea_orm/entity/prelude/struct.Select.html#method.into_values) \u5feb\u901f\u9009\u62e9\u81ea\u5b9a\u4e49\u5217\u5217\u8868\u5e76\u89e3\u6784\u4e3a\u5143\u7ec4\u3002\\r\\n\\r\\n```rust\\r\\nuse sea_orm::{entity::*, query::*, tests_cfg::cake, DeriveColumn, EnumIter};\\r\\n\\r\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveColumn)]\\r\\nenum QueryAs {\\r\\n    CakeName, // \u86cb\u7cd5\u540d\u79f0\\r\\n    NumOfCakes, // \u86cb\u7cd5\u6570\u91cf\\r\\n}\\r\\n\\r\\nlet res: Vec<(String, i64)> = cake::Entity::find()\\r\\n    .select_only()\\r\\n    .column_as(cake::Column::Name, QueryAs::CakeName)\\r\\n    .column_as(cake::Column::Id.count(), QueryAs::NumOfCakes)\\r\\n    .group_by(cake::Column::Name)\\r\\n    .into_values::<_, QueryAs>()\\r\\n    .all(&db)\\r\\n    .await?;\\r\\n\\r\\nassert_eq!(\\r\\n    res,\\r\\n    vec![(\\"Chocolate Forest\\".to_owned(), 2i64)]\\r\\n);\\r\\n```\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"col col--3 margin-bottom--md\\">\\r\\n    <div class=\\"avatar\\">\\r\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/MuhannadAlrusayni\\">\\r\\n            <img src=\\"https://avatars.githubusercontent.com/u/14802524?v=4\\" />\\r\\n        </a>\\r\\n        <div class=\\"avatar__intro\\">\\r\\n            <div class=\\"avatar__name\\">\\r\\n                Muhannad\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u91cd\u547d\u540d\u5217\u540d\u548c\u5217\u679a\u4e3e\u53d8\u4f53\\r\\n\\r\\n[[#209](https://github.com/SeaQL/sea-orm/pull/209)] \u91cd\u547d\u540d\u6a21\u578b\u5c5e\u6027\u7684\u5217\u540d\u548c\u679a\u4e3e\u53d8\u4f53\uff0c\u7279\u522b\u662f\u5728\u5217\u540d\u662f Rust \u5173\u952e\u5b57\u65f6\u975e\u5e38\u6709\u7528\u3002\\r\\n\\r\\n```rust\\r\\nmod my_entity {\\r\\n    use sea_orm::entity::prelude::*;\\r\\n\\r\\n    #[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\r\\n    #[sea_orm(table_name = \\"my_entity\\")]\\r\\n    pub struct Model {\\r\\n        #[sea_orm(primary_key, enum_name = \\"IdentityColumn\\", column_name = \\"id\\")]\\r\\n        pub id: i32, // \u4e3b\u952e ID\\r\\n        #[sea_orm(column_name = \\"type\\")]\\r\\n        pub type_: String, // \u7c7b\u578b\\r\\n    }\\r\\n\\r\\n    //...\\r\\n}\\r\\n\\r\\nassert_eq!(my_entity::Column::IdentityColumn.to_string().as_str(), \\"id\\");\\r\\nassert_eq!(my_entity::Column::Type.to_string().as_str(), \\"type\\");\\r\\n```\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"container\\">\\r\\n    <div class=\\"row\\">\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Billy Chan\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u6761\u4ef6\u6811\u4e2d\u7684 `not`\\r\\n\\r\\n[[#145](https://github.com/SeaQL/sea-query/pull/145)] \u4f7f\u7528 [Condition](https://docs.rs/sea-query/0.16.5/sea_query/query/struct.Condition.html) \u6784\u5efa\u590d\u6742\u7684\u6761\u4ef6\u6811\u3002\\r\\n\\r\\n```rust\\r\\nuse sea_orm::{entity::*, query::*, tests_cfg::cake, sea_query::Expr, DbBackend};\\r\\n\\r\\nassert_eq!(\\r\\n    cake::Entity::find()\\r\\n        .filter(\\r\\n            Condition::all()\\r\\n                .add(\\r\\n                    Condition::all()\\r\\n                        .not()\\r\\n                        .add(Expr::val(1).eq(1))\\r\\n                        .add(Expr::val(2).eq(2))\\r\\n                )\\r\\n                .add(\\r\\n                    Condition::any()\\r\\n                        .add(Expr::val(3).eq(3))\\r\\n                        .add(Expr::val(4).eq(4))\\r\\n                )\\r\\n        )\\r\\n        .build(DbBackend::Postgres)\\r\\n        .to_string(),\\r\\n    r#\\"SELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\" WHERE (NOT (1 = 1 AND 2 = 2)) AND (3 = 3 OR 4 = 4)\\"#\\r\\n);\\r\\n```\\r\\n\\r\\n\u8d21\u732e\u8005\uff1a\\r\\n\\r\\n<div class=\\"container\\">\\r\\n    <div class=\\"row\\">\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nitnelave\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/796633?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        nitnelave\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/6xzo\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/36180574?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        6xzo\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n## \u793e\u533a\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u793e\u533a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u6784\u5efa\u3002\\r\\n\\r\\n\u8fd9\u662f SeaORM [`0.3.x`](https://github.com/SeaQL/sea-orm/milestone/3) \u7684\u8def\u7ebf\u56fe\u3002"},{"id":"2021-09-20-introducing-sea-orm","metadata":{"permalink":"/blog/2021-09-20-introducing-sea-orm","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-09-20-introducing-sea-orm.md","source":"@site/blog/2021-09-20-introducing-sea-orm.md","title":"\u4ecb\u7ecd SeaORM \ud83d\udc1a","description":"\u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u5411 Rust \u793e\u533a\u4ecb\u7ecd SeaORM 0.2.2\u3002\u81ea 0.1.0 \u4ee5\u6765\uff0c\u6211\u4eec\u5f88\u9ad8\u5174\u6536\u5230\u4e86\u6765\u81ea\u4f18\u79c0\u7684\u5f00\u53d1\u8005\u5bf9 SeaQuery \u548c SeaORM \u7684\u53cd\u9988\u548c\u8d21\u732e\u3002","date":"2021-09-20T00:00:00.000Z","formattedDate":"September 20, 2021","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":4.875,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL \u56e2\u961f","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2021-09-20-introducing-sea-orm","title":"\u4ecb\u7ecd SeaORM \ud83d\udc1a","author":"Chris Tsang","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"prevItem":{"title":"SeaORM 0.2.4 \u65b0\u7279\u6027","permalink":"/blog/2021-10-01-whats-new-in-0.2.4"},"nextItem":{"title":"\u53d1\u5e03\u6a21\u578b","permalink":"/blog/2021-08-30-release-model"}},"content":"\u6211\u4eec\u5f88\u9ad8\u5174\u4eca\u5929\u5411 Rust \u793e\u533a\u4ecb\u7ecd SeaORM [`0.2.2`](https://github.com/SeaQL/sea-orm/releases/tag/0.2.2)\u3002\u81ea `0.1.0` \u4ee5\u6765\uff0c\u6211\u4eec\u5f88\u9ad8\u5174\u6536\u5230\u4e86\u6765\u81ea\u4f18\u79c0\u7684\u5f00\u53d1\u8005\u5bf9 SeaQuery \u548c SeaORM \u7684\u53cd\u9988\u548c\u8d21\u732e\u3002\\r\\n\\r\\nRust \u662f\u4e00\u95e8\u53ef\u4ee5\u7528\u6765\u6784\u5efa\u4efb\u4f55\u4e1c\u897f\u7684\u4f18\u79c0\u8bed\u8a00\u3002\u5e38\u89c1\u7684\u95ee\u7b54\u4e4b\u4e00\u662f \u201c\u6211\u4eec\u662f\u5426\u5df2\u7ecf\u6709 Web\uff1f\u201d \u5982\u679c\u8bf4 Rocket\uff08\u6216\u60a8\u559c\u6b22\u7684\u4efb\u4f55 Web \u6846\u67b6\uff09\u662f Rust \u7684 Rails\uff0c\u90a3\u4e48 SeaORM \u5c31\u662f Rust \u7684 ActiveRecord\u3002\\r\\n\\r\\nSeaORM \u662f\u4e00\u4e2a\u4ece\u96f6\u5f00\u59cb\u6784\u5efa\u7684\u5f02\u6b65 ORM\uff0c\u65e8\u5728\u4e0e\u5f02\u6b65\u751f\u6001\u7cfb\u7edf\u826f\u597d\u534f\u4f5c\uff0c\u65e0\u8bba\u662f actix\u3001async-std\u3001tokio \u8fd8\u662f\u4efb\u4f55\u57fa\u4e8e\u8fd9\u4e9b\u4e4b\u4e0a\u7684 Web \u6846\u67b6\u3002\\r\\n\\r\\n\u8ba9\u6211\u4eec\u5feb\u901f\u4e86\u89e3\u4e00\u4e0b SeaORM\u3002\\r\\n\\r\\n## \u5f02\u6b65\\r\\n\\r\\n\u4ee5\u4e0b\u662f\u5982\u4f55\u5e76\u884c\u6267\u884c\u591a\u4e2a\u67e5\u8be2\uff1a\\r\\n\\r\\n```rust\\r\\n// \u5e76\u884c\u6267\u884c\u591a\u4e2a\u67e5\u8be2\\r\\nlet cakes_and_fruits: (Vec<cake::Model>, Vec<fruit::Model>) =\\r\\n    futures::try_join!(Cake::find().all(&db), Fruit::find().all(&db))?;\\r\\n```\\r\\n\\r\\n## \u52a8\u6001\\r\\n\\r\\n\u60a8\u53ef\u4ee5\u4f7f\u7528 SeaQuery \u6784\u5efa\u590d\u6742\u7684\u67e5\u8be2\u800c\u65e0\u9700\u4e0e ORM \u62b5\u6297\uff1a\\r\\n\\r\\n```rust\\r\\n// \u8f7b\u677e\u6784\u5efa\u5b50\u67e5\u8be2\\r\\nlet cakes_with_filling: Vec<cake::Model> = cake::Entity::find()\\r\\n    .filter(\\r\\n        Condition::any().add(\\r\\n            cake::Column::Id.in_subquery(\\r\\n                Query::select()\\r\\n                    .column(cake_filling::Column::CakeId)\\r\\n                    .from(cake_filling::Entity)\\r\\n                    .to_owned(),\\r\\n            ),\\r\\n        ),\\r\\n    )\\r\\n    .all(&db)\\r\\n    .await?;\\r\\n```\\r\\n\\r\\n[\u66f4\u591a\u5173\u4e8e SeaQuery \u7684\u5185\u5bb9](https://docs.rs/sea-query/*/sea_query/)\\r\\n\\r\\n## \u53ef\u6d4b\u8bd5\\r\\n\\r\\n\u8981\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u6211\u4eec\u7684\u6a21\u62df\u63a5\u53e3\uff1a\\r\\n\\r\\n```rust\\r\\n// \u8bbe\u7f6e\u6a21\u62df\u8fde\u63a5\\r\\nlet db = MockDatabase::new(DbBackend::Postgres)\\r\\n    .append_query_results(vec![\\r\\n        vec![\\r\\n            cake::Model {\\r\\n                id: 1,\\r\\n                name: \\"New York Cheese\\".to_owned(),\\r\\n            },\\r\\n        ],\\r\\n    ])\\r\\n    .into_connection();\\r\\n\\r\\n// \u6267\u884c\u60a8\u7684\u5e94\u7528\u903b\u8f91\\r\\nassert_eq!(\\r\\n    cake::Entity::find().one(&db).await?,\\r\\n    Some(cake::Model {\\r\\n        id: 1,\\r\\n        name: \\"New York Cheese\\".to_owned(),\\r\\n    })\\r\\n);\\r\\n\\r\\n// \u4e0e\u9884\u671f\u7684\u4e8b\u52a1\u65e5\u5fd7\u8fdb\u884c\u6bd4\u8f83\\r\\nassert_eq!(\\r\\n    db.into_transaction_log(),\\r\\n    vec![\\r\\n        Transaction::from_sql_and_values(\\r\\n            DbBackend::Postgres,\\r\\n            r#\\"SELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\" LIMIT $1\\"#,\\r\\n            vec![1u64.into()]\\r\\n        ),\\r\\n    ]\\r\\n);\\r\\n```\\r\\n\\r\\n[\u66f4\u591a\u5173\u4e8e\u6d4b\u8bd5\u7684\u4fe1\u606f](https://www.sea-ql.org/SeaORM/docs/write-test/mock)\\r\\n\\r\\n## \u9762\u5411\u670d\u52a1\\r\\n\\r\\n\u8fd9\u662f\u4e00\u4e2a\u5e26\u6709\u5206\u9875\u7684 `Rocket` \u5904\u7406\u7a0b\u5e8f\u793a\u4f8b\uff1a\\r\\n\\r\\n```rust\\r\\n#[get(\\"/?<page>&<posts_per_page>\\")]\\r\\nasync fn list(\\r\\n    conn: Connection<Db>,\\r\\n    page: Option<usize>,\\r\\n    per_page: Option<usize>,\\r\\n) -> Template {\\r\\n    // \u8bbe\u7f6e\u9875\u9762\u7f16\u53f7\u548c\u6bcf\u9875\u9879\u76ee\\r\\n    let page = page.unwrap_or(1);\\r\\n    let per_page = per_page.unwrap_or(10);\\r\\n\\r\\n    // \u8bbe\u7f6e\u5206\u9875\u5668\\r\\n    let paginator = Post::find()\\r\\n        .order_by_asc(post::Column::Id)\\r\\n        .paginate(&conn, per_page);\\r\\n    let num_pages = paginator.num_pages().await.unwrap();\\r\\n\\r\\n    // \u83b7\u53d6\u5206\u9875\u7684\u5e16\u5b50\\r\\n    let posts = paginator\\r\\n        .fetch_page(page - 1)\\r\\n        .await\\r\\n        .expect(\\"\u65e0\u6cd5\u83b7\u53d6\u5e16\u5b50\\");\\r\\n\\r\\n    Template::render(\\r\\n        \\"index\\",\\r\\n        context! {\\r\\n            page: page,\\r\\n            per_page: per_page,\\r\\n            posts: posts,\\r\\n            num_pages: num_pages,\\r\\n        },\\r\\n    )\\r\\n}\\r\\n```\\r\\n\\r\\n[\u5b8c\u6574\u7684 Rocket \u793a\u4f8b](https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example)\\r\\n\\r\\n\u6211\u4eec\u4e5f\u6b63\u5728\u4e3a\u5176\u4ed6 Web \u6846\u67b6\u6784\u5efa\u66f4\u591a\u793a\u4f8b\u3002\\r\\n\\r\\n## \u4eba\u5458\\r\\n\\r\\nSeaQL \u662f\u4e00\u4e2a\u4ee5\u793e\u533a\u4e3a\u9a71\u52a8\u7684\u9879\u76ee\u3002\u6211\u4eec\u6b22\u8fce\u60a8\u53c2\u4e0e\u3001\u8d21\u732e\uff0c\u5171\u540c\u4e3a Rust \u7684\u672a\u6765\u52aa\u529b\u3002\\r\\n\\r\\n### \u6838\u5fc3\u6210\u5458\\r\\n\\r\\n<div class=\\"container\\">\\r\\n    <div class=\\"row\\">\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Chris Tsang\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Billy Chan\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n### \u8d21\u732e\u8005\\r\\n\\r\\n\u4f5c\u4e3a\u793c\u8c8c\uff0c\u8fd9\u91cc\u5217\u51fa\u4e86 SeaQL \u7684\u65e9\u671f\u8d21\u732e\u8005\uff08\u6309\u5b57\u6bcd\u987a\u5e8f\uff09\uff1a\\r\\n\\r\\n<div class=\\"container\\">\\r\\n    <div class=\\"row\\">\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Acidic9\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/16362377?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Ari Seyhun\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/MozarellaMan\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/48062697?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Ayomide Bamidele\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/benarmstead\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/70973680?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Ben Armstead\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/bobbyng626\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/67236456?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Bobby Ng\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/scrblue\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1524936?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Daniel Lyne\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Hirtol\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/55356909?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Hirtol\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Follpvosten\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/22855787?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Sylvie Rinner\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Marco Napetti\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/code-mm\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/43041831?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Markus Merklinger\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/MuhannadAlrusayni\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/14802524?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Muhannad\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nitnelave\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/796633?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        nitnelave\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/duchainer\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/11084784?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Rapha\xebl Ducha\xeene\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/RemiKalbe\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/8604600?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        R\xe9mi Kalbe\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\"col col--3 margin-bottom--md\\">\\r\\n            <div class=\\"avatar\\">\\r\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/samsamai\\">\\r\\n                    <img src=\\"https://avatars.githubusercontent.com/u/3764355?v=4\\" />\\r\\n                </a>\\r\\n                <div class=\\"avatar__intro\\">\\r\\n                    <div class=\\"avatar__name\\">\\r\\n                        Sam Samai\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>"},{"id":"2021-08-30-release-model","metadata":{"permalink":"/blog/2021-08-30-release-model","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-08-30-release-model.md","source":"@site/blog/2021-08-30-release-model.md","title":"\u53d1\u5e03\u6a21\u578b","description":"\u4eca\u5929\u6211\u4eec\u5c06\u6982\u8ff0\u5373\u5c06\u5230\u6765\u7684\u53d1\u5e03\u8ba1\u5212\u3002","date":"2021-08-30T00:00:00.000Z","formattedDate":"August 30, 2021","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":1.325,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL \u56e2\u961f","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2021-08-30-release-model","title":"\u53d1\u5e03\u6a21\u578b","author":"Chris Tsang","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"prevItem":{"title":"\u4ecb\u7ecd SeaORM \ud83d\udc1a","permalink":"/blog/2021-09-20-introducing-sea-orm"},"nextItem":{"title":"Hello World","permalink":"/blog/2021-08-07-hello-world"}},"content":"\u4eca\u5929\u6211\u4eec\u5c06\u6982\u8ff0\u5373\u5c06\u5230\u6765\u7684\u53d1\u5e03\u8ba1\u5212\u3002\\r\\n\\r\\nRust \u7684\u53e3\u53f7\u4e4b\u4e00\u662f [Stability Without Stagnation](https://doc.rust-lang.org/book/appendix-07-nightly-rust.html#stability-without-stagnation)\uff0c\u800c SeaQL \u7684\u7406\u89e3\u662f \'\u8fdb\u6b65\u800c\u975e\u505c\u6ede\'\u3002\\r\\n\\r\\n\u5728\u8fbe\u5230 `1.0` \u4e4b\u524d\uff0c\u6211\u4eec\u5c06\u6bcf\u5468\u53d1\u5e03\u7248\u672c\uff0c\u878d\u5165\u6700\u65b0\u7684\u66f4\u6539\u548c\u5408\u5e76\u7684\u62c9\u53d6\u8bf7\u6c42\u3002\u6bcf\u4e2a\u6708\u6700\u591a\u4f1a\u6709\u4e00\u6b21\u4e0d\u517c\u5bb9\u7684\u7248\u672c\u53d1\u5e03\uff0c\u56e0\u6b64\u4f60\u53ef\u4ee5\u671f\u5f85\u5728 2021 \u5e74 9 \u6708\u53d1\u5e03 `0.2`\uff0c\u5728 2022 \u5e74 4 \u6708\u53d1\u5e03 `0.9`\u3002\u5230\u65f6\u5019\u6211\u4eec\u5c06\u51b3\u5b9a\u4e0b\u4e00\u4e2a\u7248\u672c\u662f\u589e\u91cf\u66f4\u65b0\u7684 `0.10` \u8fd8\u662f\u7a33\u5b9a\u7684 `1.0`\u3002\\r\\n\\r\\n\u4e4b\u540e\uff0c\u5c06\u6bcf\u5e74\u63a8\u51fa\u4e00\u6b21\u91cd\u5927\u7248\u672c\u3002\u56e0\u6b64\u4f60\u53ef\u80fd\u5728 2023 \u5e74\u671f\u5f85 `2.0` \u7684\u53d1\u5e03\u3002\\r\\n\\r\\n\u6240\u6709\u8fd9\u4e9b\u90fd\u53ea\u6709\u5728\u7a33\u5b9a\u7684\u57fa\u7840\u8bbe\u65bd\u4e0b\u624d\u80fd\u5b9e\u73b0\u3002\u867d\u7136\u6211\u4eec\u6709\u4e00\u4e2a [\u6d4b\u8bd5\u5957\u4ef6](https://github.com/SeaQL/sea-orm/actions)\uff0c\u4f46\u5176\u8986\u76d6\u7387\u53ef\u80fd\u6c38\u8fdc\u4e0d\u591f\u3002\u5982\u679c\u67d0\u4e2a\u7279\u6027\u5bf9\u4f60\u5f88\u91cd\u8981\uff0c\u6211\u4eec\u5f3a\u70c8\u5e0c\u671b\u4f60\u80fd\u5411 SeaORM \u63d0\u4ea4\u6d4b\u8bd5\u7528\u4f8b\u3002\\r\\n\\r\\n\u6211\u4eec\u5e0c\u671b\u6eda\u52a8\u53d1\u5e03\u6a21\u578b\u80fd\u591f\u4e3a\u793e\u533a\u63d0\u4f9b\u52a8\u529b\uff0c\u5e76\u63a8\u52a8\u6211\u4eec\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u5411\u524d\u53d1\u5c55\u3002"},{"id":"2021-08-07-hello-world","metadata":{"permalink":"/blog/2021-08-07-hello-world","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-08-07-hello-world.md","source":"@site/blog/2021-08-07-hello-world.md","title":"Hello World","description":"\u7ecf\u8fc7 8 \u4e2a\u6708\u7684\u4fdd\u5bc6\uff0cSeaORM \u73b0\u5728\u5df2\u7ecf\u516c\u5f00\uff01","date":"2021-08-07T00:00:00.000Z","formattedDate":"August 7, 2021","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":0.445,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL \u56e2\u961f","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2021-08-07-hello-world","title":"Hello World","author":"Chris Tsang","author_title":"SeaQL \u56e2\u961f","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"prevItem":{"title":"\u53d1\u5e03\u6a21\u578b","permalink":"/blog/2021-08-30-release-model"},"nextItem":{"title":"Welcome to SeaQL","permalink":"/blog/2021-07-01-welcome"}},"content":"\u7ecf\u8fc7 [8 \u4e2a\u6708\u7684\u4fdd\u5bc6](https://github.com/SeaQL/sea-query/discussions/9)\uff0cSeaORM \u73b0\u5728\u5df2\u7ecf\u516c\u5f00\uff01\\r\\n\\r\\nRust \u7684\u5f02\u6b65\u751f\u6001\u7cfb\u7edf\u65e0\u7591\u6b63\u5728\u84ec\u52c3\u53d1\u5c55\uff0cTokio \u5728\u4e00\u5468\u524d [\u5ba3\u5e03\u4e86 Axum](https://tokio.rs/blog/2021-07-announcing-axum)\u3002\\r\\n\\r\\n\u6211\u4eec\u73b0\u5728\u6b63\u5fd9\u4e8e\u505a\u6700\u540e\u7684\u8c03\u6574\uff0c\u4ee5\u8fce\u63a5 9 \u6708\u7684\u516c\u544a\u3002\\r\\n\\r\\n\u5982\u679c\u4f60\u521a\u521a\u53d1\u73b0\u6211\u4eec\uff0c\u6b22\u8fce\uff01\u6211\u4eec\u8bda\u631a\u5730\u9080\u8bf7\u4f60\u6210\u4e3a\u6211\u4eec\u7684 Alpha \u6d4b\u8bd5\u8005\u3002"},{"id":"2021-07-01-welcome","metadata":{"permalink":"/blog/2021-07-01-welcome","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-07-01-welcome.md","source":"@site/blog/2021-07-01-welcome.md","title":"Welcome to SeaQL","description":"One year ago, when we were writing data processing algorithms in Rust, we needed an async library to interface with a database. Back then, there weren\'t many choices. So we have to write our own.","date":"2021-07-01T00:00:00.000Z","formattedDate":"July 1, 2021","tags":[{"label":"news","permalink":"/blog/tags/news"}],"readingTime":0.925,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4"}],"frontMatter":{"slug":"2021-07-01-welcome","title":"Welcome to SeaQL","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"prevItem":{"title":"Hello World","permalink":"/blog/2021-08-07-hello-world"}},"content":"One year ago, when we were writing data processing algorithms in Rust, we needed an async library to interface with a database. Back then, there weren\'t many choices. So we have to write our own.\\r\\n\\r\\nDecember last year, we released [SeaQuery](https://github.com/SeaQL/sea-query), and received welcoming responses from the community. We decided to push the project further and develop a full blown async ORM.\\r\\n\\r\\nIt has been a bumpy ride, as designing an async ORM requires working within and sometimes around Rust\'s unique type system. After several iterations of experimentation, I think we\'ve attained a balance between static & dynamic and compile-time & run-time that it offers benefits of the Rust language while still be familiar and easy-to-work-with for those who come from other languages.\\r\\n\\r\\nSeaORM is tentative to be released in Sep 2021 and stabilize in May 2022. We hope that SeaORM will become a go-to choice for working with databases in Rust and that the Rust language will be adopted by more organizations in building applications.\\r\\n\\r\\nIf you are intrigued like I do, please stay in touch and join the community.\\r\\n\\r\\n[Share your thoughts here](https://github.com/SeaQL/seaql.github.io/discussions/3)."}]}')}}]);